/*! Cortona3D Solo 1.8.4, Copyright (c) 2015-2021 Paragraphics, Ltd. | b9cffb900ad56839a78a07e82c1d01d6 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Cortona3DSolo=t():e.Cortona3DSolo=t()}(window,(function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=30)}([function(e,t){function n(e){return"function"==typeof e}function i(e){return"number"==typeof e}function r(e){return"string"==typeof e}function o(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}e.exports={extend:function(e){function t(){}return t.prototype=e.prototype||e,new t},defineClass:function(e,t,n){function i(){}e&&(i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t,t.superClass=e);if(n)for(var r in n)n.hasOwnProperty(r)&&(t.prototype[r]=n[r]);return t},expand:function e(t){for(var i=1;i<arguments.length;i++){var r=arguments[i];if(o(r))for(var a in r)r.hasOwnProperty(a)&&(a in t?n(t[a])&&n(r[a])||Array.isArray(t[a])&&Array.isArray(r[a])?t[a]=r[a]:o(t[a])&&o(r[a])&&r[a]!=={}?e(t[a],r[a]):t[a]=r[a]:t[a]=r[a])}return t},RGB:function(e,t,n){return e+256*t+65536*n},fromHTMLColor:function(e){if(i(e))return e;if(r(e)&&e.match(/^#?([0-9A-F]{6})$/i))return parseInt(RegExp.$1.substr(4,2)+RegExp.$1.substr(2,2)+RegExp.$1.substr(0,2),16);return 0},loadScript:function(e,t,n,i){var r=document.createElement("script");r.type="text/javascript",r.src=e,a(t)||(r.async=!!t);return r.onload=n,r.onerror=i,document.getElementsByTagName("head")[0].appendChild(r),r},loadStyleSheet:function(e,t,n){var i=document.createElement("link");return i.href=e,i.rel="stylesheet",i.type="text/css",i.onload=t,i.onerror=n,document.getElementsByTagName("head")[0].appendChild(i),i},isFunction:n,isNumber:i,isString:r,isObject:o,isPromise:function(e){return"[object Promise]"===Object.prototype.toString.call(e)||o(e)&&n(e.then)&&n(e.catch)&&n(e.finally)},isHTMLNode:function(e){return e instanceof Node||/^\[object HTML.*Element]$/.test(Object.prototype.toString.call(e))},isUndefined:a,detectAMDLoader:function(){return n(window.requirejs)&&n(window.define)&&window.define.amd},getBaseURL:function(e){"string"!=typeof e&&(e="#");if(!/^[a-z]+\:\/\//i.test(e)&&!/^\/\//.test(e)&&/^[a-z]+\:/i.test(e))return"";var t=document.createElement("a");return t.href=e,t=t.cloneNode(!1),(e=t.protocol+"//"+t.host+("/"===t.pathname[0]?"":"/")+t.pathname).substring(0,e.lastIndexOf("/")+1)},loadResource:function(e,t,n){return new Promise((function(i,r){var o=window.URL||window.webkitURL||window,a=new XMLHttpRequest;function s(e){window.Cortona3DSolo&&window.Cortona3DSolo.dispatch("app.onProgress",0,-1,e.type)}t&&a.overrideMimeType&&a.overrideMimeType(t),a.open("GET",e,!0),n&&(a.responseType=n),a.onprogress=function(e){var t=e.loaded,n=e.lengthComputable||void 0===e.lengthComputable?e.total:0;window.Cortona3DSolo&&window.Cortona3DSolo.dispatch("app.onProgress",t,n,e.type)},a.onabort=s,a.onerror=s,a.onload=s,a.onreadystatechange=function(t){a.readyState===XMLHttpRequest.DONE&&(/^blob:/i.test(e)&&o.revokeObjectURL(e),200===a.status||0===a.status?i(a):r(new Error(e+" "+a.status+" "+a.statusText)))};try{a.send(null)}catch(e){r(e)}}))},toggleClass:function(e,t,n){e&&((n=a(n)?!e.classList.contains(t):n)?e.classList.add(t):e.classList.remove(t))}},Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)})},function(e,t,n){var i=n(0),r=i.expand,o=n(13),a=0,s={addons:{}},u=!1,l={configureInstance:function(e,t){var i=e||0,r=t||0;(a|=i,a&=~r,s.core)&&(!Module.ccall||Module.runtimeReady&&!l.modelInfo?n(2).once("app.didFinishLoadDocument",(function(){l.configureInstance(i,r)})):Module.ccall("tiramisu_configure","number",["number","number"],[32767&i,32767&r]));if(s.drawing){var o=s.drawing.config.features||0;o|=i,o&=~r,s.drawing.config.features=o,n(6).configure(s.drawing.config)}return a},initialize:function(e,t){var i=t,r=n(2);function o(){u=!0}if("string"==typeof e?(i=e,s.drawing||s.core||r.use("core",{src:i,features:a})):e&&t&&(s.core&&e&&(r.core.canvas=e),r.use("core",{canvas:e,src:t,features:a})),r.once("app.didFinishLoadDocument",o),r.once("app.didFailLoadDocument",o),s.drawing&&(n(6).attach(r.core&&r.core.canvas),!s.core))return(i=i||s.drawing.config.src)?(r.app.drawing.show(!0),new Promise((function(e,t){r.once("app.didFinishLoadDocument",e),r.app.drawing.load(i).catch(t)}))):Promise.resolve({});if(s.core){r.core.canvas&&(r.core.canvas.setAttribute("touch-action","none"),r.core.canvas.style.touchAction="none");var l=n(21).Arguments;return s.tag?l.instanceClass="stella":(i=i||l.document,l.document=i?r.app.util.toUrl(i):URL.createObjectURL(new Blob(["#VRML V2.0 utf8"],{type:"model/vrml"}))),l.features=32767&a,l.contentScaleFactor=window.devicePixelRatio||1,l.toModule(),s.tag?new Promise((function(e,t){r.once("app.firstFrameDidArrive",e)})):new Promise((function(e,t){r.once("core.onError",t),r.once("app.didFinishLoadDocument",e),r.once("app.didFailLoadDocument",t)}))}return Promise.reject(new Error("Solo initialize: nothing to do"))},version:function(){return"1.8.4"},isDocumentLoaded:function(){return u},loadCompanionFile:function(e){return i.loadResource(e,"text/xml").then((function(t){var a,s;return t.responseXML?(s=o(t.responseXML),(a={baseURL:i.getBaseURL(e),options:n(12)(s),interactivity:{json:s}}).specificationName=a.options.SpecID,s.ipc?r(a,{type:"ipc",metadata:n(8)(s.$("ipc/figure/metadata/value"))},n(50)(a.interactivity,a.baseURL)):s.SimulationInteractivity&&r(a,{type:"procedure",metadata:n(8)(s.$("SimulationInteractivity/SimulationInformation/metadata/value"))},n(51)(a.interactivity,a.baseURL)),Promise.resolve(a)):Promise.reject(new Error(e+" empty content"))}))},getResourceUrl:function(e,t){return t&&!/^(data|blob)/i.test(t)?l.util.toUrl(e,t):l.modelInfo&&l.modelInfo.bundleURL?l.util.createResourceURL(e)||l.util.toUrl(e,l.modelInfo.bundleURL):l.util.toUrl(e,l.modelInfo&&l.modelInfo.baseURL)}};Object.defineProperty(l,"DISABLE_DOCUMENT_INTERACTIVITY",{value:1,writable:!1}),Object.defineProperty(l,"DISABLE_PROCEDURE_TEXT_EMISSION",{value:2,writable:!1}),Object.defineProperty(l,"DISABLE_AUDIO",{value:4,writable:!1}),Object.defineProperty(l,"DISABLE_VERTEX_ARRAY_OBJECT_OES",{value:8,writable:!1}),Object.defineProperty(l,"DISABLE_DISCARDABLE_GEOMETRY_DATA",{value:16,writable:!1}),Object.defineProperty(l,"DISABLE_PROPERTY_VALUE_ANIMATIONS",{value:32,writable:!1}),Object.defineProperty(l,"ENABLE_GLES3",{value:64,writable:!1}),Object.defineProperty(l,"DISABLE_ANTIALIASING_GLES3",{value:128,writable:!1}),Object.defineProperty(l,"TRANSPARENT_BACKGROUND",{value:256,writable:!1}),Object.defineProperty(l,"DISABLE_OBJECT_HOVERING",{value:512,writable:!1}),Object.defineProperty(l,"ENABLE_NAVIGATION_FIT_TO_OBJECT",{value:32768,writable:!1}),Object.defineProperty(l,"DISABLE_INTERACTIVITY_XML_EMISSION",{value:65536,writable:!1}),Object.defineProperty(l,"DRAWING_HOTSPOT_HIGHLIGHT_SOLID",{value:131072,writable:!1}),Object.defineProperty(l,"ENABLE_AUTO_SWITCHING_DISPLAY_MODE",{value:262144,writable:!1}),Object.defineProperty(l,"ENABLE_VRML_TEXT_NODE",{value:524288,writable:!1}),Object.defineProperty(l,"DISABLE_DRAWING_INTERACTIVITY_OPTIMIZATION",{value:1048576,writable:!1}),e.exports={app:l,checkConfigureOptions:function(e){return!!(a&e)},getInstanceConfigurationFlags:function(){return a},getDocumentURL:function(){var e="";if(s.core){var t=Module.arguments;if(t){var n=t.indexOf("document");n>=0&&(e=t[n+1])}}return e},usedModules:s}},function(e,t,n){var i=n(0).expand,r=n(10).EventEmitter;e.exports=i(new r,window.Cortona3DSolo||{})},function(e,t,n){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var i in n)r(n,i)&&(e[i]=n[i])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var o={arraySet:function(e,t,n,i,r){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+i),r);else for(var o=0;o<i;o++)e[r+o]=t[n+o]},flattenChunks:function(e){var t,n,i,r,o,a;for(i=0,t=0,n=e.length;t<n;t++)i+=e[t].length;for(a=new Uint8Array(i),r=0,t=0,n=e.length;t<n;t++)o=e[t],a.set(o,r),r+=o.length;return a}},a={arraySet:function(e,t,n,i,r){for(var o=0;o<i;o++)e[r+o]=t[n+o]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,o)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,a))},t.setTyped(i)},function(e,t,n){"use strict";var i,r=function(){return void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i},o=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),a=[];function s(e){for(var t=-1,n=0;n<a.length;n++)if(a[n].identifier===e){t=n;break}return t}function u(e,t){for(var n={},i=[],r=0;r<e.length;r++){var o=e[r],u=t.base?o[0]+t.base:o[0],l=n[u]||0,c="".concat(u," ").concat(l);n[u]=l+1;var d=s(c),f={css:o[1],media:o[2],sourceMap:o[3]};-1!==d?(a[d].references++,a[d].updater(f)):a.push({identifier:c,updater:v(f,t),references:1}),i.push(c)}return i}function l(e){var t=document.createElement("style"),i=e.attributes||{};if(void 0===i.nonce){var r=n.nc;r&&(i.nonce=r)}if(Object.keys(i).forEach((function(e){t.setAttribute(e,i[e])})),"function"==typeof e.insert)e.insert(t);else{var a=o(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}return t}var c,d=(c=[],function(e,t){return c[e]=t,c.filter(Boolean).join("\n")});function f(e,t,n,i){var r=n?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(e.styleSheet)e.styleSheet.cssText=d(t,r);else{var o=document.createTextNode(r),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function h(e,t,n){var i=n.css,r=n.media,o=n.sourceMap;if(r?e.setAttribute("media",r):e.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}var p=null,m=0;function v(e,t){var n,i,r;if(t.singleton){var o=m++;n=p||(p=l(t)),i=f.bind(null,n,o,!1),r=f.bind(null,n,o,!0)}else n=l(t),i=h.bind(null,n,t),r=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else r()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=r());var n=u(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var i=0;i<n.length;i++){var r=s(n[i]);a[r].references--}for(var o=u(e,t),l=0;l<n.length;l++){var c=s(n[l]);0===a[c].references&&(a[c].updater(),a.splice(c,1))}n=o}}}},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",i=e[3];if(!i)return n;if(t&&"function"==typeof btoa){var r=(a=i,s=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),u="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(u," */")),o=i.sources.map((function(e){return"/*# sourceURL=".concat(i.sourceRoot||"").concat(e," */")}));return[n].concat(o).concat([r]).join("\n")}var a,s,u;return[n].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,i){"string"==typeof e&&(e=[[null,e,""]]);var r={};if(i)for(var o=0;o<this.length;o++){var a=this[o][0];null!=a&&(r[a]=!0)}for(var s=0;s<e.length;s++){var u=[].concat(e[s]);i&&r[u[0]]||(n&&(u[2]?u[2]="".concat(n," and ").concat(u[2]):u[2]=n),t.push(u))}},t}},function(e,t,n){var i=n(2),r=n(1).app,o=n(0).expand;n(37);var a,s=n(39),u=n(1).usedModules,l=!1,c="",d="#FF0000",f="#FF0000",h=i.app.ui.css();function p(){h.render({".cortona3dsolo-svg svg a[name]":{"& .hover":{stroke:d,strokeOpacity:1},"& path.hover":{strokeWidth:"2px"},"& text.hover":{strokeWidth:".1em"},"& path.selected":{fill:f,fillOpacity:.8}}})}o(s,{delegate:{onProgress:function(e,t){i.dispatch("app.onProgress",e,t)},didClickHotspot:function(e,t){i.dispatch("app.drawing.didSelectHotspot",e,t)},didEnterHotspot:function(e){s.toggleHotspotClass(e,"hover",!0),i.dispatch("app.drawing.didEnterHotspot",e),i.dispatch("app.drawing.didHoverHotspot",e,!0)},didLeaveHotspot:function(e){s.toggleHotspotClass(e,"hover",!1),i.dispatch("app.drawing.didLeaveHotspot",e),i.dispatch("app.drawing.didHoverHotspot",e,!1)},didCallContextMenu:function(e,t,n,r){i.dispatch("app.drawing.didCallContextMenu",e,t,n,r)},onZoomChange:function(e){i.dispatch("app.drawing.didChangeScale",e)}}});var m=n(7).getDocumentBaseURL,v={drawing:{load:function(e){if(i.dispatch("app.drawing.didStartLoadDrawing",e),"function"==typeof r.drawing.willStartLoadDrawing){var t=r.drawing.willStartLoadDrawing.call(r,e);"string"==typeof t&&(e=t)}return(e=e.replace(/\.(cgm|tiff?)$/i,".svg"))==c?(i.dispatch("app.drawing.didFinishLoadDrawing",e),Promise.resolve()):(r.util&&r.util.createResourceURL&&(o=r.util.createResourceURL(e)),o||/^[^\/]+:/.test(o=e)||(o=m()+o),new Promise((function(t,l){s.delegate.didCompleteLoad=function(o){if(r.util&&r.util.revokeResourceURL&&r.util.revokeResourceURL(o),c=e,a=null,i.dispatch("app.drawing.didFinishLoadDrawing",e),!u.core){var s={type:"drawing",baseURL:n(7).getBaseURL(e)};i.dispatch("app.didFinishLoadDocument",s)}t()},s.delegate.failedLoadingDocument=function(t,n){r.util&&r.util.revokeResourceURL&&r.util.revokeResourceURL(t),c=e,a=null,s.unload(),i.dispatch("app.drawing.didFailLoadDrawing",e,n),u.core||i.dispatch("app.didFailLoadDocument",n),l(new Error("Image loading failed: status "+n))},s.load(o,/\.(png|jpe?g|jpe|gif)$/i.test(e))})));var o},show:function(e){s[(e=void 0===e||!!e)?"show":"hide"](),l=!!e},isVisible:function(){return l},selectHotspot:function(e,t){""===(t=void 0===t?f:t)?s.unselect(e):s.select(e,t)},highlightHotspot:function(e,t){""===(t=void 0===t?d:t)?s.unhighlight(e):s.highlight(e,t)},hoverHotspot:function(e){a&&s.toggleHotspotClass(a,"hover",!1),e&&s.toggleHotspotClass(e,"hover",!0),a=e},toggleHotspotClass:function(e,t,n){return s.toggleHotspotClass(e,t,n)},reset:function(){s.reset()},scaleBy:function(e){s.scaleBy(e)},shiftBy:function(e,t){s.shiftBy(e,t)},hotspotExists:function(e){return Array.prototype.slice.call(s.svg.getElementsByTagName("a")).some((function(t){return t.getAttribute("name")===e}))}}};Object.defineProperties(v.drawing,{svg:{get:function(){return s.svg},enumerable:!0},hoverColor:{get:function(){return d},set:function(e){d=e,p()},enumerable:!0},selectionColor:{get:function(){return f},set:function(e){f=e,p()},enumerable:!0},maxScale:{get:function(){return s.maxScale},set:function(e){s.maxScale=e},enumerable:!0},minScale:{get:function(){return s.minScale},set:function(e){s.minScale=e},enumerable:!0}}),e.exports={configure:function(e){return d=(e=e||{}).hotspotHoverColor||e.hotspotHighlightColor||d,f=e.hotspotSelectionColor||f,s.enableHoverFilling=(e.features||0)&r.DRAWING_HOTSPOT_HIGHLIGHT_SOLID,s.enableDrawingOptimization=!((e.features||0)&r.DISABLE_DRAWING_INTERACTIVITY_OPTIMIZATION),e.maxScale&&(s.maxScale=+e.maxScale),e.minScale&&(s.minScale=+e.minScale),p(),v},attach:function(e){if(!s.svg){var t=u.drawing.config.element||u.drawing.config.svg||function(){var t,i=document.createElementNS("http://www.w3.org/2000/svg","svg"),r=e;return e?t=e.parentNode:(n(20),r=document.body.firstChild,t=document.body),t.insertBefore(i,r),i}();t.parentNode.style.overflow="hidden",s.initialize(t)}},getSVGViewer:function(){return s}}},function(e,t,n){var i=n(0).getBaseURL;e.exports={getBaseURL:i,getDocumentBaseURL:function(){return i(n(1).getDocumentURL())}}},function(e,t){e.exports=function(e){var t={};return e.forEach((function(e){var n=e.$text();/^(Yes|No)$/.test(n)&&(n="Yes"==n),t[e.$attr("decl-id")]=n})),t}},function(e,t,n){var i=n(0);function r(e){for(var t,n,i,r=[],o=/(^[^.#]+|\.[^.#]+|#[^.#]+)/g;o.exec(e);)switch((t=RegExp.$1).substring(0,1)){case".":r.push(t.substr(1));break;case"#":n=t.substr(1);break;default:i=t}return{id:n,classList:r,tag:i||"div"}}function o(e){var t=document.createElement("div");return t.innerHTML=e,Array.prototype.slice.call(t.childNodes)}e.exports={parseSelector:r,createElement:function(e,t,n){var a,s={},u=function(e){return i.isObject(e)&&i.isFunction(e.forEach)},l=i.isObject(t)&&!u(t)&&!(t instanceof Node);function c(e){i.isString(e)?a.append.apply(a,o(e)):u(e)?e.forEach(c):a.append(e||"")}if(s=r(e),a=document.createElement(s.tag),Array.prototype.slice.call(arguments,l?2:1).forEach(c),l)for(var d in t)if(!i.isUndefined(t[d]))if(t.hasOwnProperty(d)){if("dataset"===d&&i.isObject(t[d]))for(var f in t.dataset)i.isUndefined(t.dataset[f])||t.dataset.hasOwnProperty(f)&&(a.dataset[f]=t.dataset[f]);a[d]=t[d]}else a.setAttribute(d,t[d]);return s.id&&(a.id=s.id),s.classList.forEach((function(e){a.classList.add(e)})),a},createElementsFromHTML:o}},function(e,t,n){"use strict";var i,r="object"==typeof Reflect?Reflect:null,o=r&&"function"==typeof r.apply?r.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};i=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,e.exports.once=function(e,t){return new Promise((function(n,i){function r(n){e.removeListener(t,o),i(n)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",r),n([].slice.call(arguments))}g(e,t,o,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&g(e,"error",t,n)}(e,r,{once:!0})}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var u=10;function l(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function d(e,t,n,i){var r,o,a,s;if(l(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),a=o[t]),void 0===a)a=o[t]=n,++e._eventsCount;else if("function"==typeof a?a=o[t]=i?[n,a]:[a,n]:i?a.unshift(n):a.push(n),(r=c(e))>0&&a.length>r&&!a.warned){a.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=a.length,s=u,console&&console.warn&&console.warn(s)}return e}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(e,t,n){var i={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},r=f.bind(i);return r.listener=n,i.wrapFn=r,r}function p(e,t,n){var i=e._events;if(void 0===i)return[];var r=i[t];return void 0===r?[]:"function"==typeof r?n?[r.listener||r]:[r]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(r):v(r,r.length)}function m(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function v(e,t){for(var n=new Array(t),i=0;i<t;++i)n[i]=e[i];return n}function g(e,t,n,i){if("function"==typeof e.on)i.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function r(o){i.once&&e.removeEventListener(t,r),n(o)}))}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");u=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,r=this._events;if(void 0!==r)i=i&&void 0===r.error;else if(!i)return!1;if(i){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var u=r[e];if(void 0===u)return!1;if("function"==typeof u)o(u,this,t);else{var l=u.length,c=v(u,l);for(n=0;n<l;++n)o(c[n],this,t)}return!0},s.prototype.addListener=function(e,t){return d(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return d(this,e,t,!0)},s.prototype.once=function(e,t){return l(t),this.on(e,h(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return l(t),this.prependListener(e,h(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,i,r,o,a;if(l(t),void 0===(i=this._events))return this;if(void 0===(n=i[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(r=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){a=n[o].listener,r=o;break}if(r<0)return this;0===r?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,r),1===n.length&&(i[e]=n[0]),void 0!==i.removeListener&&this.emit("removeListener",e,a||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,i;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var r,o=Object.keys(n);for(i=0;i<o.length;++i)"removeListener"!==(r=o[i])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this},s.prototype.listeners=function(e){return p(this,e,!0)},s.prototype.rawListeners=function(e){return p(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):m.call(e,t)},s.prototype.listenerCount=m,s.prototype.eventNames=function(){return this._eventsCount>0?i(this._events):[]}},function(e,t,n){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(e,t){e.exports=function(e){var t={};function n(e){var n=e.$text();/^(Yes|No)$/.test(n)&&(n="Yes"==n),t[e.$attr("name")]=n}if(e.ipc)e.$("ipc/figure/media").filter((function(e){return 1==e.$attr("id")}))[0].$("value").forEach(n);else if(e.SimulationInteractivity){e.$("SimulationInteractivity/SimulationInformation/Options/Value").forEach(n);var i=e.SimulationInteractivity.SimulationInformation;t.PublisherVersion=i.$text("ExporterVersionNumber"),t.SpecID=i.$text("SpecID"),t.SpecVersion=i.$text("SpecVersion"),t.SpecLang=i.$text("SpecLang"),t.ModificationDate=i.$text("ModificationDate"),t.DocumentFile=i.$text("DocumentFile")}return t}},function(e,t,n){var i=n(36);e.exports=function e(t){var n=new i;if(1==t.nodeType&&(n["@name"]=t.nodeName,t.attributes.length>0)){n["@attributes"]={};for(var r=0;r<t.attributes.length;r++){var o=t.attributes.item(r);n["@attributes"][o.nodeName]=o.nodeValue}}var a=!1,s=!1,u=!1,l=!1;if(t.hasChildNodes()){n["@children"]=[];for(var c=0;c<t.childNodes.length;c++){var d=t.childNodes.item(c),f=d.nodeName,h=1===d.nodeType,p=3===d.nodeType,m=e(d);if(a=a||p,u=u||!p,l=l||4===d.nodeType,void 0===n[f])n[f]=m;else{if(void 0===n[f].push){s=s||p;var v=n[f];n[f]=[],n[f].push(v)}n[f].push(m)}(h||p&&m)&&n["@children"].push(m)}s&&(n["#text"]=n["#text"].join("").replace(/^[\s\r\n]*$/,"")),a&&u&&delete n["#text"],l&&(n["#text"]=n["#cdata-section"],delete n["#cdata-section"])}else"string"==typeof t.nodeValue&&(n=t.nodeValue.replace(/^[\s\r\n]*$/,""));return n}},function(e,t,n){var i;
/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */!function(r,o,a,s){"use strict";var u,l=["","webkit","Moz","MS","ms","o"],c=o.createElement("div"),d=Math.round,f=Math.abs,h=Date.now;function p(e,t,n){return setTimeout(w(e,n),t)}function m(e,t,n){return!!Array.isArray(e)&&(v(e,n[t],n),!0)}function v(e,t,n){var i;if(e)if(e.forEach)e.forEach(t,n);else if(void 0!==e.length)for(i=0;i<e.length;)t.call(n,e[i],i,e),i++;else for(i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i,e)}function g(e,t,n){var i="DEPRECATED METHOD: "+t+"\n"+n+" AT \n";return function(){var t=new Error("get-stack-trace"),n=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=r.console&&(r.console.warn||r.console.log);return o&&o.call(r.console,i,n),e.apply(this,arguments)}}u="function"!=typeof Object.assign?function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(null!=i)for(var r in i)i.hasOwnProperty(r)&&(t[r]=i[r])}return t}:Object.assign;var b=g((function(e,t,n){for(var i=Object.keys(t),r=0;r<i.length;)(!n||n&&void 0===e[i[r]])&&(e[i[r]]=t[i[r]]),r++;return e}),"extend","Use `assign`."),y=g((function(e,t){return b(e,t,!0)}),"merge","Use `assign`.");function _(e,t,n){var i,r=t.prototype;(i=e.prototype=Object.create(r)).constructor=e,i._super=r,n&&u(i,n)}function w(e,t){return function(){return e.apply(t,arguments)}}function E(e,t){return"function"==typeof e?e.apply(t&&t[0]||void 0,t):e}function T(e,t){return void 0===e?t:e}function S(e,t,n){v(k(t),(function(t){e.addEventListener(t,n,!1)}))}function O(e,t,n){v(k(t),(function(t){e.removeEventListener(t,n,!1)}))}function x(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function M(e,t){return e.indexOf(t)>-1}function k(e){return e.trim().split(/\s+/g)}function A(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var i=0;i<e.length;){if(n&&e[i][n]==t||!n&&e[i]===t)return i;i++}return-1}function C(e){return Array.prototype.slice.call(e,0)}function I(e,t,n){for(var i=[],r=[],o=0;o<e.length;){var a=t?e[o][t]:e[o];A(r,a)<0&&i.push(e[o]),r[o]=a,o++}return n&&(i=t?i.sort((function(e,n){return e[t]>n[t]})):i.sort()),i}function R(e,t){for(var n,i,r=t[0].toUpperCase()+t.slice(1),o=0;o<l.length;){if((i=(n=l[o])?n+r:t)in e)return i;o++}}var P=1;function L(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||r}var j="ontouchstart"in r,N=void 0!==R(r,"PointerEvent"),D=j&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),B=["x","y"],z=["clientX","clientY"];function U(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){E(e.options.enable,[e])&&n.handler(t)},this.init()}function F(e,t,n){var i=n.pointers.length,r=n.changedPointers.length,o=1&t&&i-r==0,a=12&t&&i-r==0;n.isFirst=!!o,n.isFinal=!!a,o&&(e.session={}),n.eventType=t,function(e,t){var n=e.session,i=t.pointers,r=i.length;n.firstInput||(n.firstInput=V(t));r>1&&!n.firstMultiple?n.firstMultiple=V(t):1===r&&(n.firstMultiple=!1);var o=n.firstInput,a=n.firstMultiple,s=a?a.center:o.center,u=t.center=$(i);t.timeStamp=h(),t.deltaTime=t.timeStamp-o.timeStamp,t.angle=X(s,u),t.distance=G(s,u),function(e,t){var n=t.center,i=e.offsetDelta||{},r=e.prevDelta||{},o=e.prevInput||{};1!==t.eventType&&4!==o.eventType||(r=e.prevDelta={x:o.deltaX||0,y:o.deltaY||0},i=e.offsetDelta={x:n.x,y:n.y});t.deltaX=r.x+(n.x-i.x),t.deltaY=r.y+(n.y-i.y)}(n,t),t.offsetDirection=H(t.deltaX,t.deltaY);var l=Y(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=l.x,t.overallVelocityY=l.y,t.overallVelocity=f(l.x)>f(l.y)?l.x:l.y,t.scale=a?(c=a.pointers,d=i,G(d[0],d[1],z)/G(c[0],c[1],z)):1,t.rotation=a?function(e,t){return X(t[1],t[0],z)+X(e[1],e[0],z)}(a.pointers,i):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,function(e,t){var n,i,r,o,a=e.lastInterval||t,s=t.timeStamp-a.timeStamp;if(8!=t.eventType&&(s>25||void 0===a.velocity)){var u=t.deltaX-a.deltaX,l=t.deltaY-a.deltaY,c=Y(s,u,l);i=c.x,r=c.y,n=f(c.x)>f(c.y)?c.x:c.y,o=H(u,l),e.lastInterval=t}else n=a.velocity,i=a.velocityX,r=a.velocityY,o=a.direction;t.velocity=n,t.velocityX=i,t.velocityY=r,t.direction=o}(n,t);var c,d;var p=e.element;x(t.srcEvent.target,p)&&(p=t.srcEvent.target);t.target=p}(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function V(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:d(e.pointers[n].clientX),clientY:d(e.pointers[n].clientY)},n++;return{timeStamp:h(),pointers:t,center:$(t),deltaX:e.deltaX,deltaY:e.deltaY}}function $(e){var t=e.length;if(1===t)return{x:d(e[0].clientX),y:d(e[0].clientY)};for(var n=0,i=0,r=0;r<t;)n+=e[r].clientX,i+=e[r].clientY,r++;return{x:d(n/t),y:d(i/t)}}function Y(e,t,n){return{x:t/e||0,y:n/e||0}}function H(e,t){return e===t?1:f(e)>=f(t)?e<0?2:4:t<0?8:16}function G(e,t,n){n||(n=B);var i=t[n[0]]-e[n[0]],r=t[n[1]]-e[n[1]];return Math.sqrt(i*i+r*r)}function X(e,t,n){n||(n=B);var i=t[n[0]]-e[n[0]],r=t[n[1]]-e[n[1]];return 180*Math.atan2(r,i)/Math.PI}U.prototype={handler:function(){},init:function(){this.evEl&&S(this.element,this.evEl,this.domHandler),this.evTarget&&S(this.target,this.evTarget,this.domHandler),this.evWin&&S(L(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&O(this.element,this.evEl,this.domHandler),this.evTarget&&O(this.target,this.evTarget,this.domHandler),this.evWin&&O(L(this.element),this.evWin,this.domHandler)}};var q={mousedown:1,mousemove:2,mouseup:4};function K(){this.evEl="mousedown",this.evWin="mousemove mouseup",this.pressed=!1,U.apply(this,arguments)}_(K,U,{handler:function(e){var t=q[e.type];1&t&&0===e.button&&(this.pressed=!0),2&t&&1!==e.which&&(t=4),this.pressed&&(4&t&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:"mouse",srcEvent:e}))}});var Z={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},W={2:"touch",3:"pen",4:"mouse",5:"kinect"},J="pointerdown",Q="pointermove pointerup pointercancel";function ee(){this.evEl=J,this.evWin=Q,U.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}r.MSPointerEvent&&!r.PointerEvent&&(J="MSPointerDown",Q="MSPointerMove MSPointerUp MSPointerCancel"),_(ee,U,{handler:function(e){var t=this.store,n=!1,i=e.type.toLowerCase().replace("ms",""),r=Z[i],o=W[e.pointerType]||e.pointerType,a="touch"==o,s=A(t,e.pointerId,"pointerId");1&r&&(0===e.button||a)?s<0&&(t.push(e),s=t.length-1):12&r&&(n=!0),s<0||(t[s]=e,this.callback(this.manager,r,{pointers:t,changedPointers:[e],pointerType:o,srcEvent:e}),n&&t.splice(s,1))}});var te={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function ne(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,U.apply(this,arguments)}function ie(e,t){var n=C(e.touches),i=C(e.changedTouches);return 12&t&&(n=I(n.concat(i),"identifier",!0)),[n,i]}_(ne,U,{handler:function(e){var t=te[e.type];if(1===t&&(this.started=!0),this.started){var n=ie.call(this,e,t);12&t&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:e})}}});var re={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function oe(){this.evTarget="touchstart touchmove touchend touchcancel",this.targetIds={},U.apply(this,arguments)}function ae(e,t){var n=C(e.touches),i=this.targetIds;if(3&t&&1===n.length)return i[n[0].identifier]=!0,[n,n];var r,o,a=C(e.changedTouches),s=[],u=this.target;if(o=n.filter((function(e){return x(e.target,u)})),1===t)for(r=0;r<o.length;)i[o[r].identifier]=!0,r++;for(r=0;r<a.length;)i[a[r].identifier]&&s.push(a[r]),12&t&&delete i[a[r].identifier],r++;return s.length?[I(o.concat(s),"identifier",!0),s]:void 0}_(oe,U,{handler:function(e){var t=re[e.type],n=ae.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:e})}});function se(){U.apply(this,arguments);var e=w(this.handler,this);this.touch=new oe(this.manager,e),this.mouse=new K(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function ue(e,t){1&e?(this.primaryTouch=t.changedPointers[0].identifier,le.call(this,t)):12&e&&le.call(this,t)}function le(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY};this.lastTouches.push(n);var i=this.lastTouches;setTimeout((function(){var e=i.indexOf(n);e>-1&&i.splice(e,1)}),2500)}}function ce(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var r=this.lastTouches[i],o=Math.abs(t-r.x),a=Math.abs(n-r.y);if(o<=25&&a<=25)return!0}return!1}_(se,U,{handler:function(e,t,n){var i="touch"==n.pointerType,r="mouse"==n.pointerType;if(!(r&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(i)ue.call(this,t,n);else if(r&&ce.call(this,n))return;this.callback(e,t,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var de=R(c.style,"touchAction"),fe=void 0!==de,he=function(){if(!fe)return!1;var e={},t=r.CSS&&r.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){e[n]=!t||r.CSS.supports("touch-action",n)})),e}();function pe(e,t){this.manager=e,this.set(t)}pe.prototype={set:function(e){"compute"==e&&(e=this.compute()),fe&&this.manager.element.style&&he[e]&&(this.manager.element.style[de]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return v(this.manager.recognizers,(function(t){E(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))})),function(e){if(M(e,"none"))return"none";var t=M(e,"pan-x"),n=M(e,"pan-y");if(t&&n)return"none";if(t||n)return t?"pan-x":"pan-y";if(M(e,"manipulation"))return"manipulation";return"auto"}(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented)t.preventDefault();else{var i=this.actions,r=M(i,"none")&&!he.none,o=M(i,"pan-y")&&!he["pan-y"],a=M(i,"pan-x")&&!he["pan-x"];if(r){var s=1===e.pointers.length,u=e.distance<2,l=e.deltaTime<250;if(s&&u&&l)return}if(!a||!o)return r||o&&6&n||a&&24&n?this.preventSrc(t):void 0}},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};function me(e){this.options=u({},this.defaults,e||{}),this.id=P++,this.manager=null,this.options.enable=T(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function ve(e){return 16&e?"cancel":8&e?"end":4&e?"move":2&e?"start":""}function ge(e){return 16==e?"down":8==e?"up":2==e?"left":4==e?"right":""}function be(e,t){var n=t.manager;return n?n.get(e):e}function ye(){me.apply(this,arguments)}function _e(){ye.apply(this,arguments),this.pX=null,this.pY=null}function we(){ye.apply(this,arguments)}function Ee(){me.apply(this,arguments),this._timer=null,this._input=null}function Te(){ye.apply(this,arguments)}function Se(){ye.apply(this,arguments)}function Oe(){me.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function xe(e,t){return(t=t||{}).recognizers=T(t.recognizers,xe.defaults.preset),new Me(e,t)}me.prototype={defaults:{},set:function(e){return u(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(m(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=be(e,this)).id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return m(e,"dropRecognizeWith",this)||(e=be(e,this),delete this.simultaneous[e.id]),this},requireFailure:function(e){if(m(e,"requireFailure",this))return this;var t=this.requireFail;return-1===A(t,e=be(e,this))&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(m(e,"dropRequireFailure",this))return this;e=be(e,this);var t=A(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){var t=this,n=this.state;function i(n){t.manager.emit(n,e)}n<8&&i(t.options.event+ve(n)),i(t.options.event),e.additionalEvent&&i(e.additionalEvent),n>=8&&i(t.options.event+ve(n))},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=32},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(33&this.requireFail[e].state))return!1;e++}return!0},recognize:function(e){var t=u({},e);if(!E(this.options.enable,[this,t]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(t),30&this.state&&this.tryEmit(t)},process:function(e){},getTouchAction:function(){},reset:function(){}},_(ye,me,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,i=6&t,r=this.attrTest(e);return i&&(8&n||!r)?16|t:i||r?4&n?8|t:2&t?4|t:2:32}}),_(_e,ye,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var e=this.options.direction,t=[];return 6&e&&t.push("pan-y"),24&e&&t.push("pan-x"),t},directionTest:function(e){var t=this.options,n=!0,i=e.distance,r=e.direction,o=e.deltaX,a=e.deltaY;return r&t.direction||(6&t.direction?(r=0===o?1:o<0?2:4,n=o!=this.pX,i=Math.abs(e.deltaX)):(r=0===a?1:a<0?8:16,n=a!=this.pY,i=Math.abs(e.deltaY))),e.direction=r,n&&i>t.threshold&&r&t.direction},attrTest:function(e){return ye.prototype.attrTest.call(this,e)&&(2&this.state||!(2&this.state)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=ge(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),_(we,ye,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||2&this.state)},emit:function(e){if(1!==e.scale){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}}),_(Ee,me,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,i=e.distance<t.threshold,r=e.deltaTime>t.time;if(this._input=e,!i||!n||12&e.eventType&&!r)this.reset();else if(1&e.eventType)this.reset(),this._timer=p((function(){this.state=8,this.tryEmit()}),t.time,this);else if(4&e.eventType)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(e){8===this.state&&(e&&4&e.eventType?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=h(),this.manager.emit(this.options.event,this._input)))}}),_(Te,ye,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||2&this.state)}}),_(Se,ye,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return _e.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return 30&n?t=e.overallVelocity:6&n?t=e.overallVelocityX:24&n&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&f(t)>this.options.velocity&&4&e.eventType},emit:function(e){var t=ge(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),_(Oe,me,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return["manipulation"]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,i=e.distance<t.threshold,r=e.deltaTime<t.time;if(this.reset(),1&e.eventType&&0===this.count)return this.failTimeout();if(i&&r&&n){if(4!=e.eventType)return this.failTimeout();var o=!this.pTime||e.timeStamp-this.pTime<t.interval,a=!this.pCenter||G(this.pCenter,e.center)<t.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,a&&o?this.count+=1:this.count=1,this._input=e,0===this.count%t.taps)return this.hasRequireFailures()?(this._timer=p((function(){this.state=8,this.tryEmit()}),t.interval,this),2):8}return 32},failTimeout:function(){return this._timer=p((function(){this.state=32}),this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),xe.VERSION="2.0.7",xe.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[Te,{enable:!1}],[we,{enable:!1},["rotate"]],[Se,{direction:6}],[_e,{direction:6},["swipe"]],[Oe],[Oe,{event:"doubletap",taps:2},["tap"]],[Ee]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function Me(e,t){var n;this.options=u({},xe.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=new((n=this).options.inputClass||(N?ee:D?oe:j?se:K))(n,F),this.touchAction=new pe(this,this.options.touchAction),ke(this,!0),v(this.options.recognizers,(function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])}),this)}function ke(e,t){var n,i=e.element;i.style&&(v(e.options.cssProps,(function(r,o){n=R(i.style,o),t?(e.oldCssProps[n]=i.style[n],i.style[n]=r):i.style[n]=e.oldCssProps[n]||""})),t||(e.oldCssProps={}))}Me.prototype={set:function(e){return u(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t=this.session;if(!t.stopped){var n;this.touchAction.preventDefaults(e);var i=this.recognizers,r=t.curRecognizer;(!r||r&&8&r.state)&&(r=t.curRecognizer=null);for(var o=0;o<i.length;)n=i[o],2===t.stopped||r&&n!=r&&!n.canRecognizeWith(r)?n.reset():n.recognize(e),!r&&14&n.state&&(r=t.curRecognizer=n),o++}},get:function(e){if(e instanceof me)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(m(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(m(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,n=A(t,e);-1!==n&&(t.splice(n,1),this.touchAction.update())}return this},on:function(e,t){if(void 0!==e&&void 0!==t){var n=this.handlers;return v(k(e),(function(e){n[e]=n[e]||[],n[e].push(t)})),this}},off:function(e,t){if(void 0!==e){var n=this.handlers;return v(k(e),(function(e){t?n[e]&&n[e].splice(A(n[e],t),1):delete n[e]})),this}},emit:function(e,t){this.options.domEvents&&function(e,t){var n=o.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t,t.target.dispatchEvent(n)}(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var i=0;i<n.length;)n[i](t),i++}},destroy:function(){this.element&&ke(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},u(xe,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:Me,Input:U,TouchAction:pe,TouchInput:oe,MouseInput:K,PointerEventInput:ee,TouchMouseInput:se,SingleTouchInput:ne,Recognizer:me,AttrRecognizer:ye,Tap:Oe,Pan:_e,Swipe:Se,Pinch:we,Rotate:Te,Press:Ee,on:S,off:O,each:v,merge:y,extend:b,assign:u,inherit:_,bindFn:w,prefixed:R}),(void 0!==r?r:"undefined"!=typeof self?self:{}).Hammer=xe,void 0===(i=function(){return xe}.call(t,n,t,e))||(e.exports=i)}(window,document)},function(e,t,n){"use strict";e.exports=function(e,t,n,i){for(var r=65535&e|0,o=e>>>16&65535|0,a=0;0!==n;){n-=a=n>2e3?2e3:n;do{o=o+(r=r+t[i++]|0)|0}while(--a);r%=65521,o%=65521}return r|o<<16|0}},function(e,t,n){"use strict";var i=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();e.exports=function(e,t,n,r){var o=i,a=r+n;e^=-1;for(var s=r;s<a;s++)e=e>>>8^o[255&(e^t[s])];return-1^e}},function(e,t,n){"use strict";var i=n(3),r=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(e){r=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){o=!1}for(var a=new i.Buf8(256),s=0;s<256;s++)a[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;function u(e,t){if(t<65534&&(e.subarray&&o||!e.subarray&&r))return String.fromCharCode.apply(null,i.shrinkBuf(e,t));for(var n="",a=0;a<t;a++)n+=String.fromCharCode(e[a]);return n}a[254]=a[254]=1,t.string2buf=function(e){var t,n,r,o,a,s=e.length,u=0;for(o=0;o<s;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(r=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),u+=n<128?1:n<2048?2:n<65536?3:4;for(t=new i.Buf8(u),a=0,o=0;a<u;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(r=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),n<128?t[a++]=n:n<2048?(t[a++]=192|n>>>6,t[a++]=128|63&n):n<65536?(t[a++]=224|n>>>12,t[a++]=128|n>>>6&63,t[a++]=128|63&n):(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63,t[a++]=128|n>>>6&63,t[a++]=128|63&n);return t},t.buf2binstring=function(e){return u(e,e.length)},t.binstring2buf=function(e){for(var t=new i.Buf8(e.length),n=0,r=t.length;n<r;n++)t[n]=e.charCodeAt(n);return t},t.buf2string=function(e,t){var n,i,r,o,s=t||e.length,l=new Array(2*s);for(i=0,n=0;n<s;)if((r=e[n++])<128)l[i++]=r;else if((o=a[r])>4)l[i++]=65533,n+=o-1;else{for(r&=2===o?31:3===o?15:7;o>1&&n<s;)r=r<<6|63&e[n++],o--;o>1?l[i++]=65533:r<65536?l[i++]=r:(r-=65536,l[i++]=55296|r>>10&1023,l[i++]=56320|1023&r)}return u(l,i)},t.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;n>=0&&128==(192&e[n]);)n--;return n<0||0===n?t:n+a[e[n]]>t?n:t}},function(e,t,n){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(e,t,n){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(e,t,n){var i=n(4),r=n(49);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};i(r,o);e.exports=r.locals||{}},function(e,t,n){var i=n(2),r=n(1).checkConfigureOptions,o=n(0).expand;window.Module=o(window.Module||{},i.core||{}),"object"!=typeof Module.Tiramisu&&(Module.Tiramisu={});var a={toModule:function(){for(var e in Module.arguments=[],this)this.hasOwnProperty(e)&&"function"!=typeof this[e]&&(Module.arguments.push(e),Module.arguments.push(String(this[e])))},features:0};function s(e){this.name="TiramisuLoadingError",this.message=e||""}s.prototype=Object.create(Error.prototype),s.prototype.constructor=s,e.exports={Arguments:a,load:function(e){try{var t=new window.XMLHttpRequest;t.overrideMimeType&&t.overrideMimeType("text/javascript");var n=e||(r(i.app.ENABLE_VRML_TEXT_NODE)?"Cortona3DSoloCoreText.js":"Cortona3DSoloCore.js");"function"==typeof Module.locateFile?n=Module.locateFile(n):Module.memoryInitializerPrefixURL?n=Module.memoryInitializerPrefixURL+n:console.log("No memory initializer prefix URL!"),t.open("GET",n,!0),t.onerror=function(e){Module.onprogress&&Module.onprogress({loaded:0,total:-1,type:e.type}),i.emit("core.onError",new Error(n+" "+t.statusText))},t.onprogress=function(e){Module.onprogress&&Module.onprogress(e)},t.onload=function(e){if(Module.onprogress&&Module.onprogress({loaded:0,total:-1,type:e.type}),200===t.status||0===t.status){var r=document.createElement("script"),o=window.URL||window.webkitURL||window,a=o.createObjectURL(new Blob([t.response]));r.onload=function(){o.revokeObjectURL(a),i.emit("core.onLoad"),window.addEventListener("error",(function(e,t,n,r,o){t!=a&&e.filename!=a||i.emit("core.onError",o||e)}))},r.onerror=function(e){o.revokeObjectURL(a),i.emit("core.onError",new Error(n+" "+e))},r.src=a,document.body.appendChild(r)}else i.emit("core.onError",new Error(n+" "+t.statusText))},t.send(null)}catch(e){throw new s(e.message||e)}}}},function(e,t,n){var i=n(2),r=n(1).app,o=n(0).expand,a=i.app.util.b64toBlob,s=n(23);n(52),n(54);var u=!1;i.core=o(i.core||{},i.config||{});var l=i.core=o({printErr:function(e){e=s(Array.prototype.slice.call(arguments).join(" ")),console.error(e),i.core.lastErrorText=e},print:function(){text=s(Array.prototype.slice.call(arguments).join(" ")),console.log(text)},setStatus:function(e){},didChangeLayout:function(){if(u){var e=i.core.canvas,t=e.clientWidth,n=e.clientHeight;i.app.resize(t,n)}}},i.core);o(i.core,{onprogress:function(e){var t=e.lengthComputable||void 0===e.lengthComputable?e.total:0,n=e.loaded;i.dispatch("app.onProgress",n,t,e.type)},isRuntimeReady:function(){return u},onRuntimeInitialized:function(){setTimeout((function(){var e=Module.Tiramisu;e.VERSION,e.VERSION,e.VERSION,new Date(1e3*e.BUILD_TIME)}),10),u=!0,"function"==typeof l.didChangeLayout&&(window.addEventListener("resize",(function(){i.dispatch("core.didChangeLayout")}),!1),l.didChangeLayout(),i.dispatch("core.didChangeLayout")),r.ui&&r.ui.showCanvas(!1),i.emit("core.onRuntimeInitialized"),i.dispatch("app.onReady")}});e.exports={configure:function(e){e=e||{};var t,s,l={};i.baseURL&&(l.memoryInitializerPrefixURL=i.baseURL,l.filePackagePrefixURL=i.baseURL),(t=e.element||e.canvas||(s=document.createElement("canvas"),n(20),document.body.insertBefore(s,document.body.firstChild),s)).classList.add("cortona3dsolo-canvas");var c=n(21),d=c.Arguments;return Object.defineProperty(Module,"canvas",{value:t,enumerable:!0}),Object.defineProperty(Module,"runtimeReady",{get:function(){return u},enumerable:!0}),function(e){(e=e||{}).features=e.features||0;var t,n,r=window.URL||window.webkitURL||window,o=e.src;if(!o)if(n=document.querySelector("script[type^='application/solo']")){if(e.totalMemory=+n.getAttribute("data-total-memory")||e.totalMemory||64,e.features=e.features|+n.getAttribute("data-features"),!(o=n.getAttribute("src")))return a(n.textContent,"application/zip").then((function(t){return e.src=r.createObjectURL(t),n.parentNode.removeChild(n),e}));e.src=o,n.parentNode.removeChild(n)}else(n=document.querySelector("script[type='model/vrml']"))&&((o=n.getAttribute("src"))?e.src=o:(0!==(t=n.textContent.replace(/^\s+/,"")).indexOf("#VRML V2.0 utf8")&&(t="#VRML V2.0 utf8\n"+t),e.isRAContent=/PROTO\s+ObjectVM/.test(t),e.isViewpointInScene=/Viewpoint\s*{/.test(t),e.isTextInScene=/Text\s*{/.test(t),e.src=r.createObjectURL(new Blob([t],{type:"model/vrml"}))),e.totalMemory=+n.getAttribute("data-total-memory")||e.totalMemory||64,e.features=e.features|+n.getAttribute("data-features"),e.isRAContent||(e.features|=+i.app.DISABLE_DISCARDABLE_GEOMETRY_DATA),e.isTextInScene&&(e.features|=+i.app.ENABLE_VRML_TEXT_NODE),n.parentNode.removeChild(n));return Promise.resolve(e)}(e).then((function(e){e.prefixURL&&(l.memoryInitializerPrefixURL=e.prefixURL,l.filePackagePrefixURL=e.prefixURL),"number"==typeof e.totalMemory&&(l.TOTAL_MEMORY=1024*e.totalMemory*1024),e.features&&r.configureInstance(e.features),o(i.core,l),e.src&&(d.document=i.app.util.toUrl(e.src)),e.features&&(d.features=32767&e.features),d.toModule(),c.load(e.coreURL)})).catch((function(e){i.emit("core.onError",e)})),Module}}},function(e,t){e.exports=function(e){return e.replace(/Tiramis(\s+Emstrangen)?/g,"Cortona3D Solo core")}},function(e,t,n){var i,r,o=n(2),a=Module.Tiramisu,s=n(1).app,u=n(1).checkConfigureOptions,l=n(0),c=l.expand,d=n(7).getBaseURL,f=n(23),h="ontouchstart"in window,p=h&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),m=n(14),v=!1,g=.5,b=.95,y=!1,_=!1,w={};function E(){var e=Module.PanelService.didDrawScene;Module.PanelService.didDrawScene=function(){o.dispatch("core.didDrawAnimationFrame"),e()},Module.Stella&&(i={type:"generic"});var t="generic"===i.type;t||(s.pickerTransparencyThreshold=0),s.ui.showCanvas(t||s.getChildObjects().length>0),o.dispatch("core.didChangeLayout"),s.ui.setBannerImage(s.util.fetchBannerImage())}function T(e){var t=e.match(/^#([0-9a-f]{6})$/i);return t?(t=t[1],parseInt(t.substr(0,2),16)<<16|parseInt(t.substr(2,2),16)<<8|parseInt(t.substr(4,2),16)):(t=e.match(/^#([0-9a-f]{3})$/i))?(t=t[1],17*parseInt(t.charAt(0),16)<<16|17*parseInt(t.charAt(1),16)<<8|17*parseInt(t.charAt(2),16)):-1}function S(e){return"#"+(16777215&e).toString(16).toUpperCase()}function O(e){return[Module.getValue(e,"float"),Module.getValue(e+4,"float"),Module.getValue(e+8,"float")]}function x(e,t,n){var i=0,r=0;if(t){"number"==typeof t&&(t=[t]),r=Module.allocate(4*t.length,"i32",Module.ALLOC_STACK),i=t.length;for(var o=0;o<i;++o)Module.setValue(r+4*o,t[o],"i32")}var a=[r,i].concat(Array.prototype.slice.call(arguments,2).filter((function(e){return void 0!==e}))),s=new Array(a.length).map((function(){return"number"}));Module.ccall(e,"null",s,a)}c(a,{didFinishLoadDocument:function(e){i=e,function(){function e(e){e.stopPropagation()}function t(e){if(!v){var t=e.target,n=t.getBoundingClientRect(),i=e.clientX-n.left,r=e.clientY-n.top;o.dispatch("app.didCallContextMenu",i,r,t),e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()}}function n(e){"mouse"!==e.pointerType&&t(e)}function i(e){var t=e.target.getBoundingClientRect(),n=e.clientX-t.left,i=e.clientY-t.top;obj=s.pickObject(n,i),clearTimeout(r),!obj&&u(s.DISABLE_DISCARDABLE_GEOMETRY_DATA)&&(obj=s.pickObjectChain(n,i),obj&&(obj={handle:obj.chain[obj.chain.length-2]})),obj?s.fitObjectsInView([obj.handle],!0):s.fitSceneInView(!0),e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()}Array.prototype.slice.call(document.getElementsByClassName("cortona3dsolo-popover")).forEach((function(t){t.addEventListener("contextmenu",(function(e){e.preventDefault()}),!1),t.addEventListener("pointerdown",e,!1),t.addEventListener("pointerup",e,!1)}));var a=function(){if("function"!=typeof window.MSGesture)return!1;var e=Module.canvas,t=new MSGesture;function n(e){var t,n,i,r,o;t=e.translationX,n=e.translationY,i=e.scale,r=e.rotation,o=e.detail,Module._tiramisu_microsoftGesture(t,n,i,r,o)}function i(e,t,n){return Module._tiramisu_microsoftPointerUp(e,t,n)}return t.target=e,e.addEventListener("MSHoldVisual",(function(e){e.preventDefault()}),!1),e.addEventListener("MSGestureStart",n,!1),e.addEventListener("MSGestureEnd",n,!1),e.addEventListener("MSGestureChange",n,!1),e.addEventListener("MSInertiaStart",n,!1),e.addEventListener("MSGestureTap",n,!1),e.addEventListener("MSGestureHold",n,!1),e.addEventListener("pointerdown",(function(n){var i,r,o;"mouse"!=n.pointerType?(i=n.pointerId,r=n.offsetX,o=n.offsetY,Module._tiramisu_microsoftPointerDown(i,r,o)&&(e.setPointerCapture(n.pointerId),t.target||(t.target=e),t.addPointer(n.pointerId))):e.setPointerCapture(n.pointerId)}),!1),e.addEventListener("pointerup",(function(e){"mouse"!=e.pointerType&&(e.stopPropagation(),i(e.pointerId,e.offsetX,e.offsetY))}),!1),window.addEventListener("pointerup",(function(t){if("mouse"!=t.pointerType){var n=e.getBoundingClientRect(),r=n.left+window.pageXOffset-document.body.clientLeft,o=n.top+window.pageYOffset-document.body.clientTop;i(t.pointerId,t.pageX-r,t.pageY-o)}}),!1),!0}();if(Module.canvas.addEventListener("contextmenu",t),Module.canvas.addEventListener("pointerdown",(function(){document.activeElement&&document.activeElement.blur&&document.activeElement.blur()})),u(s.ENABLE_NAVIGATION_FIT_TO_OBJECT)){Module.canvas.addEventListener("click",(function(e){var t=+(e.shiftKey&&1)|+(e.ctrlKey&&2)|+(e.altKey&&4);if(4&t){var n=(e.target||e.srcElement).getBoundingClientRect(),i=e.clientX-n.left,o=e.clientY-n.top,a=s.pickObject(i,o);if((!a||!(2&t))&&u(s.DISABLE_DISCARDABLE_GEOMETRY_DATA)&&(a=s.pickObjectChain(i,o))){if(!(2&t)){var l=a.sceneCoord[0],c=a.sceneCoord[1],d=a.sceneCoord[2];return clearTimeout(r),void(r=setTimeout((function(){s.setRotationCenterToPoint(l,c,d),s.centerRotationCenterInView(!0)}),100))}a={handle:a.chain[a.chain.length-2]}}if(a){var f=a.handle;clearTimeout(r),r=setTimeout((function(){s.setRotationCenterToObjects(f),s.centerRotationCenterInView(!0)}),100)}}}),!1);var l=0,c={};if(a)Module.canvas.addEventListener("dblclick",i),Module.canvas.addEventListener("MSGestureTap",(function(e){var t,n;e.detail===e.MSGESTURE_FLAG_BEGIN+e.MSGESTURE_FLAG_END&&(l?(new Date).valueOf()-l<=250?(l=0,t=c,n={x:e.screenX,y:e.screenY},Math.sqrt((t.x-n.x)*(t.x-n.x)+(t.y-n.y)*(t.y-n.y))<100&&i(e)):l=0:(l=(new Date).valueOf(),c.x=e.screenX,c.y=e.screenY))})),Module.canvas.addEventListener("MSGestureHold",(function(e){e.detail&e.MSGESTURE_FLAG_BEGIN?(n(e),v=!0):e.detail&e.MSGESTURE_FLAG_END&&setTimeout((function(){v=!1}),250)}));else{var d={};!1===navigator.pointerEnabled&&(d.inputClass=p?m.TouchInput:h?m.TouchMouseInput:m.MouseInput);var f=new m.Manager(Module.canvas,d),g=new m.Press({time:750}),b=new m.Tap({event:"doubletap",taps:2,threshold:5,posThreshold:100,interval:250});b.recognizeWith(g),g.requireFailure(b),f.add(g),f.add(b),f.set({touchAction:"none"}),f.on("press",(function(e){n({target:e.target,clientX:e.center.x,clientY:e.center.y}),v=!0})),f.on("pressup",(function(){setTimeout((function(){v=!1}),250)})),f.on("doubletap",(function(e){i({target:e.target,clientX:e.center.x,clientY:e.center.y})}))}}}(),e.baseURL="",e.bundleURL||(e.baseURL=d(e.companionFile||n(1).getDocumentURL())),function(e){var t=e.companionFile,n=!u(s.DISABLE_INTERACTIVITY_XML_EMISSION);if(n=(n=n&&!!t)&&("ipc"==e.type||"procedure"==e.type)){var i=s.util.createResourceURL(t)||t;if(i)return s.loadCompanionFile(i).then((function(e){if(e&&e.type){var t={};t[e.type]={interactivity:e.interactivity},c(s,t)}}))}return Promise.resolve()}(e).then((function(){e.type;y=!0,o.dispatch("app.didFinishLoadDocument",e),o.dispatch("app.didAttachDocument",e),_&&(E(),setTimeout((function(){o.dispatch("app.firstFrameDidArrive")}),0))})).catch((function(e){o.dispatch("app.didFailLoadDocument",e),console.error(e)}))},firstFrameDidArrive:function(e){_=!0,(y||Module.Stella)&&(E(),o.dispatch("app.firstFrameDidArrive",e))},didFailLoadDocument:function(e){o.dispatch("app.didFailLoadDocument",f(e))},didClickHyperlink:function(e){o.dispatch("app.didClickHyperlink",e)},willStartNavigateInScene:function(){o.dispatch("app.willStartNavigateInScene")}}),c(a,{util:{wrapStringArray:function(e,t){for(var n=new Array(t),i=0;i<t;++i)n[i]=Module.Pointer_stringify(Module.getValue(e+4*i,"i32"));return n},wrapSheetArray:function(e,t){if(!t)return[];for(var n=new Array(t),i=0;i<t;++i,e+=12)n[i]={id:Module.Pointer_stringify(Module.getValue(e,"i32")),description:Module.Pointer_stringify(Module.getValue(e+4,"i32")),indentationLevel:Module.getValue(e+8,"i32")};return n},unmarshalObjectArray:function(e){if(!e)return[];var t,n,i=[];for(t=0;n=Module.getValue(e+4*t,"i32");++t)i[t]=n;return i},unmarshalFloatArray:function(e,t){switch(t){case 0:return null;case 1:return getValue(e,"float");default:for(var n=new Array(t),i=0;i<t;i++)n[i]=getValue(e+4*i,"float");return n}}}});var M={version:function(){var e=a.VERSION>>24,t=a.VERSION>>16&255,n=65535&a.VERSION;new Date(1e3*a.BUILD_TIME);return"1.8.4 (core: "+[e,t,n].join(".")+")"},resize:function(e,t){Module._tiramisu_resize(e,t)},getObjectName:function(e){return Module.ccall("tiramisu_getObjectName","string",["number"],arguments)},getObjectTypeName:function(e){return Module.ccall("tiramisu_getObjectTypeName","string",["number"],arguments)},getObjectWithName:function(e){return Module.ccall("tiramisu_getObjectWithName","number",["string"],arguments)},isObjectIgnorableByPicker:function(e){return 0!==Module._tiramisu_isObjectIgnorableByPicker(e)},setObjectIgnorableByPicker:function(e,t){Module._tiramisu_setObjectIgnorableByPicker(e,t)},pickObject:function(e,t,n){var i=void 0===n?0:n?2:1;return node=Module._tiramisu_pickObject(e,t,i),node?{handle:node,name:Module.ccall("tiramisu_getObjectName","string",["number"],[node])}:null},pickObjectChain:function(e,t){var n=Module._tiramisu_pickObjectChain(e,t),i=null;return n&&(i={coord:O(n),normal:O(n+12),sceneCoord:O(n+24),sceneNormal:O(n+36),chain:a.util.unmarshalObjectArray(n+48)},Module._free(n)),i},getPickerTransparencyThreshold:function(){var e=Module._tiramisu_getPickerTransparencyThreshold();return e<0&&(e=-1),e>=0&&e<=11755e-42?0:e},setPickerTransparencyThreshold:function(e){return Module._tiramisu_setPickerTransparencyThreshold(e||11755e-42)},addSelectedObjects:function(e,t){x("tiramisu_addSelectedObjects",e,t),o.dispatch("app.didChangeSelection")},setSelectedObjects:function(e,t){x("tiramisu_setSelectedObjects",e,t),o.dispatch("app.didChangeSelection")},getSelectedObjects:function(){var e=Module._tiramisu_getSelectedObjects(),t=a.util.unmarshalObjectArray(e);return Module._free(e),t},setDefaultBackgroundColors:function(e){var t,n=0,i=0,r=Module.Runtime.stackSave();if(e)for("string"==typeof e&&(e=[e]),n=e.length,i=Module.allocate(4*n,"i32",Module.ALLOC_STACK),t=0;t<n;++t)Module.setValue(i+4*t,T(e[t]),"i32");Module._tiramisu_setDefaultBackgroundColors(i,n),Module.Runtime.stackRestore(r)},setMouseDragMode:function(e){Module._tiramisu_setMouseDragMode(e)},setObjectPropertyf:function(e,t,n,r,o,a,u){if(t===s.PROPERTY_VISIBILITY&&"generic"===i.type){var l=0!==Module._tiramisu_isObjectVisibile(e),c=!!r;return e in w||(w[e]=l),l!==c&&(Module._tiramisu_setObjectVisibility(e,c),!0)}return 0!==Module._tiramisu_setObjectPropertyf(e,t,n,r,o,a,u)},getObjectPropertyf:function(e,t){var n=Module.Runtime.stackSave(),i=Module.allocate(16,"float",Module.ALLOC_STACK),r=Module._tiramisu_getObjectPropertyf(e,t,i),o=a.util.unmarshalFloatArray(i,r);return Module.Runtime.stackRestore(n),o},restoreObjectProperty:function(e,t,n){if(t===s.PROPERTY_VISIBILITY&&"generic"===i.type){if(e){if(e in w){var r=0!==Module._tiramisu_isObjectVisibile(e),o=w[e];if(delete w[e],r!==o)return Module._tiramisu_setObjectVisibility(e,o),!0}return!1}for(var a in w)Module._tiramisu_setObjectVisibility(a,w[a]);w={}}return 0!==Module._tiramisu_restoreObjectProperty(e||0,t,n)},getObjectsWithDirtyProperty:function(e){if(e===s.PROPERTY_VISIBILITY&&"generic"===i.type){var t=[];for(var n in w)t.push(n);return t}var r=Module._tiramisu_getObjectsWithDirtyProperty(e),o=a.util.unmarshalObjectArray(r);return Module._free(r),o},isRotationCenterVisible:function(){return 0!==_tiramisu_isRotationCenterVisible()},setRotationCenterVisibility:function(e){Module._tiramisu_setRotationCenterVisibility(e)},setDefaultView:function(e){Module._tiramisu_setDefaultView(e)},alignHorizon:function(e){Module._tiramisu_alignHorizon(e)},jumpToStandardView:function(e,t,n){Module.ccall("tiramisu_jumpToStandardView","null",["string","number","number"],[e,t,n||b])},fitSceneInView:function(e,t){Module._tiramisu_fitObjectsInView(0,-1,e,t||b)},fitSelectedObjectsInView:function(e,t){Module._tiramisu_fitObjectsInView(0,-2,e,t||g)},fitObjectsInView:function(e,t,n){x("tiramisu_fitObjectsInView",(Array.isArray(e)?e:[e]).filter((function(e){return s.getObjectVisibility(e)===s.OBJECT_VISIBILITY_VISIBLE})),t,n||g)},setRotationCenterToScene:function(){Module._tiramisu_setRotationCenterToObjects(0,-1,0)},setRotationCenterToSelectedObjects:function(){Module._tiramisu_setRotationCenterToObjects(0,-2,0)},setRotationCenterToObjects:function(e,t){x("tiramisu_setRotationCenterToObjects",e,0),t&&Module._tiramisu_centerRotationCenterInView(t)},setRotationCenterToPoint:function(e,t,n){Module._tiramisu_setRotationCenterToPoint(e,t,n)},centerRotationCenterInView:function(e){Module._tiramisu_centerRotationCenterInView(e)},resetRotationCenter:function(){Module._tiramisu_resetRotationCenter()},getDocumentInfo:function(){return i&&c({},i)},getOptions:function(){var e,t,n=Module._tiramisu_getOptions(),i=0;if(n){for(e={},i=0;t=Module.getValue(n+i,"i32");i+=8)e[Module.Pointer_stringify(t)]=Module.Pointer_stringify(Module.getValue(n+i+4,"i32"));return Module._free(n),e}},getOption:function(e){var t=Module.ccall("tiramisu_getOption","number",["string"],[e]);if(t)return Module.Pointer_stringify(t)},setObjectName:function(e,t){Module.ccall("tiramisu_setObjectName","null",["number","string"],arguments)},getHoverColor:function(){return S(Module._tiramisu_getHoverColor())},setHoverColor:function(e){return Module._tiramisu_setHoverColor(T(e))},getSelectionColor:function(){return S(Module._tiramisu_getSelectionColor())},setSelectionColor:function(e){return Module._tiramisu_setSelectionColor(T(e))},getViewpoints:function(){var e,t,n=Module._tiramisu_getViewpoints(),i=[];if(n){for(t=0;e=Module.getValue(n+t,"i32");t+=12)i.push({handle:e,name:Module.Pointer_stringify(Module.getValue(n+t+4,"i32")),description:Module.Pointer_stringify(Module.getValue(n+t+8,"i32"))});Module._free(n)}return i},getActiveViewpoint:function(){return Module._tiramisu_getActiveViewpoint()},setActiveViewpoint:function(e){Module._tiramisu_setActiveViewpoint(e)},addObjects:function(e,t){(l.isUndefined(e)?[]:Array.isArray(e)?e:[e]).forEach((function(e){Module._tiramisu_addObject(e,t)}))},removeObjects:function(e,t){(l.isUndefined(e)?[]:Array.isArray(e)?e:[e]).forEach((function(e){Module._tiramisu_removeObject(e,t)}))},removeAllObjects:function(e){Module._tiramisu_removeAllObjects(e)},getChildObjects:function(e){var t=Module._tiramisu_getChildObjects(e),n=a.util.unmarshalObjectArray(t);return Module._free(t),n},setChildObjects:function(e,t){var n=0;if(e){"number"==typeof e&&(e=[e]),objectArray=Module.allocate(4*e.length,"i32",Module.ALLOC_STACK),n=e.length;for(var i=0;i<n;++i)Module.setValue(objectArray+4*i,e[i],"i32")}return 0!==Module._tiramisu_setChildObjects(t,objectArray,n)},getParentObject:function(e){return Module._tiramisu_getParentObject(e)},getObjectVisibility:function(e,t){return Module._tiramisu_getObjectVisibility(e,t)},getObjectFlags:function(e){return Module._tiramisu_getObjectFlags(e)},getObjectBoundingBox:function(e,t){var n=Module.Runtime.stackSave(),i=Module.allocate(24,"float",Module.ALLOC_STACK),r=Module._tiramisu_getObjectBoundingBox(e,t,i)?{center:O(i),size:O(i+12)}:null;return Module.Runtime.stackRestore(n),r},createObjectsFromString:function(e,t){var n=Module.ccall("tiramisu_createObjects","number",["string","number","string"],[e,0,t||null]),i=a.util.unmarshalObjectArray(n);return n?Module._free(n):Module.printErr('createObjectsFromString() failed: "'+e+'"'),i},createObjectsFromURL:function(e){return l.loadResource(e,"","arraybuffer").then((function(t){var n,i,r,o=t.response;return o&&(n=new Uint8Array(o),i=Module._malloc(n.byteLength),Module.writeArrayToMemory(n,i),r=Module.ccall("tiramisu_createObjects","number",["number","number","string"],[i,n.byteLength,e]),handles=a.util.unmarshalObjectArray(r),Module._free(i),r)?(Module._free(r),Promise.resolve(handles)):Promise.reject(new Error('createObjectsFromURL() failed: "'+e+'"'))}))},createObjectsFromDocumentBundle:function(e){var t=Module.ccall("tiramisu_createObjectsFromBundleItem","number",["string"],[e]),n=a.util.unmarshalObjectArray(t);return t?Module._free(t):Module.printErr('createObjectsFromDocumentBundle() failed: "'+e+'"'),n},setCameraPosition:function(e,t,n,i,r){var o=Module.Runtime.stackSave(),a=Module.allocate(3,"float",Module.ALLOC_STACK),s=Module.allocate(4,"float",Module.ALLOC_STACK),u=i?Module.allocate(3,"float",Module.ALLOC_STACK):0;Module.setValue(a,e[0],"float"),Module.setValue(a+4,e[1],"float"),Module.setValue(a+8,e[2],"float"),Module.setValue(s,t[0],"float"),Module.setValue(s+4,t[1],"float"),Module.setValue(s+8,t[2],"float"),Module.setValue(s+12,t[3],"float"),i&&(Module.setValue(u,i[0],"float"),Module.setValue(u+4,i[1],"float"),Module.setValue(u+8,i[2],"float")),Module._tiramisu_setCameraPosition(a,s,n,u,r),Module.Runtime.stackRestore(o)},setObjectsTransparency:function(e,t,n){(l.isUndefined(e)?[]:Array.isArray(e)?e:[e]).forEach((function(e){s.setObjectPropertyf(e,s.PROPERTY_TRANSPARENCY,n,t)}))},getObjectsTransparency:function(e){return(l.isUndefined(e)?[]:Array.isArray(e)?e:[e]).reduce((function(e,t){return Math.max(s.getObjectPropertyf(t,s.PROPERTY_TRANSPARENCY),e)}),0)},toggleObjectsVisibility:function(e,t){var n=l.isUndefined(e)?[]:Array.isArray(e)?e:[e],i=!t;return void 0===t&&(i=!n.some((function(e){return!!s.getObjectVisibility(e)}))),n.forEach((function(e){i?s.setObjectPropertyf(e,s.PROPERTY_VISIBILITY,!1,-1):s.restoreObjectProperty(e,s.PROPERTY_VISIBILITY,!1)})),!i},navigate:function(e,t,n){return Module._tiramisu_navigate(e,t,n)}};Object.defineProperties(s,{globalEdgeColor:{get:function(){return S(Module._tiramisu_getGlobalEdgeColor())},set:function(e){Module._tiramisu_setGlobalEdgeColor(T(e))},enumerable:!0},edgeColorWeights:{get:function(){return O(Module._tiramisu_getEdgeColorWeights())},set:function(e){var t,n=Module.Runtime.stackSave(),i=Module.allocate(12,"float",Module.ALLOC_STACK);for(t=0;t<3;++t)Module.setValue(i+4*t,e[t],"float");Module._tiramisu_setEdgeColorWeights(i),Module.Runtime.stackRestore(n)},enumerable:!0},ambientOcclusionEnabled:{get:function(){return!!Module._tiramisu_isAmbientOcclusionEnabled()},set:function(e){Module._tiramisu_enableAmbientOcclusion(e)},enumerable:!0},ambientOcclusionSupported:{get:function(){return!!Module._tiramisu_isAmbientOcclusionSupported()},enumerable:!0},hoverColor:{get:function(){return S(Module._tiramisu_getHoverColor())},set:function(e){Module._tiramisu_setHoverColor(T(e))},enumerable:!0},selectionColor:{get:function(){return S(Module._tiramisu_getSelectionColor())},set:function(e){Module._tiramisu_setSelectionColor(T(e))},enumerable:!0},pickerTransparencyThreshold:{get:function(){return value=Module._tiramisu_getPickerTransparencyThreshold(),value<0&&(value=-1),value>=0&&value<=11755e-42?0:value},set:function(e){Module._tiramisu_setPickerTransparencyThreshold(e||11755e-42)},enumerable:!0},modelInfo:{get:function(){return i&&c({},i)},enumerable:!0},activeViewpoint:{get:function(){return Module._tiramisu_getActiveViewpoint()},set:function(e){Module._tiramisu_setActiveViewpoint(e)},enumerable:!0},recursiveObjectLookup:{get:function(){return!!Module._tiramisu_isRecursiveObjectLookupEnabled()},set:function(e){Module._tiramisu_enableRecursiveObjectLookup(e)},enumerable:!0},coordinateAxesVisible:{get:function(){return!!Module._tiramisu_isCoordinateAxesVisible()},set:function(e){Module._tiramisu_setCoordinateAxesVisibility(e)},enumerable:!0},rotationCenterVisible:{get:function(){return!!Module._tiramisu_isRotationCenterVisible()},set:function(e){Module._tiramisu_setRotationCenterVisibility(e)},enumerable:!0},navigatorOptions:{get:function(){var e=Module._tiramisu_getNavigatorOptions();return u(s.DISABLE_DISCARDABLE_GEOMETRY_DATA)||(e&=~(s.AUTOMATIC_ZOOM_ANCHOR+s.AUTOMATIC_SPIN_CENTER)),e},set:function(e){Module._tiramisu_setNavigatorOptions(e)},enumerable:!0},defaultFitFactorObject:{get:function(){return g},set:function(e){g=e},enumerable:!0},defaultFitFactorScene:{get:function(){return b},set:function(e){b=e},enumerable:!0}}),Object.defineProperty(s,"MOUSE_DRAG_MODE_SPIN",{value:0,writable:!1}),Object.defineProperty(s,"MOUSE_DRAG_MODE_PAN",{value:1,writable:!1}),Object.defineProperty(s,"MOUSE_DRAG_MODE_ZOOM",{value:2,writable:!1}),Object.defineProperty(s,"MOUSE_DRAG_MODE_DEFAULT",{value:0,writable:!1}),Object.defineProperty(s,"PROPERTY_DIFFUSE_COLOR",{value:0,writable:!1}),Object.defineProperty(s,"PROPERTY_EMISSIVE_COLOR",{value:1,writable:!1}),Object.defineProperty(s,"PROPERTY_TRANSPARENCY",{value:2,writable:!1}),Object.defineProperty(s,"PROPERTY_VISIBILITY",{value:3,writable:!1}),Object.defineProperty(s,"PROPERTY_TRANSLATION",{value:4,writable:!1}),Object.defineProperty(s,"PROPERTY_ROTATION",{value:5,writable:!1}),Object.defineProperty(s,"PROPERTY_SCALE",{value:6,writable:!1}),Object.defineProperty(s,"MR_PARTNUMBER",{value:1,writable:!1}),Object.defineProperty(s,"MR_PARTDESC",{value:2,writable:!1}),Object.defineProperty(s,"MR_ITEM",{value:3,writable:!1}),Object.defineProperty(s,"MR_ITEMVAR",{value:4,writable:!1}),Object.defineProperty(s,"MR_INDENT",{value:5,writable:!1}),Object.defineProperty(s,"MR_UPA",{value:6,writable:!1}),Object.defineProperty(s,"MR_TOTALQTY",{value:7,writable:!1}),Object.defineProperty(s,"OBJECT_VISIBILITY_VISIBLE",{value:0,writable:!1}),Object.defineProperty(s,"OBJECT_VISIBILITY_HIDDEN",{value:1,writable:!1}),Object.defineProperty(s,"OBJECT_VISIBILITY_TRANSPARENT",{value:2,writable:!1}),Object.defineProperty(s,"OBJECT_VISIBILITY_IMPLICITLY_HIDDEN",{value:3,writable:!1}),Object.defineProperty(s,"NAVIGATOR_ACTION_SPIN",{value:0,writable:!1}),Object.defineProperty(s,"NAVIGATOR_ACTION_PAN",{value:1,writable:!1}),Object.defineProperty(s,"NAVIGATOR_ACTION_ZOOM",{value:2,writable:!1}),Object.defineProperty(s,"NAVIGATOR_ACTION_ROTATE",{value:3,writable:!1}),Object.defineProperty(s,"AUTOMATIC_ZOOM_ANCHOR",{value:1,writable:!1}),Object.defineProperty(s,"AUTOMATIC_SPIN_CENTER",{value:2,writable:!1}),Object.defineProperty(s,"DISABLE_ZOOM_SCALE_LIMITS",{value:4,writable:!1}),Object.defineProperty(s,"OBJECT_BOUNDING_BOX_LOCAL",{value:0,writable:!1}),Object.defineProperty(s,"OBJECT_BOUNDING_BOX_GLOBAL",{value:1,writable:!1}),Object.defineProperty(s,"OBJECT_BOUNDING_BOX_EXACT",{value:2,writable:!1}),e.exports={app:M}},function(e,t,n){var i=null,r=n(1).app,o=!1,a={ui:{setBannerImage:function(e){Module.PanelService&&e&&Module.PanelService.setBannerImage(e)},showCanvas:function(e){if(Module.canvas){e=void 0===e||!!e,Module.canvas.style.display=e?"block":"none";var t=Module.canvas.parentNode.querySelector("#tiramisu-panel-group");t&&(t.style.display=e?"":"none"),r.ui.showPanels(e),o=e,e&&Cortona3DSolo.dispatch("core.didChangeLayout")}},showPanels:function(e){Module.PanelService&&(e=void 0===e||!!e,Module.PanelService.showPanels(e))},isDrawingDisplayMode:function(){var e=!1;return r.drawing&&(e=r.drawing.isVisible()&&!o),e},isCanvasVisible:function(){return o},toggleSpeakerIcon:function(e){if(Module.PanelService){var t;if(e=void 0===e?!i:e){if(i)return;(t=document.createElement("div")).className="tiramisu-speaker",t.appendChild(document.createElement("div")),t.appendChild(document.createElement("span")),t.appendChild(document.createElement("span")),t.appendChild(document.createElement("span")),Module.PanelService.appendChild(t),i=t,window.setTimeout((function(){t.style.opacity=1}),300)}else(t=i)&&(t.style.opacity=0,window.setTimeout((function(){t.parentNode.removeChild(t)}),300)),i=null;return e}}}};e.exports={app:a}},function(e,t,n){var i=n(7).getBaseURL();function r(e,t,n,i){if(0!==e){void 0===i&&(i=t?0:-1);var r=Module.getValue(e,"i32"),o=Module.HEAPU8.subarray(e+4,e+r+4),a=window.URL||window.webkitURL||window,s=(n=n||{},a.createObjectURL(new Blob([o],n)));if(Module._free(e),t||(t=new Image),i>=0){function u(){i?setTimeout((function(){try{a.revokeObjectURL(s)}catch(e){}}),i):a.revokeObjectURL(s),t.removeEventListener("load",u,!1),t.removeEventListener("error",u,!1)}t.addEventListener("load",u,!1),t.addEventListener("error",u,!1)}return t.src=s,t}}var o={util:{createResourceURL:function(e){if(Module.ccall){var t=Module.ccall("tiramisu_copyResourceFromBundle","number",["string"],arguments);if(0!==t){var n=Module.getValue(t,"i32"),i=Module.HEAPU8.subarray(t+4,t+n+4),r=window.URL||window.webkitURL||window,o=/\.svg$/i.test(e)?{type:"image/svg+xml"}:{},a=r.createObjectURL(new Blob([i],o));return Module._free(t),a}}},revokeResourceURL:function(e){e&&/^blob:/i.test(e)&&(window.URL||window.webkitURL||window).revokeObjectURL(e)},fetchImageFromDocumentBundle:function(e,t){var n,o,a;return"string"==typeof e?(n=new Image,o=e):0===(o=(n=e).getAttribute("src")).lastIndexOf(i,0)&&(o=o.slice(i.length)),o=decodeURI(o).replace(/\.cgm$/i,".svg"),a=/\.svg$/i.test(o)?{type:"image/svg+xml"}:{},r(Module.ccall("tiramisu_copyResourceFromBundle","number",["string"],[o]),n,a,t)},fetchBannerImage:function(){var e,t=Module.Runtime.stackSave(),n=Module.allocate(8,"i32",Module.ALLOC_STACK),i=r(Module.ccall("tiramisu_copyBannerImage","number",["number"],[n]));return i&&(e={image:i,frameCount:Module.getValue(n,"i32"),frameDuration:Module.getValue(n+4,"i32")/1e3}),Module.Runtime.stackRestore(t),e},Vec3f:n(27),Rotation:n(59),inflate:function(e){var t=function(e){var t=e.BYTES_PER_ELEMENT*e.length,n=Module._malloc(t),i=new Uint8Array(Module.HEAPU8.buffer,n,t);return i.set(new Uint8Array(e.buffer)),i}(e),n=Module._tiramisu_utility_inflate(t.byteOffset,t.length);return Module._free(t.byteOffset),n?HEAPU8.subarray(n+4,n+4+getValue(n,"i32")):null},freeTypedArray:function(e){e&&Module._free(e.byteOffset-4)}}};e.exports={app:o}},function(e,t){function n(){3==arguments.length&&"number"==typeof arguments[0]?(this.x=arguments[0],this.y=arguments[1],this.z=arguments[2]):1==arguments.length&&"object"==typeof arguments[0]&&null!==arguments[0]&&3==arguments[0].length?(this.x=arguments[0][0],this.y=arguments[0][1],this.z=arguments[0][2]):(this.x=0,this.y=0,this.z=0)}n.prototype.toArray=function(){return[this.x,this.y,this.z]},n.prototype.toString=function(){return this.toArray().join(" ")},n.prototype.add=function(e){return new n(e.x+this.x,e.y+this.y,e.z+this.z)},n.prototype.subtract=function(e){return new n(this.x-e.x,this.y-e.y,this.z-e.z)},n.prototype.dot=function(e){return e.x*this.x+e.y*this.y+e.z*this.z},n.prototype.cross=function(e){return new n(this.y*e.z-e.y*this.z,this.z*e.x-e.z*this.x,this.x*e.y-e.x*this.y)},n.prototype.divide=function(e){return new n(this.x/e,this.y/e,this.z/e)},n.prototype.multiply=function(e){return new n(this.x*e,this.y*e,this.z*e)},n.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},n.prototype.normalize=function(){var e=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z);return 0===e?this:this.divide(e)},n.prototype.negate=function(){return new n(-this.x,-this.y,-this.z)},e.exports=n},function(e,t,n){var i=n(0);function r(e,t){t&&(this.parent=t),this.rules=e||{},this.style=null}r.prototype.toString=function(){var e,t,n,o,a,s="",u=this.parent,l=/(^\s+|\s+$)/;for(t in this.rules){var c=0===t.indexOf("@media")&&!u;if(this.rules.hasOwnProperty(t)){if(s&&(s+="\n"),o=u?t.split(/\s*,\s*/).map((function(e){return(e=e.replace(l,"")).indexOf("&")<0?u+" "+e:e.replace(/&/,u)})).join(","):t.replace(l,""),s+=o+" {",c)s+="\n"+new r(this.rules[t]);else if(a=[],e=this.rules[t],i.isObject(e))for(n in e)e.hasOwnProperty(n)&&(n.indexOf("&")<0?s+="\n"+(n.replace(/(\S)([A-Z])/g,(function(e,t,n){return t+"-"+n.toLowerCase()}))+": ")+e[n]+";":"&"!==n&&a.push(n));s+="\n}",c||(a.forEach((function(t){var n={};n[t]=e[t],s+="\n"+new r(n,o)})),i.isObject(e["&"])&&(s+="\n"+new r(e["&"],o)))}}return s},r.prototype.render=function(e){return this.style||(this.style=document.head.appendChild(document.createElement("style")),this.style.type="text/css"),e&&i.expand(this.rules,e),this.style.innerHTML=this.toString(),this},r.prototype.clear=function(){return this.rules={},this},e.exports=function(e){return new r(e)}},function(e,t){function n(e,t,n){this.r=r(Math.round(e||0)),this.b=r(Math.round(n||0)),this.g=r(Math.round(t||0))}function i(e){return Math.max(0,Math.min(1,e))}function r(e){return Math.max(0,Math.min(255,e))}function o(e,t){return Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function a(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function s(e){var t,i,r,s,u;if("string"==typeof e){if(u=e.match(/^#?([0-9A-F]{6})$/i))return t=u[1],new n(i=parseInt(t.substr(0,2),16),r=parseInt(t.substr(2,2),16),s=parseInt(t.substr(4,2),16));if(u=e.match(/^#?([0-9A-F]{3})$/i))return t=u[1],new n(i=parseInt(t.substr(0,1)+t.substr(0,1),16),r=parseInt(t.substr(1,1)+t.substr(1,1),16),s=parseInt(t.substr(2,1)+t.substr(2,1),16));throw new Error("Not a hex color: "+e)}if("object"==typeof e){if(void 0!==e.r&&void 0!==e.g&&void 0!==e.b)return new n(e.r,e.g,e.b);if(void 0!==e.h&&void 0!==e.s&&void 0!==e.l){var l=o(e.h,360),c=o(e.s,100),d=o(e.l,100);if(0===c)i=r=s=d;else{var f=d<.5?d*(1+c):d+c-d*c,h=2*d-f;i=a(h,f,l+1/3),r=a(h,f,l),s=a(h,f,l-1/3)}return new n(255*i,255*r,255*s)}throw new Error("Can not recognize color object")}return"number"==typeof e?new n(i=255&e,r=e>>8&255,s=e>>16&255):new n}n.prototype.toRgb=function(){return{r:this.r,g:this.g,b:this.b}},n.prototype.toHsl=function(){var e=o(this.r,255),t=o(this.g,255),n=o(this.b,255),i=Math.max(e,t,n),r=Math.min(e,t,n),a=0,s=0,u=(i+r)/2;if(i!==r){var l=i-r;switch(s=u>.5?l/(2-i-r):l/(i+r),i){case e:a=(t-n)/l+(t<n?6:0);break;case t:a=(n-e)/l+2;break;case n:a=(e-t)/l+4}a/=6}return{h:360*a,s:100*s,l:100*u}},n.prototype.toString=function(){var e="000000"+((this.r<<16)+(this.g<<8)+this.b).toString(16);return"#"+e.substring(e.length-6)},n.prototype.toHslString=function(){var e=this.toHsl();return"hsl("+Math.round(e.h)+","+Math.round(e.s)+","+Math.round(e.l)+")"},n.prototype.toRgbString=function(){return"rgb("+this.r+","+this.g+","+this.b+")"},n.prototype.inverse=function(){var e=this.toRgb();return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,s(e)},n.prototype.getBrightness=function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},n.prototype.getLuminance=function(){var e=this.toRgb(),t=e.r/255,n=e.g/255,i=e.b/255;return.2126*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.7152*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))+.0722*(i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4))},n.prototype.desaturate=function(e){e=0===e?0:e||10;var t=this.toHsl();return t.s-=e,t.s=100*i(t.s/100),s(t)},n.prototype.saturate=function(e){e=0===e?0:e||10;var t=this.toHsl();return t.s+=e,t.s=100*i(t.s/100),s(t)},n.prototype.grayscale=function(){return this.desaturate(100)},n.prototype.lighten=function(e){e=0===e?0:e||10;var t=this.toHsl();return t.l+=e,t.l=100*i(t.l/100),s(t)},n.prototype.darken=function(e){e=0===e?0:e||10;var t=this.toHsl();return t.l-=e,t.l=100*i(t.l/100),s(t)},n.prototype.spin=function(e){var t=this.toHsl(),n=(t.h+e)%360;return t.h=n<0?360+n:n,s(t)},n.prototype.brighten=function(e){e=0===e?0:e||10;var t=this.toRgb();return t.r=r(t.r-Math.round(e/100*-255)),t.g=r(t.g-Math.round(e/100*-255)),t.b=r(t.b-Math.round(e/100*-255)),s(t)},n.prototype.complement=function(){var e=this.toHsl();return e.h=(e.h+180)%360,s(e)},e.exports=s},function(e,t,n){n(31);var i,r,o,a=n(0);window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),[Element.prototype,Document.prototype,DocumentFragment.prototype].forEach((function(e){e.hasOwnProperty("append")||Object.defineProperty(e,"append",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=Array.prototype.slice.call(arguments),t=document.createDocumentFragment();e.forEach((function(e){var n=a.isHTMLNode(e);t.appendChild(n?e:document.createTextNode(String(e)))})),this.appendChild(t)}})})),i=[window.Element,window.CharacterData,window.DocumentType],r=[],i.forEach((function(e){e&&r.push(e.prototype)})),function(e){e.forEach((function(e){e.hasOwnProperty("remove")||Object.defineProperty(e,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})}))}(r),Element.prototype.remove=(o=Element.prototype.remove,function(){arguments.length?Array.prototype.slice.call(arguments).forEach((function(e){this.removeChild(e)}),this):o.call(this)});var s=n(2);window.Cortona3DSolo||(window.Cortona3DSolo=s),s.setMaxListeners(0);var u=s.baseUrl||s.baseURL||document.currentScript&&document.currentScript.src.replace(/[^\\\/]+$/,"");Object.defineProperty(s,"baseURL",{get:function(){return u},set:function(e){u=e},enumerable:!0}),Object.defineProperty(s,"baseUrl",{get:function(){return u},set:function(e){u=e},enumerable:!0});var l=(a=n(0)).expand,c=n(35),d=n(1).usedModules;console.log("Cortona3D Solo v1.8.4"),e.exports=l(s,{use:function(e,t){"Cortona3DSoloSkin"===e?e="skin":"Cortona3DSoloTouch"===e&&(e="touch");var i=d[e],r=d.addons[e];switch(e){case"core":if(!i)return new Promise((function(r,o){d[e]=i={config:l({},t)},s.core=n(22).configure(t),l(s.app,n(24).app),l(s.app,n(56).app),l(s.app,n(57).app),l(s.app,n(25).app),l(s.app,n(26).app),s.once("core.onRuntimeInitialized",(function(){r(i)})),s.once("core.onError",o)}));break;case"tag":if(!i){if(d.core)return Promise.reject(new Error('The "core" and "tag" modules cannot be used simultaneously'));d[e]=i={config:l({},t)},d.core=i;var o=s.use("Cortona3DSoloTag");return new Promise((function(e,r){s.core=n(22).configure(l({coreURL:"Cortona3DSoloCoreTag.js"},t)),l(s.app,n(24).app),l(s.app,n(25).app),l(s.app,n(26).app),s.once("core.onRuntimeInitialized",(function(){o.then((function(){s.core.Stella=s.tag,s.on("app.willStartNavigateInScene",(function(){s.tag.Model3D.instance.tooltipOver3D&&s.tag.Model3D.instance.tooltipOver3D.hide()})),e(i)})).catch(r)})),s.once("core.onError",r)}))}break;case"drawing":i||(d[e]=i={config:l({},t)},l(s.app,n(6).configure(t)));break;case"touch":i||(d[e]=i={config:l({},t)},l(s,n(60).configure(t)));break;case"skin":i||(s.use("require"),d[e]=i={config:l({},t)},l(s,n(62).configure(t)));break;case"require":i||(a.detectAMDLoader()?console.log("The AMD loader is already on the page."):l(window,n(66)),d[e]=i={config:l({},t)},window.require.onError=function(){},window.require.config(i.config),n(68),n(69),n(70),n(71),n(72));break;default:return r?Promise.resolve(r):s.use("require").then((function(){var n=l({},t),i=d.require&&d.require.config||{},o=n.prefixURL||s.baseURL;return d.addons[e]=r={config:n},o||d.core&&("function"==typeof Module.locateFile?o=Module.locateFile(""):Module.memoryInitializerPrefixURL&&(o=Module.memoryInitializerPrefixURL)),(i=l({},i,{context:"Cortona3DSolo",baseUrl:o,config:{}})).config[e]=n,s.app.util.requirePromise(e,window.requirejs.config(i)).then((function(e){return r.exports=e,r}))}))}return Promise.resolve(i)},app:l(n(1).app,{util:{xmlToJSON:n(13),loadResource:a.loadResource,toUrl:function(e,t){var n="string"!=typeof e?"":e;if(n.match(/^[a-z]+\:\/\//i))return n;if(n.match(/^\/\//))return"http:"+n;if(n.match(/^[a-z]+\:/i))return n;var i=document.createElement("a");return"/"===n[0]?(i.href=a.getBaseURL(t),i.href=i.protocol+"//"+i.host+n):i.href=a.getBaseURL(t)+n,(n=i.href).match(/^file\:\/\//i)&&(n=decodeURI(n)),n.replace(/(\/\.\/|\/[^/]+\/\.\.\/)/g,"/").replace(/([^:/])\/{2,}/g,"$1/")},b64toBlob:c,defineClass:a.defineClass,requirePromise:function(e,t){return new Promise((function(n,i){t=t||window.requirejs,Promise.all([t([e],n,i)]).catch((function(){}))}))}},ui:{createElement:n(9).createElement,html:n(9).createElementsFromHTML,css:n(28),color:n(29)}}),expand:l,dispatch:function(e,t){!0===s.__trace&&-1===e.indexOf("AnimationFrame")&&console.log("EVENT("+e+"): ",Array.prototype.slice.call(arguments,1)),s.emit.apply(s,arguments);for(var n=e.split("."),i=n.pop(),r=s;n.length&&r;)r=r[n.shift()];if(r&&"function"==typeof r[i])switch(arguments.length){case 1:r[i].call(s);break;case 2:r[i].call(s,arguments[1]);break;case 3:r[i].call(s,arguments[1],arguments[2]);break;case 4:r[i].call(s,arguments[1],arguments[2],arguments[3]);break;case 5:r[i].call(s,arguments[1],arguments[2],arguments[3],arguments[3]);break;default:r[i].apply(s,Array.prototype.slice.call(arguments,1))}}}),Object.defineProperty(s,"version",{get:function(){return"1.8.4"},enumerable:!0})},function(e,t,n){"use strict";e.exports=n(32).polyfill()},function(e,t,n){(function(t,n){
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */var i;i=function(){"use strict";function e(e){return"function"==typeof e}var i=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},r=0,o=void 0,a=void 0,s=function(e,t){p[r]=e,p[r+1]=t,2===(r+=2)&&(a?a(m):g())},u="undefined"!=typeof window?window:void 0,l=u||{},c=l.MutationObserver||l.WebKitMutationObserver,d="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),f="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function h(){var e=setTimeout;return function(){return e(m,1)}}var p=new Array(1e3);function m(){for(var e=0;e<r;e+=2)(0,p[e])(p[e+1]),p[e]=void 0,p[e+1]=void 0;r=0}var v,g=void 0;function b(e,t){var n=this,i=new this.constructor(w);void 0===i[_]&&I(i);var r=n._state;if(r){var o=arguments[r-1];s((function(){return A(r,i,o,n._result)}))}else M(n,i,e,t);return i}function y(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(w);return T(t,e),t}d?g=function(){return t.nextTick(m)}:c?g=function(){var e=0,t=new c(m),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}():f?((v=new MessageChannel).port1.onmessage=m,g=function(){return v.port2.postMessage(0)}):g=void 0===u?function(){try{var e=Function("return this")().require("vertx");return void 0!==(o=e.runOnLoop||e.runOnContext)?function(){o(m)}:h()}catch(e){return h()}}():h();var _=Math.random().toString(36).substring(2);function w(){}function E(t,n,i){n.constructor===t.constructor&&i===b&&n.constructor.resolve===y?function(e,t){1===t._state?O(e,t._result):2===t._state?x(e,t._result):M(t,void 0,(function(t){return T(e,t)}),(function(t){return x(e,t)}))}(t,n):void 0===i?O(t,n):e(i)?function(e,t,n){s((function(e){var i=!1,r=function(e,t,n,i){try{e.call(t,n,i)}catch(e){return e}}(n,t,(function(n){i||(i=!0,t!==n?T(e,n):O(e,n))}),(function(t){i||(i=!0,x(e,t))}),e._label);!i&&r&&(i=!0,x(e,r))}),e)}(t,n,i):O(t,n)}function T(e,t){if(e===t)x(e,new TypeError("You cannot resolve a promise with itself"));else if(r=typeof(i=t),null===i||"object"!==r&&"function"!==r)O(e,t);else{var n=void 0;try{n=t.then}catch(t){return void x(e,t)}E(e,t,n)}var i,r}function S(e){e._onerror&&e._onerror(e._result),k(e)}function O(e,t){void 0===e._state&&(e._result=t,e._state=1,0!==e._subscribers.length&&s(k,e))}function x(e,t){void 0===e._state&&(e._state=2,e._result=t,s(S,e))}function M(e,t,n,i){var r=e._subscribers,o=r.length;e._onerror=null,r[o]=t,r[o+1]=n,r[o+2]=i,0===o&&e._state&&s(k,e)}function k(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var i=void 0,r=void 0,o=e._result,a=0;a<t.length;a+=3)i=t[a],r=t[a+n],i?A(n,i,r,o):r(o);e._subscribers.length=0}}function A(t,n,i,r){var o=e(i),a=void 0,s=void 0,u=!0;if(o){try{a=i(r)}catch(e){u=!1,s=e}if(n===a)return void x(n,new TypeError("A promises callback cannot return that same promise."))}else a=r;void 0!==n._state||(o&&u?T(n,a):!1===u?x(n,s):1===t?O(n,a):2===t&&x(n,a))}var C=0;function I(e){e[_]=C++,e._state=void 0,e._result=void 0,e._subscribers=[]}var R=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(w),this.promise[_]||I(this.promise),i(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?O(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&O(this.promise,this._result))):x(this.promise,new Error("Array Methods must be provided an Array"))}return e.prototype._enumerate=function(e){for(var t=0;void 0===this._state&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,i=n.resolve;if(i===y){var r=void 0,o=void 0,a=!1;try{r=e.then}catch(e){a=!0,o=e}if(r===b&&void 0!==e._state)this._settledAt(e._state,t,e._result);else if("function"!=typeof r)this._remaining--,this._result[t]=e;else if(n===P){var s=new n(w);a?x(s,o):E(s,e,r),this._willSettleAt(s,t)}else this._willSettleAt(new n((function(t){return t(e)})),t)}else this._willSettleAt(i(e),t)},e.prototype._settledAt=function(e,t,n){var i=this.promise;void 0===i._state&&(this._remaining--,2===e?x(i,n):this._result[t]=n),0===this._remaining&&O(i,this._result)},e.prototype._willSettleAt=function(e,t){var n=this;M(e,void 0,(function(e){return n._settledAt(1,t,e)}),(function(e){return n._settledAt(2,t,e)}))},e}(),P=function(){function t(e){this[_]=C++,this._result=this._state=void 0,this._subscribers=[],w!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof t?function(e,t){try{t((function(t){T(e,t)}),(function(t){x(e,t)}))}catch(t){x(e,t)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return t.prototype.catch=function(e){return this.then(null,e)},t.prototype.finally=function(t){var n=this.constructor;return e(t)?this.then((function(e){return n.resolve(t()).then((function(){return e}))}),(function(e){return n.resolve(t()).then((function(){throw e}))})):this.then(t,t)},t}();return P.prototype.then=b,P.all=function(e){return new R(this,e).promise},P.race=function(e){var t=this;return i(e)?new t((function(n,i){for(var r=e.length,o=0;o<r;o++)t.resolve(e[o]).then(n,i)})):new t((function(e,t){return t(new TypeError("You must pass an array to race."))}))},P.resolve=y,P.reject=function(e){var t=new this(w);return x(t,e),t},P._setScheduler=function(e){a=e},P._setAsap=function(e){s=e},P._asap=s,P.polyfill=function(){var e=void 0;if(void 0!==n)e=n;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var i=null;try{i=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===i&&!t.cast)return}e.Promise=P},P.Promise=P,P},e.exports=i()}).call(this,n(33),n(34))},function(e,t){var n,i,r=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(e){i=a}}();var u,l=[],c=!1,d=-1;function f(){c&&u&&(c=!1,u.length?l=u.concat(l):d=-1,l.length&&h())}function h(){if(!c){var e=s(f);c=!0;for(var t=l.length;t;){for(u=l,l=[];++d<t;)u&&u[d].run();d=-1,t=l.length}u=null,c=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new p(e,t)),1!==l.length||c||s(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=m,r.addListener=m,r.once=m,r.off=m,r.removeListener=m,r.removeAllListeners=m,r.emit=m,r.prependListener=m,r.prependOnceListener=m,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){var n=!1;try{atob(" ")}catch(e){n=!0}e.exports=function(e,t,i){var r=e,o="",a=0;if("data:"===e.substr(0,5)){for(a=5;","!==e.charAt(a++);)";"!==e.charAt(a)&&(o||(o=e.substring(5,a)));if(r=e.substring(a),-1===e.substring(5,a).indexOf(";base64"))return Promise.resolve(new Blob([r],{type:t||o}))}return new Promise((function(e,a){function s(n){e(new Blob(n,{type:t||o}))}function u(){var e=this;e.onmessage=function(t){for(var n=t.data[0],i=t.data[1],r=[],o=0;o<n.length;o+=i){for(var a=n.slice(o,o+i),s=new Array(a.length),u=0;u<a.length;u++)s[u]=a.charCodeAt(u);r.push(new Uint8Array(s))}e.postMessage(r)}}var l;try{l=[atob(n?r.replace(/\s/g,""):r),i||1048576]}catch(e){return void a(e)}try{var c=("("+u+")();").replace('"use strict";',""),d=URL.createObjectURL(new Blob([c],{type:"application/javascript"})),f=new Worker(d);f.onmessage=function(e){URL.revokeObjectURL(d),s(e.data)},f.postMessage(l)}catch(e){try{var h={postMessage:s};u.call(h),h.onmessage({data:l})}catch(e){a(e)}}}))}},function(e,t){function n(){}n.prototype.$=function(e,t){var n=e||this;if("string"==typeof e&&e)if("*"===e)n=(this["@children"]||[]).filter((function(e){return"string"!=typeof e})),t&&(n=n.reduce((function(n,i){return n.concat(i,i.$(e,t))}),[]));else{var i=e.indexOf("/"),r=e.substring(0,i),o=e.substring(i+1),a=o.indexOf("/");i>=0&&0===a?(o=o.substring(1),n=this.$(r,t).reduce((function(e,t){return e.concat(t.$(o,!0))}),[])):n=t?this.$("*").reduce((function(t,n){return t.concat(n.$(e,!0))}),this.$(e)):i<0?this[e]:this.$(r).reduce((function(e,t){return e.concat(t.$(o))}),[])}return n?n.map?n:[n]:[]},n.prototype.$text=function(e){return e?this.$(e).reduce((function(e,t){return e+t.$text()}),""):this["#text"]||(this["@children"]||[]).reduce((function(e,t){return"string"==typeof t?e+t:e+t.$text()}),"")},n.prototype.$attr=function(e){return this["@attributes"]?this["@attributes"][e]:null},e.exports=n},function(e,t,n){var i=n(4),r=n(38);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};i(r,o);e.exports=r.locals||{}},function(e,t,n){(t=n(5)(!1)).push([e.i,".cortona3dsolo-svg {\n    width: 100%;\n    height: 100%;\n    display: block;\n    position: absolute;\n}\n\n.cortona3dsolo-svg a:hover {\n\tcursor: pointer;\n\ttext-decoration: none;\n}",""]),e.exports=t},function(e,t,n){var i,r,o,a,s,u,l=n(0).expand,c=n(10).EventEmitter,d="http://www.w3.org/2000/svg",f="http://www.w3.org/1999/xlink",h="ontouchstart"in window,p=h&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),m=n(14),v=n(40),g=[],b={},y=1,_=0,w=0,E=50,T=1,S=!1,O=0,x=!1,M=!1,k=!1,A=!1,C=!0,I=!1,R="",P=null,L=null;function j(e,t){return new Promise((function(n,i){var r=new Blob([e],{type:"text/plain"}),o=new FileReader;o.onload=function(e){n(e.target.result)},o.readAsText(r,t)}))}function N(e){var t,n=Array.prototype.slice.call(e.getElementsByTagName("path")).filter((function(e){return e.classList.contains("hotspot-region")}))[0];return n||(t=function(e){for(var t=e.firstChild;t&&!t.tagName;)t=t.nextSibling;return t}(e))&&"path"===t.tagName&&(n=t,t.classList.add("hotspot-region"),e.appendChild(t),Array.prototype.slice.call(e.getElementsByTagName("text")).forEach((function(t){var n=t.parentNode;n!==e?n.parentNode===e&&(e.appendChild(n.cloneNode()).appendChild(t),n.childElementCount||n.parentNode.removeChild(n)):e.appendChild(t)}))),n}function D(e){var t=[],n=N(e);return n?t.push(n):t=t.concat(Array.prototype.slice.call(e.getElementsByTagName("path")),Array.prototype.slice.call(e.getElementsByTagName("text"))),t}function B(e){for(var t=e;t&&"a"!=t.nodeName.toLowerCase();)t=t.parentNode;return t}!function(){var e=function(e){return new RegExp("(^| )"+e+"( |$)")},t=function(e,t,n){for(var i=0;i<e.length;i++)t.call(n,e[i])};function n(e){this.element=e}n.prototype={add:function(){t(arguments,(function(e){this.contains(e)||(this.element.className.baseVal+=" "+e)}),this)},remove:function(){t(arguments,(function(t){this.element.className.baseVal=this.element.className.baseVal.replace(e(t),"")}),this)},toggle:function(e,t){return(t=void 0===t?!this.contains(e):t)?this.add(e):this.remove(e),t},contains:function(t){return e(t).test(this.element.className.baseVal)}},"classList"in SVGElement.prototype||Object.defineProperty(SVGElement.prototype,"classList",{get:function(){return new n(this)}})}();var z,U,F,V,$,Y={mouseover:function(e){var t=B((e=e||window.event).target||e.srcElement),n=t?t.getAttribute("name"):"";oe.dispatch("didEnterHotspot",n),e.preventDefault()},mouseout:function(e){var t=B((e=e||window.event).target||e.srcElement),n=t?t.getAttribute("name"):"";oe.dispatch("didLeaveHotspot",n),e.preventDefault()}},H={contextmenu:function(e){if(e.preventDefault(),e.stopPropagation(),!k){var t=B((e=e||window.event).target||e.srcElement),n=t?t.getAttribute("name"):"",i=a.getBoundingClientRect(),r=e.clientX-i.left,o=e.clientY-i.top;oe.dispatch("didCallContextMenu",n,r,o,a)}},wheel:function(e){var t=(e=e||window.event).deltaY<0?-.1:.1,n=a.clientWidth,i=a.clientHeight,r=G(),o=r.w,s=r.h,u=Math.max(T,Math.min(E,(1-t)*y))/y,l=a.getBoundingClientRect(),c=e.clientX-l.left,d=e.clientY-l.top,f=(c-(n-o)/2-_/r.scale)/y*r.scale,h=(d-(i-s)/2-w/r.scale)/y*r.scale;return q(_+f*(1-u)*y,w+h*(1-u)*y,y*u),e.preventDefault(),!1},dblclick:function(e){if(e.preventDefault(),e.stopPropagation(),!A){var t=.4*(E-T)+T;if(Math.abs(y-t)<.001)ie();else{t/=y;var n=a.clientWidth,i=a.clientHeight,r=G(),o=r.w,s=r.h,u=a.getBoundingClientRect(),l=e.clientX-u.left,c=e.clientY-u.top,d=(l-(n-o)/2-_/r.scale)/y*r.scale,f=(c-(i-s)/2-w/r.scale)/y*r.scale;q(_+d*(1-t)*y,w+f*(1-t)*y,y*t)}}}};function G(){1===y&&(u=S&&o?r.getBBox():i.getBBox());var e=u,t=a.clientWidth,n=a.clientHeight,s=e.width,l=e.height,c=t/n,d=s/l;return c>d?s=(l=n)*d:c<d?l=(s=t)/d:(l=n,s=t),{h:l,w:s,scale:e.width/s}}function X(e,t){var n=G();!function(e,t){var n=a.clientWidth,i=a.clientHeight,r=G(),o=r.w,s=r.h,u=r.scale,l=(.8*n+o*y)*u/2,c=(.8*i+s*y)*u/2,d=o*(y-1)*u/2,f=s*(y-1)*u/2;_=Math.max(Math.min(e,l-d),-l-d),w=Math.max(Math.min(t,c-f),-c-f)}(_+e*n.scale,w+t*n.scale)}function q(e,t,n){_=e,w=t,y=n,oe.dispatch("onZoomChange",y),Z()}function K(e){if(e){var t=e.transform.baseVal;(isNaN(_)||isNaN(w)||isNaN(y))&&(_=0,w=0,y=1),t.getItem(0).setTranslate(_,w),t.getItem(1).setScale(y,y)}}function Z(){s&&(clearTimeout(V),V=setTimeout((function(){function e(){$=null,i.style.display="block",r.style.visibility="hidden",K(s)}clearTimeout($),S&&o?($||(r.style.visibility="visible",i.style.display="none"),$=setTimeout(e,1e3),K(o)):e()}),0))}function W(){var e,t,n,r={},o=i.getElementsByTagName("a");if(I&&!g.length){for(!1===navigator.pointerEnabled&&(r.inputClass=p?m.TouchInput:h?m.TouchMouseInput:m.MouseInput),n=0;n<o.length;n++)!function(n){var i=n.getAttribute("xlink:href");"#"!==i&&""!==i||n.removeAttribute("xlink:href");var o=n.getAttribute("vm2d:name");if(o&&n.setAttribute("name",o),(o=n.getAttribute("name"))||((o=n.textContent.replace(/[\r\n\s]+/g," ").trim())&&n.setAttribute("name",o),console.log('WARNING: Element "'+n.tagName+'" has no "name" attribute. Uses text content instead: "'+o+'"')),o){for(e in(t=new m.Manager(n,l({recognizers:[[m.Tap]]},r))).on("tap",(function(e){var t=e.srcEvent||e,n=+(t.shiftKey&&1)|+(t.ctrlKey&&2)|+(t.altKey&&4);b[o]?(clearTimeout(b[o]),delete b[o]):b[o]=setTimeout((function(){delete b[o],oe.dispatch("didClickHotspot",o,n)}),250)})),g.push(t),Y)n.addEventListener(e,Y[e],!1);if(N(n))for(var a=n.firstChild;a;)a.classList&&!a.classList.contains("hotspot-region")&&a.setAttribute("pointer-events","none"),a=a.nextSibling}}(o[n]);t=new m.Manager(a,r);var s=new m.Press({time:750}),u=new m.Tap({event:"doubletap",taps:2,threshold:5,posThreshold:100,interval:250}),c=new m.Pinch({enable:!0}),d=new m.Pan({pointers:0,threshold:1});for(e in c.recognizeWith(d),t.add(s),t.add(u),t.add(c),t.add(d),t.set({touchAction:"none"}),t.on("press",(function(e){"mouse"!==e.pointerType&&(H.contextmenu(e.srcEvent),k=!0)})),t.on("pressup",(function(e){"mouse"!==e.pointerType&&setTimeout((function(){k=!1}),250)})),t.on("doubletap",(function(e){H.dblclick(e.srcEvent),A=!0,setTimeout((function(){A=!1}),250)})),t.on("pinchstart",(function(e){F=1})),t.on("pinch",(function(e){var t=a.clientWidth,n=a.clientHeight,i=G(),r=i.w,o=i.h,s=Math.max(T,Math.min(E,(1-(F-e.scale))*y))/y,u=a.getBoundingClientRect(),l=e.center.x,c=e.center.y,d=l-u.left,f=c-u.top,h=(d-(t-r)/2-_/i.scale)/y*i.scale,p=(f-(n-o)/2-w/i.scale)/y*i.scale;q(_+h*(1-s)*y,w+p*(1-s)*y,y*s),F=e.scale})),t.on("panstart",(function(e){a.style.cursor="move",z=e.deltaX,U=e.deltaY})),t.on("pan",(function(e){X(e.deltaX-z,e.deltaY-U),z=e.deltaX,U=e.deltaY,Z()})),t.on("panend",(function(e){a.style.cursor="default"})),g.push(t),H)a.addEventListener(e,H[e],!1)}}function J(){var e,t,n,r,o=i.getElementsByTagName("a");for(r=0;r<o.length;r++)for(e in(n=o[r]).__mc&&n.__mc.destroy(),delete n.__mc,Y)n.removeEventListener(e,Y[e],!1);for(e in H)a.removeEventListener(e,H[e],!1);for(t in g.forEach((function(e){e.destroy()})),g.length=0,b)clearTimeout(b[t]);b={},y=1,_=0,w=0}function Q(){for(J();i.firstChild;)i.removeChild(i.firstChild);ee(),I=!1}function ee(){for(;r.firstChild;)r.removeChild(r.firstChild);o=null}function te(){if(ee(),!(O<5e3)&&S){var e=(new XMLSerializer).serializeToString(i),t=self.URL||self.webkitURL||self,n=new Image,s=new Blob([e],{type:"image/svg+xml;charset=utf-8"}),u=t.createObjectURL(s);n.onload=function(){if(t.revokeObjectURL(u),n.width||n.height){var e=a.appendChild(document.createElement("canvas"));e.style.display="none",e.width=n.width,e.height=n.height,e.getContext("2d").drawImage(n,0,0,n.width,n.height);var i=e.toDataURL("image/png"),s=document.createElementNS(d,"image");s.setAttribute("image-rendering","optimizeQuality"),s.setAttribute("width",n.width),s.setAttribute("height",n.height),r.setAttribute("viewBox","0 0 "+n.width+" "+n.height),s.setAttributeNS(f,"href",i);var l=(o=document.createElementNS(d,"g")).transform.baseVal;l.initialize(r.createSVGTransform()),l.appendItem(r.createSVGTransform()),o.appendChild(s),r.appendChild(o),K(o),a.removeChild(e)}else S=!1},n.src=u}}function ne(){if(!x)try{var e=i.getBBox();E=Math.sqrt(e.width*e.width+e.height*e.height)/50||50}catch(e){}}function ie(){q(0,0,1)}function re(){J(),a.style.visibility="hidden",C=!0}var oe=l(new c,{dispatch:function(e){oe.emit.apply(oe,arguments),"function"==typeof oe.delegate[e]&&oe.delegate[e].apply(oe,Array.prototype.slice.call(arguments,1))},initialize:function(e,t){e.setAttribute("touch-action","none"),e.style.touchAction="none",e.style.width="100%",e.style.height="100%",e.style.position="absolute",e.style.display="block",e.style.overflow="hidden",i=e,(a=document.createElement("div")).classList.add("cortona3dsolo-svg"),e.parentNode.replaceChild(a,e),a.appendChild(e),(r=a.appendChild(document.createElementNS(d,"svg"))).setAttribute("touch-action","none"),r.style.touchAction="none",r.style.pointerEvents="none",r.style.width="100%",r.style.height="100%",r.style.position="absolute",e.style.display="block",r.style.overflow="hidden",r.style.visibility="hidden",re()},hide:re,show:function(){W(),a.style.visibility="visible",C=!1,ne()},reset:ie,scaleBy:function(e){1===y&&(u=i.getBBox());var t=a.clientWidth,n=a.clientHeight,r=G(),o=r.w,s=r.h,l=Math.max(T,Math.min(E,(1-e)*y))/y,c=a.getBoundingClientRect(),d=c.width/2,f=c.height/2,h=(d-(t-o)/2-_/r.scale)/y*r.scale,p=(f-(n-s)/2-w/r.scale)/y*r.scale;q(_+h*(1-l)*y,w+p*(1-l)*y,y*l)},shiftBy:function(e,t){X(e,t),Z()},toggleHotspotClass:function(e,t,n){var r=n;return i.querySelectorAll('a[name="'+e+'"]').forEach((function(e){D(e).forEach((function(e){e.classList&&(r=e.classList.toggle(t,n))}))})),r},select:function(e,t){Array.prototype.slice.call(i.getElementsByTagName("a")).forEach((function(n){n.getAttribute("name")===e&&D(n).forEach((function(e){M&&(e.style.stroke=t,e.style.strokeWidth="text"===e.tagName?".1em":".5px",e.style.strokeOpacity=1),"text"!==e.tagName&&(e.style.fill=t,e.style.fillOpacity=.8)}))}))},unselect:function(e){Array.prototype.slice.call(i.getElementsByTagName("a")).forEach((function(t){t.getAttribute("name")===e&&D(t).forEach((function(e){M&&(e.style.stroke="",e.style.strokeWidth="",e.style.strokeOpacity=""),"text"!==e.tagName&&(e.style.fill="",e.style.fillOpacity="")}))}))},highlight:function(e,t){Array.prototype.slice.call(i.getElementsByTagName("a")).forEach((function(n){n.getAttribute("name")===e&&D(n).forEach((function(e){M?"text"!==e.tagName&&(e.style.fill=t,e.style.fillOpacity=.5):(e.style.stroke=t,e.style.strokeWidth="text"===e.tagName?".1em":".5px",e.style.strokeOpacity=1)}))}))},unhighlight:function(e){Array.prototype.slice.call(i.getElementsByTagName("a")).forEach((function(t){t.getAttribute("name")===e&&D(t).forEach((function(e){M?"text"!==e.tagName&&(e.style.fill=e.style.stroke,e.style.fillOpacity=e.style.strokeOpacity):(e.style.stroke="",e.style.strokeWidth="",e.style.strokeOpacity="")}))}))},load:function(e,t){function n(t){var n,r=document.createElement("div");if(r.innerHTML=t,!(n=r.querySelector("svg")))throw new Error("No SVG data.");if(n){J();var o=i.style.cssText,a=i.getAttribute("class")||"";i.parentNode.replaceChild(n,i),(i=n).setAttribute("touch-action","none"),i.style.touchAction="none";for(var u=n.getElementsByTagName("title"),l=0;l<u.length;l++)u[l].parentNode.removeChild(u[l]);var c=Array.prototype.slice.call(n.childNodes||n.children).filter((function(e){var t=e.nodeName;return"#text"!==t&&"title"!==t&&"defs"!==t&&"desc"!==t})),f=(s=document.createElementNS(d,"g")).transform.baseVal;f.initialize(n.createSVGTransform()),f.appendItem(n.createSVGTransform()),c.forEach((function(e){s.appendChild(e)})),n.appendChild(s),n.getAttribute("viewBox")||n.setAttribute("viewBox","0 0 "+n.getAttribute("width")+" "+n.getAttribute("height"));var h=(n.getAttribute("viewBox")||"0 0 0 0").split(" ");n.getAttribute("width")||n.setAttribute("width",h[2]),n.getAttribute("height")||n.setAttribute("height",h[3]),n.style.cssText=o,n.setAttribute("class",a),I=!0,oe.dispatch("didCompleteLoad",e),C||W(),R=e,O=n.getElementsByTagName("text").length,te(),ne()}}if(e!=R)if(L&&(L.abort(),L=null),P&&(P.onload=null,P=null),t||/\.(png|jpe?g|jpe|gif)$/i.test(e)){var r=new Image;r.onload=function(){Q();var t=document.createElementNS(d,"image");t.setAttribute("image-rendering","optimizeQuality"),t.setAttribute("width",r.width),t.setAttribute("height",r.height),i.setAttribute("viewBox","0 0 "+r.width+" "+r.height),t.setAttributeNS(f,"href",r.src);var n=(s=document.createElementNS(d,"g")).transform.baseVal;n.initialize(i.createSVGTransform()),n.appendItem(i.createSVGTransform()),s.appendChild(t),i.appendChild(s),ne(),I=!0,oe.dispatch("didCompleteLoad",r.src),C||W(),R=e},r.src=e,P=r}else{var o=new window.XMLHttpRequest;o.overrideMimeType&&o.overrideMimeType("application/octet-stream");try{o.open("GET",e,!0),o.responseType="arraybuffer",o.onerror=function(){oe.dispatch("onProgress",0,-1),oe.dispatch("failedLoadingDocument",e,o.status)},o.onprogress=function(e){var t=e.loaded,n=e.lengthComputable||void 0===e.lengthComputable?e.total:0;oe.dispatch("onProgress",t,n)},o.onload=function(){oe.dispatch("onProgress",0,-1);var t=new Uint8Array(o.response);Promise.resolve().then((function(){return j(new Uint8Array(v.inflate(t)))})).catch((function(){return j(t)})).then(n).catch((function(){oe.dispatch("failedLoadingDocument",e,o.status),R=""}))},o.send(null),L=o}catch(t){oe.dispatch("failedLoadingDocument",e,t.message),R=""}}},unload:Q,attach:W,detach:J,getSVGSource:function(){var e=document.createElement("div");return e.appendChild(i.cloneNode(!0)),e.firstChild.removeAttribute("id"),e.firstChild.removeAttribute("style"),e.innerHTML},checkComplete:function(){return I},checkShown:function(){return!C},delegate:{}});Object.defineProperties(oe,{svg:{get:function(){return i},enumerable:!0},enableDrawingOptimization:{get:function(){return S},set:function(e){S=!!e},enumerable:!0},enableHoverFilling:{get:function(){return M},set:function(e){M=!!e},enumerable:!0},maxScale:{get:function(){return E},set:function(e){x=!!e,E=Math.max(+e>0?e:50,T)},enumerable:!0},minScale:{get:function(){return T},set:function(e){T=Math.min(+e>0?e:1,E)},enumerable:!0}}),e.exports=oe},function(e,t,n){"use strict";var i={};(0,n(3).assign)(i,n(41),n(44),n(19)),e.exports=i},function(e,t,n){"use strict";var i=n(42),r=n(3),o=n(17),a=n(11),s=n(18),u=Object.prototype.toString;function l(e){if(!(this instanceof l))return new l(e);this.options=r.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var n=i.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(0!==n)throw new Error(a[n]);if(t.header&&i.deflateSetHeader(this.strm,t.header),t.dictionary){var c;if(c="string"==typeof t.dictionary?o.string2buf(t.dictionary):"[object ArrayBuffer]"===u.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,0!==(n=i.deflateSetDictionary(this.strm,c)))throw new Error(a[n]);this._dict_set=!0}}function c(e,t){var n=new l(t);if(n.push(e,!0),n.err)throw n.msg||a[n.err];return n.result}l.prototype.push=function(e,t){var n,a,s=this.strm,l=this.options.chunkSize;if(this.ended)return!1;a=t===~~t?t:!0===t?4:0,"string"==typeof e?s.input=o.string2buf(e):"[object ArrayBuffer]"===u.call(e)?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new r.Buf8(l),s.next_out=0,s.avail_out=l),1!==(n=i.deflate(s,a))&&0!==n)return this.onEnd(n),this.ended=!0,!1;0!==s.avail_out&&(0!==s.avail_in||4!==a&&2!==a)||("string"===this.options.to?this.onData(o.buf2binstring(r.shrinkBuf(s.output,s.next_out))):this.onData(r.shrinkBuf(s.output,s.next_out)))}while((s.avail_in>0||0===s.avail_out)&&1!==n);return 4===a?(n=i.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,0===n):2!==a||(this.onEnd(0),s.avail_out=0,!0)},l.prototype.onData=function(e){this.chunks.push(e)},l.prototype.onEnd=function(e){0===e&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Deflate=l,t.deflate=c,t.deflateRaw=function(e,t){return(t=t||{}).raw=!0,c(e,t)},t.gzip=function(e,t){return(t=t||{}).gzip=!0,c(e,t)}},function(e,t,n){"use strict";var i,r=n(3),o=n(43),a=n(15),s=n(16),u=n(11);function l(e,t){return e.msg=u[t],t}function c(e){return(e<<1)-(e>4?9:0)}function d(e){for(var t=e.length;--t>=0;)e[t]=0}function f(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(r.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function h(e,t){o._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,f(e.strm)}function p(e,t){e.pending_buf[e.pending++]=t}function m(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function v(e,t){var n,i,r=e.max_chain_length,o=e.strstart,a=e.prev_length,s=e.nice_match,u=e.strstart>e.w_size-262?e.strstart-(e.w_size-262):0,l=e.window,c=e.w_mask,d=e.prev,f=e.strstart+258,h=l[o+a-1],p=l[o+a];e.prev_length>=e.good_match&&(r>>=2),s>e.lookahead&&(s=e.lookahead);do{if(l[(n=t)+a]===p&&l[n+a-1]===h&&l[n]===l[o]&&l[++n]===l[o+1]){o+=2,n++;do{}while(l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&o<f);if(i=258-(f-o),o=f-258,i>a){if(e.match_start=t,a=i,i>=s)break;h=l[o+a-1],p=l[o+a]}}}while((t=d[t&c])>u&&0!=--r);return a<=e.lookahead?a:e.lookahead}function g(e){var t,n,i,o,u,l,c,d,f,h,p=e.w_size;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=p+(p-262)){r.arraySet(e.window,e.window,p,p,0),e.match_start-=p,e.strstart-=p,e.block_start-=p,t=n=e.hash_size;do{i=e.head[--t],e.head[t]=i>=p?i-p:0}while(--n);t=n=p;do{i=e.prev[--t],e.prev[t]=i>=p?i-p:0}while(--n);o+=p}if(0===e.strm.avail_in)break;if(l=e.strm,c=e.window,d=e.strstart+e.lookahead,f=o,h=void 0,(h=l.avail_in)>f&&(h=f),n=0===h?0:(l.avail_in-=h,r.arraySet(c,l.input,l.next_in,h,d),1===l.state.wrap?l.adler=a(l.adler,c,h,d):2===l.state.wrap&&(l.adler=s(l.adler,c,h,d)),l.next_in+=h,l.total_in+=h,h),e.lookahead+=n,e.lookahead+e.insert>=3)for(u=e.strstart-e.insert,e.ins_h=e.window[u],e.ins_h=(e.ins_h<<e.hash_shift^e.window[u+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[u+3-1])&e.hash_mask,e.prev[u&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=u,u++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<262&&0!==e.strm.avail_in)}function b(e,t){for(var n,i;;){if(e.lookahead<262){if(g(e),e.lookahead<262&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-262&&(e.match_length=v(e,n)),e.match_length>=3)if(i=o._tr_tally(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else i=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(h(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,4===t?(h(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(h(e,!1),0===e.strm.avail_out)?1:2}function y(e,t){for(var n,i,r;;){if(e.lookahead<262){if(g(e),e.lookahead<262&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-262&&(e.match_length=v(e,n),e.match_length<=5&&(1===e.strategy||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){r=e.strstart+e.lookahead-3,i=o._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=r&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,i&&(h(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((i=o._tr_tally(e,0,e.window[e.strstart-1]))&&h(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=o._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===t?(h(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(h(e,!1),0===e.strm.avail_out)?1:2}function _(e,t,n,i,r){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=i,this.func=r}function w(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new r.Buf16(1146),this.dyn_dtree=new r.Buf16(122),this.bl_tree=new r.Buf16(78),d(this.dyn_ltree),d(this.dyn_dtree),d(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new r.Buf16(16),this.heap=new r.Buf16(573),d(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new r.Buf16(573),d(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function E(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:113,e.adler=2===t.wrap?0:1,t.last_flush=0,o._tr_init(t),0):l(e,-2)}function T(e){var t,n=E(e);return 0===n&&((t=e.state).window_size=2*t.w_size,d(t.head),t.max_lazy_match=i[t.level].max_lazy,t.good_match=i[t.level].good_length,t.nice_match=i[t.level].nice_length,t.max_chain_length=i[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),n}function S(e,t,n,i,o,a){if(!e)return-2;var s=1;if(-1===t&&(t=6),i<0?(s=0,i=-i):i>15&&(s=2,i-=16),o<1||o>9||8!==n||i<8||i>15||t<0||t>9||a<0||a>4)return l(e,-2);8===i&&(i=9);var u=new w;return e.state=u,u.strm=e,u.wrap=s,u.gzhead=null,u.w_bits=i,u.w_size=1<<u.w_bits,u.w_mask=u.w_size-1,u.hash_bits=o+7,u.hash_size=1<<u.hash_bits,u.hash_mask=u.hash_size-1,u.hash_shift=~~((u.hash_bits+3-1)/3),u.window=new r.Buf8(2*u.w_size),u.head=new r.Buf16(u.hash_size),u.prev=new r.Buf16(u.w_size),u.lit_bufsize=1<<o+6,u.pending_buf_size=4*u.lit_bufsize,u.pending_buf=new r.Buf8(u.pending_buf_size),u.d_buf=1*u.lit_bufsize,u.l_buf=3*u.lit_bufsize,u.level=t,u.strategy=a,u.method=n,T(e)}i=[new _(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(g(e),0===e.lookahead&&0===t)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var i=e.block_start+n;if((0===e.strstart||e.strstart>=i)&&(e.lookahead=e.strstart-i,e.strstart=i,h(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-262&&(h(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(h(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(h(e,!1),e.strm.avail_out),1)})),new _(4,4,8,4,b),new _(4,5,16,8,b),new _(4,6,32,32,b),new _(4,4,16,16,y),new _(8,16,32,32,y),new _(8,16,128,128,y),new _(8,32,128,256,y),new _(32,128,258,1024,y),new _(32,258,258,4096,y)],t.deflateInit=function(e,t){return S(e,t,8,15,8,0)},t.deflateInit2=S,t.deflateReset=T,t.deflateResetKeep=E,t.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?-2:(e.state.gzhead=t,0):-2},t.deflate=function(e,t){var n,r,a,u;if(!e||!e.state||t>5||t<0)return e?l(e,-2):-2;if(r=e.state,!e.output||!e.input&&0!==e.avail_in||666===r.status&&4!==t)return l(e,0===e.avail_out?-5:-2);if(r.strm=e,n=r.last_flush,r.last_flush=t,42===r.status)if(2===r.wrap)e.adler=0,p(r,31),p(r,139),p(r,8),r.gzhead?(p(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),p(r,255&r.gzhead.time),p(r,r.gzhead.time>>8&255),p(r,r.gzhead.time>>16&255),p(r,r.gzhead.time>>24&255),p(r,9===r.level?2:r.strategy>=2||r.level<2?4:0),p(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(p(r,255&r.gzhead.extra.length),p(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=s(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69):(p(r,0),p(r,0),p(r,0),p(r,0),p(r,0),p(r,9===r.level?2:r.strategy>=2||r.level<2?4:0),p(r,3),r.status=113);else{var v=8+(r.w_bits-8<<4)<<8;v|=(r.strategy>=2||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(v|=32),v+=31-v%31,r.status=113,m(r,v),0!==r.strstart&&(m(r,e.adler>>>16),m(r,65535&e.adler)),e.adler=1}if(69===r.status)if(r.gzhead.extra){for(a=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),f(e),a=r.pending,r.pending!==r.pending_buf_size));)p(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=73)}else r.status=73;if(73===r.status)if(r.gzhead.name){a=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),f(e),a=r.pending,r.pending===r.pending_buf_size)){u=1;break}u=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,p(r,u)}while(0!==u);r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),0===u&&(r.gzindex=0,r.status=91)}else r.status=91;if(91===r.status)if(r.gzhead.comment){a=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),f(e),a=r.pending,r.pending===r.pending_buf_size)){u=1;break}u=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,p(r,u)}while(0!==u);r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),0===u&&(r.status=103)}else r.status=103;if(103===r.status&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&f(e),r.pending+2<=r.pending_buf_size&&(p(r,255&e.adler),p(r,e.adler>>8&255),e.adler=0,r.status=113)):r.status=113),0!==r.pending){if(f(e),0===e.avail_out)return r.last_flush=-1,0}else if(0===e.avail_in&&c(t)<=c(n)&&4!==t)return l(e,-5);if(666===r.status&&0!==e.avail_in)return l(e,-5);if(0!==e.avail_in||0!==r.lookahead||0!==t&&666!==r.status){var b=2===r.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(g(e),0===e.lookahead)){if(0===t)return 1;break}if(e.match_length=0,n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(h(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(h(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(h(e,!1),0===e.strm.avail_out)?1:2}(r,t):3===r.strategy?function(e,t){for(var n,i,r,a,s=e.window;;){if(e.lookahead<=258){if(g(e),e.lookahead<=258&&0===t)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(i=s[r=e.strstart-1])===s[++r]&&i===s[++r]&&i===s[++r]){a=e.strstart+258;do{}while(i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&r<a);e.match_length=258-(a-r),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=o._tr_tally(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(h(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(h(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(h(e,!1),0===e.strm.avail_out)?1:2}(r,t):i[r.level].func(r,t);if(3!==b&&4!==b||(r.status=666),1===b||3===b)return 0===e.avail_out&&(r.last_flush=-1),0;if(2===b&&(1===t?o._tr_align(r):5!==t&&(o._tr_stored_block(r,0,0,!1),3===t&&(d(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),f(e),0===e.avail_out))return r.last_flush=-1,0}return 4!==t?0:r.wrap<=0?1:(2===r.wrap?(p(r,255&e.adler),p(r,e.adler>>8&255),p(r,e.adler>>16&255),p(r,e.adler>>24&255),p(r,255&e.total_in),p(r,e.total_in>>8&255),p(r,e.total_in>>16&255),p(r,e.total_in>>24&255)):(m(r,e.adler>>>16),m(r,65535&e.adler)),f(e),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?0:1)},t.deflateEnd=function(e){var t;return e&&e.state?42!==(t=e.state.status)&&69!==t&&73!==t&&91!==t&&103!==t&&113!==t&&666!==t?l(e,-2):(e.state=null,113===t?l(e,-3):0):-2},t.deflateSetDictionary=function(e,t){var n,i,o,s,u,l,c,f,h=t.length;if(!e||!e.state)return-2;if(2===(s=(n=e.state).wrap)||1===s&&42!==n.status||n.lookahead)return-2;for(1===s&&(e.adler=a(e.adler,t,h,0)),n.wrap=0,h>=n.w_size&&(0===s&&(d(n.head),n.strstart=0,n.block_start=0,n.insert=0),f=new r.Buf8(n.w_size),r.arraySet(f,t,h-n.w_size,n.w_size,0),t=f,h=n.w_size),u=e.avail_in,l=e.next_in,c=e.input,e.avail_in=h,e.next_in=0,e.input=t,g(n);n.lookahead>=3;){i=n.strstart,o=n.lookahead-2;do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[i+3-1])&n.hash_mask,n.prev[i&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=i,i++}while(--o);n.strstart=i,n.lookahead=2,g(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,e.next_in=l,e.input=c,e.avail_in=u,n.wrap=s,0},t.deflateInfo="pako deflate (from Nodeca project)"},function(e,t,n){"use strict";var i=n(3);function r(e){for(var t=e.length;--t>=0;)e[t]=0}var o=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],a=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],u=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],l=new Array(576);r(l);var c=new Array(60);r(c);var d=new Array(512);r(d);var f=new Array(256);r(f);var h=new Array(29);r(h);var p,m,v,g=new Array(30);function b(e,t,n,i,r){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=i,this.max_length=r,this.has_stree=e&&e.length}function y(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function _(e){return e<256?d[e]:d[256+(e>>>7)]}function w(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function E(e,t,n){e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,w(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function T(e,t,n){E(e,n[2*t],n[2*t+1])}function S(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}function O(e,t,n){var i,r,o=new Array(16),a=0;for(i=1;i<=15;i++)o[i]=a=a+n[i-1]<<1;for(r=0;r<=t;r++){var s=e[2*r+1];0!==s&&(e[2*r]=S(o[s]++,s))}}function x(e){var t;for(t=0;t<286;t++)e.dyn_ltree[2*t]=0;for(t=0;t<30;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function M(e){e.bi_valid>8?w(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function k(e,t,n,i){var r=2*t,o=2*n;return e[r]<e[o]||e[r]===e[o]&&i[t]<=i[n]}function A(e,t,n){for(var i=e.heap[n],r=n<<1;r<=e.heap_len&&(r<e.heap_len&&k(t,e.heap[r+1],e.heap[r],e.depth)&&r++,!k(t,i,e.heap[r],e.depth));)e.heap[n]=e.heap[r],n=r,r<<=1;e.heap[n]=i}function C(e,t,n){var i,r,s,u,l=0;if(0!==e.last_lit)do{i=e.pending_buf[e.d_buf+2*l]<<8|e.pending_buf[e.d_buf+2*l+1],r=e.pending_buf[e.l_buf+l],l++,0===i?T(e,r,t):(T(e,(s=f[r])+256+1,t),0!==(u=o[s])&&E(e,r-=h[s],u),T(e,s=_(--i),n),0!==(u=a[s])&&E(e,i-=g[s],u))}while(l<e.last_lit);T(e,256,t)}function I(e,t){var n,i,r,o=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,u=t.stat_desc.elems,l=-1;for(e.heap_len=0,e.heap_max=573,n=0;n<u;n++)0!==o[2*n]?(e.heap[++e.heap_len]=l=n,e.depth[n]=0):o[2*n+1]=0;for(;e.heap_len<2;)o[2*(r=e.heap[++e.heap_len]=l<2?++l:0)]=1,e.depth[r]=0,e.opt_len--,s&&(e.static_len-=a[2*r+1]);for(t.max_code=l,n=e.heap_len>>1;n>=1;n--)A(e,o,n);r=u;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],A(e,o,1),i=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=i,o[2*r]=o[2*n]+o[2*i],e.depth[r]=(e.depth[n]>=e.depth[i]?e.depth[n]:e.depth[i])+1,o[2*n+1]=o[2*i+1]=r,e.heap[1]=r++,A(e,o,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,i,r,o,a,s,u=t.dyn_tree,l=t.max_code,c=t.stat_desc.static_tree,d=t.stat_desc.has_stree,f=t.stat_desc.extra_bits,h=t.stat_desc.extra_base,p=t.stat_desc.max_length,m=0;for(o=0;o<=15;o++)e.bl_count[o]=0;for(u[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<573;n++)(o=u[2*u[2*(i=e.heap[n])+1]+1]+1)>p&&(o=p,m++),u[2*i+1]=o,i>l||(e.bl_count[o]++,a=0,i>=h&&(a=f[i-h]),s=u[2*i],e.opt_len+=s*(o+a),d&&(e.static_len+=s*(c[2*i+1]+a)));if(0!==m){do{for(o=p-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[p]--,m-=2}while(m>0);for(o=p;0!==o;o--)for(i=e.bl_count[o];0!==i;)(r=e.heap[--n])>l||(u[2*r+1]!==o&&(e.opt_len+=(o-u[2*r+1])*u[2*r],u[2*r+1]=o),i--)}}(e,t),O(o,l,e.bl_count)}function R(e,t,n){var i,r,o=-1,a=t[1],s=0,u=7,l=4;for(0===a&&(u=138,l=3),t[2*(n+1)+1]=65535,i=0;i<=n;i++)r=a,a=t[2*(i+1)+1],++s<u&&r===a||(s<l?e.bl_tree[2*r]+=s:0!==r?(r!==o&&e.bl_tree[2*r]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,s=0,o=r,0===a?(u=138,l=3):r===a?(u=6,l=3):(u=7,l=4))}function P(e,t,n){var i,r,o=-1,a=t[1],s=0,u=7,l=4;for(0===a&&(u=138,l=3),i=0;i<=n;i++)if(r=a,a=t[2*(i+1)+1],!(++s<u&&r===a)){if(s<l)do{T(e,r,e.bl_tree)}while(0!=--s);else 0!==r?(r!==o&&(T(e,r,e.bl_tree),s--),T(e,16,e.bl_tree),E(e,s-3,2)):s<=10?(T(e,17,e.bl_tree),E(e,s-3,3)):(T(e,18,e.bl_tree),E(e,s-11,7));s=0,o=r,0===a?(u=138,l=3):r===a?(u=6,l=3):(u=7,l=4)}}r(g);var L=!1;function j(e,t,n,r){E(e,0+(r?1:0),3),function(e,t,n,r){M(e),r&&(w(e,n),w(e,~n)),i.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}(e,t,n,!0)}t._tr_init=function(e){L||(!function(){var e,t,n,i,r,u=new Array(16);for(n=0,i=0;i<28;i++)for(h[i]=n,e=0;e<1<<o[i];e++)f[n++]=i;for(f[n-1]=i,r=0,i=0;i<16;i++)for(g[i]=r,e=0;e<1<<a[i];e++)d[r++]=i;for(r>>=7;i<30;i++)for(g[i]=r<<7,e=0;e<1<<a[i]-7;e++)d[256+r++]=i;for(t=0;t<=15;t++)u[t]=0;for(e=0;e<=143;)l[2*e+1]=8,e++,u[8]++;for(;e<=255;)l[2*e+1]=9,e++,u[9]++;for(;e<=279;)l[2*e+1]=7,e++,u[7]++;for(;e<=287;)l[2*e+1]=8,e++,u[8]++;for(O(l,287,u),e=0;e<30;e++)c[2*e+1]=5,c[2*e]=S(e,5);p=new b(l,o,257,286,15),m=new b(c,a,0,30,15),v=new b(new Array(0),s,0,19,7)}(),L=!0),e.l_desc=new y(e.dyn_ltree,p),e.d_desc=new y(e.dyn_dtree,m),e.bl_desc=new y(e.bl_tree,v),e.bi_buf=0,e.bi_valid=0,x(e)},t._tr_stored_block=j,t._tr_flush_block=function(e,t,n,i){var r,o,a=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<256;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),I(e,e.l_desc),I(e,e.d_desc),a=function(e){var t;for(R(e,e.dyn_ltree,e.l_desc.max_code),R(e,e.dyn_dtree,e.d_desc.max_code),I(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*u[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),r=e.opt_len+3+7>>>3,(o=e.static_len+3+7>>>3)<=r&&(r=o)):r=o=n+5,n+4<=r&&-1!==t?j(e,t,n,i):4===e.strategy||o===r?(E(e,2+(i?1:0),3),C(e,l,c)):(E(e,4+(i?1:0),3),function(e,t,n,i){var r;for(E(e,t-257,5),E(e,n-1,5),E(e,i-4,4),r=0;r<i;r++)E(e,e.bl_tree[2*u[r]+1],3);P(e,e.dyn_ltree,t-1),P(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),C(e,e.dyn_ltree,e.dyn_dtree)),x(e),i&&M(e)},t._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(f[n]+256+1)]++,e.dyn_dtree[2*_(t)]++),e.last_lit===e.lit_bufsize-1},t._tr_align=function(e){E(e,2,3),T(e,256,l),function(e){16===e.bi_valid?(w(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},function(e,t,n){"use strict";var i=n(45),r=n(3),o=n(17),a=n(19),s=n(11),u=n(18),l=n(48),c=Object.prototype.toString;function d(e){if(!(this instanceof d))return new d(e);this.options=r.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var n=i.inflateInit2(this.strm,t.windowBits);if(n!==a.Z_OK)throw new Error(s[n]);if(this.header=new l,i.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=o.string2buf(t.dictionary):"[object ArrayBuffer]"===c.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=i.inflateSetDictionary(this.strm,t.dictionary))!==a.Z_OK))throw new Error(s[n])}function f(e,t){var n=new d(t);if(n.push(e,!0),n.err)throw n.msg||s[n.err];return n.result}d.prototype.push=function(e,t){var n,s,u,l,d,f=this.strm,h=this.options.chunkSize,p=this.options.dictionary,m=!1;if(this.ended)return!1;s=t===~~t?t:!0===t?a.Z_FINISH:a.Z_NO_FLUSH,"string"==typeof e?f.input=o.binstring2buf(e):"[object ArrayBuffer]"===c.call(e)?f.input=new Uint8Array(e):f.input=e,f.next_in=0,f.avail_in=f.input.length;do{if(0===f.avail_out&&(f.output=new r.Buf8(h),f.next_out=0,f.avail_out=h),(n=i.inflate(f,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&p&&(n=i.inflateSetDictionary(this.strm,p)),n===a.Z_BUF_ERROR&&!0===m&&(n=a.Z_OK,m=!1),n!==a.Z_STREAM_END&&n!==a.Z_OK)return this.onEnd(n),this.ended=!0,!1;f.next_out&&(0!==f.avail_out&&n!==a.Z_STREAM_END&&(0!==f.avail_in||s!==a.Z_FINISH&&s!==a.Z_SYNC_FLUSH)||("string"===this.options.to?(u=o.utf8border(f.output,f.next_out),l=f.next_out-u,d=o.buf2string(f.output,u),f.next_out=l,f.avail_out=h-l,l&&r.arraySet(f.output,f.output,u,l,0),this.onData(d)):this.onData(r.shrinkBuf(f.output,f.next_out)))),0===f.avail_in&&0===f.avail_out&&(m=!0)}while((f.avail_in>0||0===f.avail_out)&&n!==a.Z_STREAM_END);return n===a.Z_STREAM_END&&(s=a.Z_FINISH),s===a.Z_FINISH?(n=i.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===a.Z_OK):s!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),f.avail_out=0,!0)},d.prototype.onData=function(e){this.chunks.push(e)},d.prototype.onEnd=function(e){e===a.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Inflate=d,t.inflate=f,t.inflateRaw=function(e,t){return(t=t||{}).raw=!0,f(e,t)},t.ungzip=f},function(e,t,n){"use strict";var i=n(3),r=n(15),o=n(16),a=n(46),s=n(47);function u(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function l(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function c(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new i.Buf32(852),t.distcode=t.distdyn=new i.Buf32(592),t.sane=1,t.back=-1,0):-2}function d(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,c(e)):-2}function f(e,t){var n,i;return e&&e.state?(i=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?-2:(null!==i.window&&i.wbits!==t&&(i.window=null),i.wrap=n,i.wbits=t,d(e))):-2}function h(e,t){var n,i;return e?(i=new l,e.state=i,i.window=null,0!==(n=f(e,t))&&(e.state=null),n):-2}var p,m,v=!0;function g(e){if(v){var t;for(p=new i.Buf32(512),m=new i.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(s(1,e.lens,0,288,p,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;s(2,e.lens,0,32,m,0,e.work,{bits:5}),v=!1}e.lencode=p,e.lenbits=9,e.distcode=m,e.distbits=5}function b(e,t,n,r){var o,a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new i.Buf8(a.wsize)),r>=a.wsize?(i.arraySet(a.window,t,n-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):((o=a.wsize-a.wnext)>r&&(o=r),i.arraySet(a.window,t,n-r,o,a.wnext),(r-=o)?(i.arraySet(a.window,t,n-r,r,0),a.wnext=r,a.whave=a.wsize):(a.wnext+=o,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=o))),0}t.inflateReset=d,t.inflateReset2=f,t.inflateResetKeep=c,t.inflateInit=function(e){return h(e,15)},t.inflateInit2=h,t.inflate=function(e,t){var n,l,c,d,f,h,p,m,v,y,_,w,E,T,S,O,x,M,k,A,C,I,R,P,L=0,j=new i.Buf8(4),N=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return-2;12===(n=e.state).mode&&(n.mode=13),f=e.next_out,c=e.output,p=e.avail_out,d=e.next_in,l=e.input,h=e.avail_in,m=n.hold,v=n.bits,y=h,_=p,I=0;e:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;v<16;){if(0===h)break e;h--,m+=l[d++]<<v,v+=8}if(2&n.wrap&&35615===m){n.check=0,j[0]=255&m,j[1]=m>>>8&255,n.check=o(n.check,j,2,0),m=0,v=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&m)<<8)+(m>>8))%31){e.msg="incorrect header check",n.mode=30;break}if(8!=(15&m)){e.msg="unknown compression method",n.mode=30;break}if(v-=4,C=8+(15&(m>>>=4)),0===n.wbits)n.wbits=C;else if(C>n.wbits){e.msg="invalid window size",n.mode=30;break}n.dmax=1<<C,e.adler=n.check=1,n.mode=512&m?10:12,m=0,v=0;break;case 2:for(;v<16;){if(0===h)break e;h--,m+=l[d++]<<v,v+=8}if(n.flags=m,8!=(255&n.flags)){e.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=m>>8&1),512&n.flags&&(j[0]=255&m,j[1]=m>>>8&255,n.check=o(n.check,j,2,0)),m=0,v=0,n.mode=3;case 3:for(;v<32;){if(0===h)break e;h--,m+=l[d++]<<v,v+=8}n.head&&(n.head.time=m),512&n.flags&&(j[0]=255&m,j[1]=m>>>8&255,j[2]=m>>>16&255,j[3]=m>>>24&255,n.check=o(n.check,j,4,0)),m=0,v=0,n.mode=4;case 4:for(;v<16;){if(0===h)break e;h--,m+=l[d++]<<v,v+=8}n.head&&(n.head.xflags=255&m,n.head.os=m>>8),512&n.flags&&(j[0]=255&m,j[1]=m>>>8&255,n.check=o(n.check,j,2,0)),m=0,v=0,n.mode=5;case 5:if(1024&n.flags){for(;v<16;){if(0===h)break e;h--,m+=l[d++]<<v,v+=8}n.length=m,n.head&&(n.head.extra_len=m),512&n.flags&&(j[0]=255&m,j[1]=m>>>8&255,n.check=o(n.check,j,2,0)),m=0,v=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((w=n.length)>h&&(w=h),w&&(n.head&&(C=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),i.arraySet(n.head.extra,l,d,w,C)),512&n.flags&&(n.check=o(n.check,l,w,d)),h-=w,d+=w,n.length-=w),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===h)break e;w=0;do{C=l[d+w++],n.head&&C&&n.length<65536&&(n.head.name+=String.fromCharCode(C))}while(C&&w<h);if(512&n.flags&&(n.check=o(n.check,l,w,d)),h-=w,d+=w,C)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===h)break e;w=0;do{C=l[d+w++],n.head&&C&&n.length<65536&&(n.head.comment+=String.fromCharCode(C))}while(C&&w<h);if(512&n.flags&&(n.check=o(n.check,l,w,d)),h-=w,d+=w,C)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;v<16;){if(0===h)break e;h--,m+=l[d++]<<v,v+=8}if(m!==(65535&n.check)){e.msg="header crc mismatch",n.mode=30;break}m=0,v=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=12;break;case 10:for(;v<32;){if(0===h)break e;h--,m+=l[d++]<<v,v+=8}e.adler=n.check=u(m),m=0,v=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=f,e.avail_out=p,e.next_in=d,e.avail_in=h,n.hold=m,n.bits=v,2;e.adler=n.check=1,n.mode=12;case 12:if(5===t||6===t)break e;case 13:if(n.last){m>>>=7&v,v-=7&v,n.mode=27;break}for(;v<3;){if(0===h)break e;h--,m+=l[d++]<<v,v+=8}switch(n.last=1&m,v-=1,3&(m>>>=1)){case 0:n.mode=14;break;case 1:if(g(n),n.mode=20,6===t){m>>>=2,v-=2;break e}break;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=30}m>>>=2,v-=2;break;case 14:for(m>>>=7&v,v-=7&v;v<32;){if(0===h)break e;h--,m+=l[d++]<<v,v+=8}if((65535&m)!=(m>>>16^65535)){e.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&m,m=0,v=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(w=n.length){if(w>h&&(w=h),w>p&&(w=p),0===w)break e;i.arraySet(c,l,d,w,f),h-=w,d+=w,p-=w,f+=w,n.length-=w;break}n.mode=12;break;case 17:for(;v<14;){if(0===h)break e;h--,m+=l[d++]<<v,v+=8}if(n.nlen=257+(31&m),m>>>=5,v-=5,n.ndist=1+(31&m),m>>>=5,v-=5,n.ncode=4+(15&m),m>>>=4,v-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;v<3;){if(0===h)break e;h--,m+=l[d++]<<v,v+=8}n.lens[N[n.have++]]=7&m,m>>>=3,v-=3}for(;n.have<19;)n.lens[N[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,R={bits:n.lenbits},I=s(0,n.lens,0,19,n.lencode,0,n.work,R),n.lenbits=R.bits,I){e.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;O=(L=n.lencode[m&(1<<n.lenbits)-1])>>>16&255,x=65535&L,!((S=L>>>24)<=v);){if(0===h)break e;h--,m+=l[d++]<<v,v+=8}if(x<16)m>>>=S,v-=S,n.lens[n.have++]=x;else{if(16===x){for(P=S+2;v<P;){if(0===h)break e;h--,m+=l[d++]<<v,v+=8}if(m>>>=S,v-=S,0===n.have){e.msg="invalid bit length repeat",n.mode=30;break}C=n.lens[n.have-1],w=3+(3&m),m>>>=2,v-=2}else if(17===x){for(P=S+3;v<P;){if(0===h)break e;h--,m+=l[d++]<<v,v+=8}v-=S,C=0,w=3+(7&(m>>>=S)),m>>>=3,v-=3}else{for(P=S+7;v<P;){if(0===h)break e;h--,m+=l[d++]<<v,v+=8}v-=S,C=0,w=11+(127&(m>>>=S)),m>>>=7,v-=7}if(n.have+w>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=30;break}for(;w--;)n.lens[n.have++]=C}}if(30===n.mode)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,R={bits:n.lenbits},I=s(1,n.lens,0,n.nlen,n.lencode,0,n.work,R),n.lenbits=R.bits,I){e.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,R={bits:n.distbits},I=s(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,R),n.distbits=R.bits,I){e.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(h>=6&&p>=258){e.next_out=f,e.avail_out=p,e.next_in=d,e.avail_in=h,n.hold=m,n.bits=v,a(e,_),f=e.next_out,c=e.output,p=e.avail_out,d=e.next_in,l=e.input,h=e.avail_in,m=n.hold,v=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;O=(L=n.lencode[m&(1<<n.lenbits)-1])>>>16&255,x=65535&L,!((S=L>>>24)<=v);){if(0===h)break e;h--,m+=l[d++]<<v,v+=8}if(O&&0==(240&O)){for(M=S,k=O,A=x;O=(L=n.lencode[A+((m&(1<<M+k)-1)>>M)])>>>16&255,x=65535&L,!(M+(S=L>>>24)<=v);){if(0===h)break e;h--,m+=l[d++]<<v,v+=8}m>>>=M,v-=M,n.back+=M}if(m>>>=S,v-=S,n.back+=S,n.length=x,0===O){n.mode=26;break}if(32&O){n.back=-1,n.mode=12;break}if(64&O){e.msg="invalid literal/length code",n.mode=30;break}n.extra=15&O,n.mode=22;case 22:if(n.extra){for(P=n.extra;v<P;){if(0===h)break e;h--,m+=l[d++]<<v,v+=8}n.length+=m&(1<<n.extra)-1,m>>>=n.extra,v-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;O=(L=n.distcode[m&(1<<n.distbits)-1])>>>16&255,x=65535&L,!((S=L>>>24)<=v);){if(0===h)break e;h--,m+=l[d++]<<v,v+=8}if(0==(240&O)){for(M=S,k=O,A=x;O=(L=n.distcode[A+((m&(1<<M+k)-1)>>M)])>>>16&255,x=65535&L,!(M+(S=L>>>24)<=v);){if(0===h)break e;h--,m+=l[d++]<<v,v+=8}m>>>=M,v-=M,n.back+=M}if(m>>>=S,v-=S,n.back+=S,64&O){e.msg="invalid distance code",n.mode=30;break}n.offset=x,n.extra=15&O,n.mode=24;case 24:if(n.extra){for(P=n.extra;v<P;){if(0===h)break e;h--,m+=l[d++]<<v,v+=8}n.offset+=m&(1<<n.extra)-1,m>>>=n.extra,v-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===p)break e;if(w=_-p,n.offset>w){if((w=n.offset-w)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=30;break}w>n.wnext?(w-=n.wnext,E=n.wsize-w):E=n.wnext-w,w>n.length&&(w=n.length),T=n.window}else T=c,E=f-n.offset,w=n.length;w>p&&(w=p),p-=w,n.length-=w;do{c[f++]=T[E++]}while(--w);0===n.length&&(n.mode=21);break;case 26:if(0===p)break e;c[f++]=n.length,p--,n.mode=21;break;case 27:if(n.wrap){for(;v<32;){if(0===h)break e;h--,m|=l[d++]<<v,v+=8}if(_-=p,e.total_out+=_,n.total+=_,_&&(e.adler=n.check=n.flags?o(n.check,c,_,f-_):r(n.check,c,_,f-_)),_=p,(n.flags?m:u(m))!==n.check){e.msg="incorrect data check",n.mode=30;break}m=0,v=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;v<32;){if(0===h)break e;h--,m+=l[d++]<<v,v+=8}if(m!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=30;break}m=0,v=0}n.mode=29;case 29:I=1;break e;case 30:I=-3;break e;case 31:return-4;case 32:default:return-2}return e.next_out=f,e.avail_out=p,e.next_in=d,e.avail_in=h,n.hold=m,n.bits=v,(n.wsize||_!==e.avail_out&&n.mode<30&&(n.mode<27||4!==t))&&b(e,e.output,e.next_out,_-e.avail_out)?(n.mode=31,-4):(y-=e.avail_in,_-=e.avail_out,e.total_in+=y,e.total_out+=_,n.total+=_,n.wrap&&_&&(e.adler=n.check=n.flags?o(n.check,c,_,e.next_out-_):r(n.check,c,_,e.next_out-_)),e.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0===y&&0===_||4===t)&&0===I&&(I=-5),I)},t.inflateEnd=function(e){if(!e||!e.state)return-2;var t=e.state;return t.window&&(t.window=null),e.state=null,0},t.inflateGetHeader=function(e,t){var n;return e&&e.state?0==(2&(n=e.state).wrap)?-2:(n.head=t,t.done=!1,0):-2},t.inflateSetDictionary=function(e,t){var n,i=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?-2:11===n.mode&&r(1,t,i,0)!==n.check?-3:b(e,t,i,i)?(n.mode=31,-4):(n.havedict=1,0):-2},t.inflateInfo="pako inflate (from Nodeca project)"},function(e,t,n){"use strict";e.exports=function(e,t){var n,i,r,o,a,s,u,l,c,d,f,h,p,m,v,g,b,y,_,w,E,T,S,O,x;n=e.state,i=e.next_in,O=e.input,r=i+(e.avail_in-5),o=e.next_out,x=e.output,a=o-(t-e.avail_out),s=o+(e.avail_out-257),u=n.dmax,l=n.wsize,c=n.whave,d=n.wnext,f=n.window,h=n.hold,p=n.bits,m=n.lencode,v=n.distcode,g=(1<<n.lenbits)-1,b=(1<<n.distbits)-1;e:do{p<15&&(h+=O[i++]<<p,p+=8,h+=O[i++]<<p,p+=8),y=m[h&g];t:for(;;){if(h>>>=_=y>>>24,p-=_,0===(_=y>>>16&255))x[o++]=65535&y;else{if(!(16&_)){if(0==(64&_)){y=m[(65535&y)+(h&(1<<_)-1)];continue t}if(32&_){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}w=65535&y,(_&=15)&&(p<_&&(h+=O[i++]<<p,p+=8),w+=h&(1<<_)-1,h>>>=_,p-=_),p<15&&(h+=O[i++]<<p,p+=8,h+=O[i++]<<p,p+=8),y=v[h&b];n:for(;;){if(h>>>=_=y>>>24,p-=_,!(16&(_=y>>>16&255))){if(0==(64&_)){y=v[(65535&y)+(h&(1<<_)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(E=65535&y,p<(_&=15)&&(h+=O[i++]<<p,(p+=8)<_&&(h+=O[i++]<<p,p+=8)),(E+=h&(1<<_)-1)>u){e.msg="invalid distance too far back",n.mode=30;break e}if(h>>>=_,p-=_,E>(_=o-a)){if((_=E-_)>c&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(T=0,S=f,0===d){if(T+=l-_,_<w){w-=_;do{x[o++]=f[T++]}while(--_);T=o-E,S=x}}else if(d<_){if(T+=l+d-_,(_-=d)<w){w-=_;do{x[o++]=f[T++]}while(--_);if(T=0,d<w){w-=_=d;do{x[o++]=f[T++]}while(--_);T=o-E,S=x}}}else if(T+=d-_,_<w){w-=_;do{x[o++]=f[T++]}while(--_);T=o-E,S=x}for(;w>2;)x[o++]=S[T++],x[o++]=S[T++],x[o++]=S[T++],w-=3;w&&(x[o++]=S[T++],w>1&&(x[o++]=S[T++]))}else{T=o-E;do{x[o++]=x[T++],x[o++]=x[T++],x[o++]=x[T++],w-=3}while(w>2);w&&(x[o++]=x[T++],w>1&&(x[o++]=x[T++]))}break}}break}}while(i<r&&o<s);i-=w=p>>3,h&=(1<<(p-=w<<3))-1,e.next_in=i,e.next_out=o,e.avail_in=i<r?r-i+5:5-(i-r),e.avail_out=o<s?s-o+257:257-(o-s),n.hold=h,n.bits=p}},function(e,t,n){"use strict";var i=n(3),r=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,n,u,l,c,d,f){var h,p,m,v,g,b,y,_,w,E=f.bits,T=0,S=0,O=0,x=0,M=0,k=0,A=0,C=0,I=0,R=0,P=null,L=0,j=new i.Buf16(16),N=new i.Buf16(16),D=null,B=0;for(T=0;T<=15;T++)j[T]=0;for(S=0;S<u;S++)j[t[n+S]]++;for(M=E,x=15;x>=1&&0===j[x];x--);if(M>x&&(M=x),0===x)return l[c++]=20971520,l[c++]=20971520,f.bits=1,0;for(O=1;O<x&&0===j[O];O++);for(M<O&&(M=O),C=1,T=1;T<=15;T++)if(C<<=1,(C-=j[T])<0)return-1;if(C>0&&(0===e||1!==x))return-1;for(N[1]=0,T=1;T<15;T++)N[T+1]=N[T]+j[T];for(S=0;S<u;S++)0!==t[n+S]&&(d[N[t[n+S]]++]=S);if(0===e?(P=D=d,b=19):1===e?(P=r,L-=257,D=o,B-=257,b=256):(P=a,D=s,b=-1),R=0,S=0,T=O,g=c,k=M,A=0,m=-1,v=(I=1<<M)-1,1===e&&I>852||2===e&&I>592)return 1;for(;;){y=T-A,d[S]<b?(_=0,w=d[S]):d[S]>b?(_=D[B+d[S]],w=P[L+d[S]]):(_=96,w=0),h=1<<T-A,O=p=1<<k;do{l[g+(R>>A)+(p-=h)]=y<<24|_<<16|w|0}while(0!==p);for(h=1<<T-1;R&h;)h>>=1;if(0!==h?(R&=h-1,R+=h):R=0,S++,0==--j[T]){if(T===x)break;T=t[n+d[S]]}if(T>M&&(R&v)!==m){for(0===A&&(A=M),g+=O,C=1<<(k=T-A);k+A<x&&!((C-=j[k+A])<=0);)k++,C<<=1;if(I+=1<<k,1===e&&I>852||2===e&&I>592)return 1;l[m=R&v]=M<<24|k<<16|g-c|0}}return 0!==R&&(l[g+R]=T-A<<24|64<<16|0),f.bits=M,0}},function(e,t,n){"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},function(e,t,n){(t=n(5)(!1)).push([e.i,"html, body {\n    margin: 0;\n    height: 100%;\n} \n",""]),e.exports=t},function(e,t,n){var i=n(1).app,r=n(0).expand;e.exports=function(e,t){var o=e.json,a=n(8),s={dpl:[],def:[],preferredViews:[],sheets:{},options:{},metadata:{},info:[]},u=o.$("ipc/figure/dplist/item").map((function(e){return e.$attr("id")})),l={};(i.modelInfo||{sheets:o.$("ipc/figure/views/view").filter((function(e){return 0==+e.$attr("hidden")})).map((function(e){return{id:e.$attr("id")}}))}).sheets.forEach((function(e){var n=o.$("ipc/figure/views/view").filter((function(t){return t.$attr("id")===e.id}))[0],i=r(e,{changed:!!+n.$attr("changed"),items:n.$("refItem").map((function(e){return u.indexOf(e.$attr("ref"))})).sort((function(e,t){return e-t}))}),a=n.$("refmedia").filter((function(e){return 1!=e.$attr("ref")}));if(a.length>0){var s=a[0].$attr("ref"),c=o.$("ipc/figure/media").filter((function(e){return e.$attr("id")==s}))[0].$attr("src");i.drawing=t+c}l[e.id]=i}));var c=n(12)(o),d=a(o.$("ipc/figure/metadata/value")),f=o.$("ipc/figure/dplist/item").map((function(e,t,n){for(var i=g(e)-1,r=-1,o=t-1;o>=0;o--){var a=+v(n[o],"ASP")||0,s=+v(n[o],"_301F121F8EF84EC0B9979C8D10D19A79")||0;if(1!==a&&0===s&&g(n[o])===i)break}for(;o>=0;o--)if(g(n[o])===i&&!+v(n[o],"NIL")){r=o;break}return r})),h=o.$("ipc/figure/dplist/item").map((function(e,t){var n={row:t},i=e.$("metadata/value");n.id=e.$attr("id"),n.metadata=a(i),n.part={},n.part.id=e.$attr("refPart");var r=o.$("ipc/parts/part").reduce((function(e,t){return t.$attr("id")==n.part.id?t:e})).$("metadata/value");return n.part.metadata=a(r),n.roles=new Array(8),i.concat(r).forEach((function(e){var t=+e.$attr("role");t&&(n.roles[t]=e.$text())})),n.sheetId=e.refview?e.refview.$attr("ref"):"",n.screentip=e.tooltip?e.$text("tooltip"):"",n.callout=e.callout?e.$text("callout"):"",n.objectNames=e.$("refmedia").filter((function(e){return 1==e.$attr("ref")})).map((function(e){return e.$text()})),n.commands=e.$("commands/command").map((function(e){var t={};return e.$("value").forEach((function(e){t[e.$attr("name")]=e.$text()})),{id:e.$attr("id"),type:e.$attr("type"),args:e.$("value").map((function(e){return e.$text()})),values:t}})),n}));function p(e){return String(e).replace(/(^\s+|\s+$)/g,"").replace(/^0+(\d)/,"$1")}function m(e){s.dpl||(s.dpl=o.$("ipc/figure/dplist/item").map((function(t,n){var i;return"function"==typeof e.willGetCSNString?i=e.willGetCSNString(h[n],n):h[n].callout?i=h[n].callout:(i=h[n].roles[3]||"",i+=h[n].roles[4]||""),i})))}function v(e,t){return e.$("metadata/value").filter((function(e){return e.$attr("decl-id")==t})).reduce((function(e,t){return e+t.$text()}),"")}function g(e){var t=e.$("metadata/value").filter((function(e){return 5==e.$attr("role")}));return t.length>0&&(t=+t[0].$text()||0),t}return s={info:h,def:o.$("ipc/figure/dplist/item").map((function(e,t){return h[t].objectNames})),preferredViews:o.$("ipc/figure/dplist/item").map((function(e,t){return h[t].sheetId})),sheets:l,options:c,metadata:d,parent:f,children:f.map((function(e,t,n){return n.reduce((function(e,n,i,r){return n===t?e.concat(i):e}),[])}))},{ipc:{interactivity:{getRowByIndex:function(e){var t=i.ipc.getCurrentSheet().id;return s.sheets[t].items[e]},getIndexByRow:function(e){var t=i.ipc.getCurrentSheet().id;return s.sheets[t].items.indexOf(e)},getRowByItem:function(e){m(this);var t,n=p(e);for(t=s.dpl.length-1;t>=0&&p(s.dpl[t])!==n;t--);return t},getItemByRow:function(e){return m(this),s.dpl[e]},getIndexByItem:function(e){return this.getIndexByRow(this.getRowByItem(e))},getItemByIndex:function(e){return this.getItemByRow(this.getRowByIndex(e))},getRowByObjectName:function(e){var t,n=s.def;for(t=n.length-1;t>=0&&!(n[t].indexOf(e)>=0);t--);return t},getObjectsNamesByRow:function(e){return s.def[e]},getDrawingForIPCView:function(e){e=e||i.ipc.currentSheetInfo.id;var t=s.sheets[e];return t&&t.drawing||""},getSheetInfo:function(e){return e=e||i.ipc.currentSheetInfo.id,s.sheets[e]},getOptions:function(){return s.options},getProjectMetadata:function(){return s.metadata},getScreenTip:function(e){var t=this.getRowByIndex(e);return this.getItemInfo(t).screentip},getPrefferedSheetId:function(e){var t=this.getRowByIndex(e);return this.getItemInfo(t).sheetId},getItemInfo:function(e){return s.info[e]},getParent:function(e){return s.parent[e]},getChildren:function(e,t){var n=[],i=s.children[e],r=this;return t?i.forEach((function(e){n.push(e),n=n.concat(r.getChildren(e,t))})):n=i,n}}}}.ipc}},function(e,t,n){n(1).app;e.exports=function(e,t){var i=e.json,r=n(8),o={defs:{},docitems:{},procedureItems:{},options:{},metadata:{}};function a(e,t){var n,r="";if((t=t||i.SimulationInteractivity.Simulation).$attr("id")!=e){if(t.Step)for(n=0;n<t.Step.length&&!r;n++)r=a(e,t.Step[n]);else if(t.Substep)for(n=0;n<t.Substep.length&&!r;n++)r=a(e,t.Substep[n])}else r=t.$text("Description");return r}function s(e,t){var n=e.$attr("id");o.procedureItems[n]={id:n,type:"event",description:e.$text("Description"),eventType:e.$text("Type").toUpperCase(),parent:t}}return i.$("SimulationInteractivity/DocItems/DocItem").forEach((function(e){var t=e.$attr("id"),n={},i={};e.$("metadata/value").forEach((function(e){var t=e.$text();n[e.$attr("name")]=t,n["{"+e.$attr("decl-id")+"}"]=t,i[e.$attr("decl-id")]=t})),o.defs[t]=n;var r=n["{DocID}"];o.docitems[r]||(o.docitems[r]={id:r,objectNames:[],metadata:i,screentip:e.$text("tooltip")}),o.docitems[r].objectNames.push(t)})),o.pictures=i.$("SimulationInteractivity/Resources/Picture").map((function(e){return{description:e.$attr("descr"),drawing:t+e.$text(),flags:e.$attr("flags")||0}})),o.options=n(12)(i),o.metadata=r(i.$("SimulationInteractivity/SimulationInformation/metadata/value")),o.procedureId=i.SimulationInteractivity.Simulation&&i.SimulationInteractivity.Simulation.$attr("id"),i.SimulationInteractivity.Procedure&&(!function e(t,n){var r,u=t.$attr("id"),l={id:u,comment:t.$text("Comment"),description:a(u),children:t.$("Item").map((function(e){return e.$attr("id")})),actions:t.$("Action").map((function(e){return e.$attr("id")})),metadata:t.$("metadata/value").reduce((function(e,t){return e[t.$attr("decl-id")]=t.$text(),e}),{}),raw:t};if(l.type=l.children.length+l.actions.length>0||"Action"!==t["@name"]?"step":"action",n&&(l.parent=n),"action"==l.type){delete l.children,delete l.actions;var c=i.$("SimulationInteractivity/Simulation/Step");for(r=0;r<c.length;r++){var d=c[r],f=d.$("Substep").filter((function(e){return e.$attr("id")==u}));if(f.length>0){l.parentStep=d.$attr("id"),l.events=f[0].$("Event").map((function(e){return s(e,u),e.$attr("id")}));break}}}o.procedureItems[u]=l,t.$("Action").forEach((function(t){e(t,u)})),t.$("Item").forEach((function(t){e(t,u)}))}(i.SimulationInteractivity.Procedure),o.procedureItems[o.procedureId].type="procedure",o.procedureItems[o.procedureId].comment=i.$text("SimulationInteractivity/Simulation/Comment")),{procedure:{interactivity:{getProcedureId:function(){return o.procedureId},getDrawings:function(){return o.pictures},getDocIdByObjectName:function(e){var t=o.defs[e];return t?t["{DocID}"]:null},getObjectNamesByDocId:function(e){var t=o.docitems[e];return t?t.objectNames:[]},getDocItemInfo:function(e){return o.docitems[e]},getDocItemMetadata:function(e){return o.defs[e]},getDocItems:function(){var e=[];for(var t in o.docitems)e.push(t);return e},getProcedureItemInfo:function(e){return o.procedureItems[e]},getOptions:function(){return o.options},getProjectMetadata:function(){return o.metadata}}}}.procedure}},function(e,t,n){var i=n(4),r=n(53);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};i(r,o);e.exports=r.locals||{}},function(e,t,n){(t=n(5)(!1)).push([e.i,".tiramisu-panel-group {\n\tposition: absolute;\n\tleft: 0;\n\ttop: 0;\n\twidth: 100%;\n\theight: 100%; \n\toverflow: hidden;\n\tvisibility: hidden;\n}\n.tiramisu-panel {\n\tposition: absolute; \n\tbox-sizing: border-box;\n\toverflow: hidden; \n\tpointer-events: none;\n\tfont-family: serif;\n\tfont-size: 10pt;\n\tpadding: 0;\n\tmargin: 0;\n\tborder-style: solid;\n\ttransform-style: preserve-3d;\n}\n.tiramisu-panel > div {\n\tposition: relative;\n\ttop: 50%;\n\ttransform: translateY(-50%);\n}\n.tiramisu-panel > div > img {\n\tdisplay: block;\n\theight: auto;\n\tmax-height: 100%;\n\tmax-width: 100%;\n\tmargin: auto;\n\tposition: relative;\n\ttop: 50%;\n\ttransform: translateY(-50%);\n}\n.tiramisu-panel > div > canvas {\n\tdisplay: block;\n\tmax-height: 100%;\n\tmax-width: 100%;\n\tmargin: auto;\n\tposition: relative;\n\ttop: 50%;\n\ttransform: translateY(-50%) scale(1, -1);\n}\n.tiramisu-panel p {\n\tmargin: 0;\n\tpadding: 0;\n}\n.tiramisu-panel-measure {\n\tposition: absolute; \n\tfont-family: serif;\n\tfont-size: 10pt;\n\tvisibility: hidden;\n\tpadding: 0;\n\tmargin: 0;\n\tleft: 0;\n\ttop: 0;\n}\n\n.tiramisu-banner {\n\tposition: absolute;\n\tright: 8px;\n\tbottom: 8px;\n\toverflow: hidden;\n\tvisibility: visible;\n\tpointer-events: none;\n\tpadding: 0;\n\tmargin: 0;\n\tz-index: 10;\n}\n\n.tiramisu-speaker {\n\tposition: absolute;\n\tvisibility: visible;\n\tdisplay: block-inline;\n\tz-index: 100;\n\tbackground-color: rgba(240,240,240,0.5);\n\tborder-radius: 50%;\n\tpadding: 6px;\n\tbottom: 8px; \n\tleft: 8px;\n\twidth: 26px;\n\theight: 26px;\n\tpointer-events: none;\t\n\topacity: 0;\n\ttransition: opacity 0.3s ease-in-out;\n}\n.tiramisu-speaker div {\n\twidth: 0;\n\theight: 0;\n\tborder: 6px solid transparent;\n\tborder-right-color: inherit;\n\tborder-left: none;\n\tbox-shadow: inset 10px 0;\n\tdisplay: inline-block;\n\tpadding: 5px 3px;\n\tmargin: 2px;\n}\n.tiramisu-speaker span {\n\tposition: absolute;\n\tdisplay: inline-block;\n\tborder: 1px solid transparent;\n\tborder-right: 1px solid #444;\n\tborder-radius: 50%;\n\tmargin: auto;\n\ttop: 0;\n\tbottom: 0;\n\tright: 0;\n\t-webkit-animation: tiramisu-wave-animation 1s linear 0s infinite alternate;\n\t        animation: tiramisu-wave-animation 1s linear 0s infinite alternate;\n}\n.tiramisu-speaker span:nth-child(2) {\n\twidth: 13px;\n\theight: 13px;\n\tleft: 1px;\n}\n.tiramisu-speaker span:nth-child(3) {\n\twidth: 19px;\n\theight: 19px;\n\tleft: 1px;\n\t-webkit-animation-delay: 300ms;\n\t        animation-delay: 300ms;\n}\n.tiramisu-speaker span:last-child {\n\twidth: 25px;\n\theight: 25px;\n\tleft: 0;\n\t-webkit-animation-delay: 600ms;\n\t        animation-delay: 600ms;\n}\n@-webkit-keyframes tiramisu-wave-animation {\n\tfrom { opacity: 1; }\n\tto { opacity: 0.1; }\n}\n@keyframes tiramisu-wave-animation {\n\tfrom { opacity: 1; }\n\tto { opacity: 0.1; }\n}\n\n",""]),e.exports=t},function(e,t,n){var i=n(4),r=n(55);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};i(r,o);e.exports=r.locals||{}},function(e,t,n){(t=n(5)(!1)).push([e.i,".cortona3dsolo-canvas {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    display: block;\n}\n\n.cortona3dsolo-popover {\n    touch-action: none;\n    -webkit-user-select: none;\n       -moz-user-select: none;\n        -ms-user-select: none;\n            user-select: none;\n}\n\n.tiramisu-speaker {\n    display: inline-block;\n    box-sizing: content-box;\n}\n\n.tiramisu-panel {\n    white-space: normal;\n    word-wrap: break-word;\n}\n\n.dpl-table {\n    -webkit-user-select: none;\n       -moz-user-select: none;\n        -ms-user-select: none;\n            user-select: none;\n}\n\n/* IPC */\n.dpl-table {width: 100%; padding: 0; border-spacing: 0; border-collapse: collapse; cursor: default; border: 1px solid grey;}\n.dpl-table td {padding: 4px; vertical-align: top; border-right: 1px solid grey;}\n.dpl-table thead {font-size: 10pt;}\n.dpl-table tbody {margin: 0; padding: 0; font-size: 10pt;}\n.dpl-table thead td {border-bottom: 1px solid grey; \n\tbackground: linear-gradient(to bottom, #FFFFFF 0%, #F8F8F8 100%);}\n.dpl-table tbody td {}\n.dpl-table tbody tr.selected {\n\tbackground: linear-gradient(to bottom, #abd3ee 0%,#89c3eb 100%);\n}\n.dpl-table tbody td.hover {background-color: #C8E8FF;}\n.dpl-table tbody tr.hidden {display: none;}\n.dpl-table thead pre {font-family: sans; padding: 0; margin: 0;}\n.dpl-table td.strut {padding: 0 4px;}\n.dpl-table td.strut div {height: 1px; overflow: hidden; white-space: nowrap;}\n.dpl-table tr {transition: all 0.3s;}\n.dpl-table tr:hover, .dpl-table tr.hover {background-color: #C8E8FF;}\n.dpl-table td:last-of-type {border-right: 0;}\n.dpl-table tr:last-child td {border-bottom: 1px solid grey;}\n.dpl-table pre, pre.dpl-table-measure {margin-top:0; margin-bottom:0;}\n\n.dpl-checkbox {padding: 0; margin: 0 0.4em 0 0; display: inline;}\n.dpl-checkbox:hover {color: #367ebd;}\n\n/* PROCEDURE */\n.tiramisu-proc-title {display: block; padding: 4px; margin-bottom: 2px; font-weight: bold; cursor: default;}\n.tiramisu-proc-item {display: block; padding: 4px; margin-bottom: 2px; border-radius: 10px; border: 1px solid transparent;\n\ttransition: background-color .3s ease-out, border-color .3s ease-out; cursor: default;}\n.tiramisu-proc-item.highlighted {background-color: #E5F4FF; border: 1px solid #C8E8FF;}\n.tiramisu-proc-item.selected {background-color: #C8E8FF; border: 1px solid #80A2BC;}\n.tiramisu-proc-item:hover {background-color: #E5F4FF; border: 1px solid #C8E8FF;}\n.tiramisu-proc-item.selected:hover {background-color: #A3DAFF; border: 1px solid #80A2BC;}\n.tiramisu-proc-item-number {display: table-cell; width: 24px; padding-right: 6pt; cursor: default;}\n.tiramisu-proc-item-content {display: table-cell; width: 100%; cursor: default;}\n.thumbnail {max-width:100%; max-height:100%; margin-top: 3pt;}\n",""]),e.exports=t},function(e,t,n){var i=n(2),r=Module.Tiramisu,o=n(1).app;(0,n(0).expand)(r,{procedure:{didFireEvent:function(e,t,n,r){i.dispatch("app.procedure.didFireEvent",e,t,n,r)},didChangePlayerState:function(e,t){i.dispatch("app.procedure.didChangePlayerState",e,t)},didEnterSubstep:function(e){i.dispatch("app.procedure.didEnterSubstep",e)},didEnterSubstepWithName:function(e){i.dispatch("app.procedure.didEnterSubstepWithName",e)}}});var a={procedure:{seekToSubstep:function(e,t){Module.ccall("procedure_seekToSubstep","null",["string","number"],[e,"number"==typeof t?t:-1])},setPlaybackSpeed:function(e){Module.ccall("procedure_setPlaybackSpeed","null",["number"],arguments)},freezeCamera:function(e){Module.ccall("procedure_freezeCamera","null",["number"],arguments)},setPlayPosition:function(e,t){Module.ccall("procedure_setPlayPosition","null",["number","number"],arguments)},backward:function(e){Module.ccall("procedure_backward","null",["number"],["number"==typeof e?e:-1])},forward:function(e){Module.ccall("procedure_forward","null",["number"],["number"==typeof e?e:-1])},stop:function(){Module.ccall("procedure_stop","null")},play:function(e){Module.ccall("procedure_play","null",["number"],arguments)},pause:function(){Module.ccall("procedure_pause","null")},setPlayRange:function(e,t,n){Module.ccall("procedure_setPlayRange","null",["string","string","number"],[e,t||e,n||0]),i.dispatch("app.procedure.didChangePlayRange",Module._procedure_getPlayableRangeStartTime(),Module._procedure_getPlayableRangeStopTime())},getPlayableRangeStartTime:function(){return Module.ccall("procedure_getPlayableRangeStartTime","number")},getPlayableRangeStopTime:function(){return Module.ccall("procedure_getPlayableRangeStopTime","number")},requestPlayerState:function(){Module.ccall("procedure_requestPlayerState","null")},getOptions:function(){return o.getOptions()},getOption:function(e){return o.getOption(e)},setPlayableItemList:function(e){var t,n,r=e?e.length:0,o=0,a=Module.Runtime.stackSave();if(r)for(o=Module.allocate(4*r,"*",Module.ALLOC_STACK),t=0;t<r;++t)Module.setValue(o+4*t,Module.allocate(Module.intArrayFromString(e[t]),"i8",Module.ALLOC_STACK),"*");return n=Module._procedure_setPlayableItemList(o,r),Module.Runtime.stackRestore(a),n&&i.dispatch("app.procedure.didChangePlayableItemList",Module._procedure_getDuration(),e),0!==n}}};Object.defineProperty(a.procedure,"defaultSeekMode",{get:function(){return Module._procedure_getDefaultSeekMode()},set:function(e){Module._procedure_setDefaultSeekMode(e)},enumerable:!0,configurable:!0}),Object.defineProperty(a.procedure,"duration",{get:function(){return Module._procedure_getDuration()},enumerable:!0,configurable:!0}),Object.defineProperty(a.procedure,"RANGE_FLAGS_SEEK_TO_START",{value:1,writable:!1}),Object.defineProperty(a.procedure,"RANGE_FLAGS_SEEK_TO_END",{value:2,writable:!1}),Object.defineProperty(a.procedure,"RANGE_FLAGS_REQUEST_NOTIFICATION",{value:4,writable:!1}),Object.defineProperty(a.procedure,"RANGE_FLAGS_DO_NOT_RECALCULATE_POSITION",{value:8,writable:!1}),Object.defineProperty(a.procedure,"SEEK_DEFAULT",{value:-1,writable:!1}),Object.defineProperty(a.procedure,"SEEK_TO_BEGIN",{value:0,writable:!1}),Object.defineProperty(a.procedure,"SEEK_TO_CUE_POINT",{value:1,writable:!1}),Object.defineProperty(a.procedure,"SEEK_TO_END",{value:2,writable:!1}),Object.defineProperty(a.procedure,"RANGE_VALUE_CURRENT_STEP",{value:"%%CURRENT_STEP%%",writable:!1}),Object.defineProperty(a.procedure,"RANGE_VALUE_CURRENT_SUBSTEP",{value:"%%CURRENT_SUBSTEP%%",writable:!1}),e.exports={app:a}},function(e,t,n){var i=n(2),r=Module.Tiramisu,o=n(1).app,a=n(0).expand,s=n(1).checkConfigureOptions,u=n(1).usedModules,l={};function c(e){var t,n=Module.getValue(e,"i32"),i=new Array(n);for(t=1;t<=n;++t)i[t-1]=Module.getValue(e+4*t,"i32");return i}i.once("app.didAttachDocument",(function(e){"ipc"==e.type&&(e.sheets,delete(l=a({},e.sheet)).drawing,i.once("app.firstFrameDidArrive",(function(){r.ipc.didSelectSheet(l)})),u.core.config.ipcHoverColor&&o.setHoverColor(u.core.config.ipcHoverColor),u.core.config.ipcSelectionColor&&o.setSelectionColor(u.core.config.ipcSelectionColor))})),a(r,{ipc:{didSelectSheet:function(e){o.ipc.interactivity&&(e.drawing=o.ipc.interactivity.getDrawingForIPCView(e.id)),o.drawing&&o.drawing.load(e.drawing).catch((function(){s(o.ENABLE_AUTO_SWITCHING_DISPLAY_MODE)&&o.ui.isDrawingDisplayMode()&&o.ipc.toggleDrawingDisplayMode()})),l=e,i.dispatch("app.ipc.didSelectSheet",e)},didHoverItem:function(e,t){i.dispatch("app.ipc.didHoverItem",e,c(t))},didSelectItem:function(e,t){i.dispatch("app.ipc.didSelectItem",e,c(t))},didChangeItemVisibility:function(e,t,n){var r,o=new Array(n);for(r=0;r<n;++r)o[r]=Module.getValue(t+4*r,"i32");i.dispatch("app.ipc.didChangeItemVisibility",e,o)},willStartSheetTransitionAnimation:function(e){i.dispatch("app.ipc.willStartSheetTransitionAnimation",e.id)},didStopSheetTransitionAnimation:function(e){i.dispatch("app.ipc.didStopSheetTransitionAnimation",e.id)}}});var d={ipc:{setCurrentSheet:function(e,t){Module.ccall("ipc_setCurrentSheet","null",["string","number"],[e,!o.ui.isDrawingDisplayMode()&&t])},toggleItemVisibility:function(e){Module.ccall("ipc_toggleItemVisibility","null",["number"],arguments)},selectItem:function(e,t){return c(Module.ccall("ipc_selectItem","number",["number"],[e,void 0===t||t]))},hoverItem:function(e,t){return c(Module.ccall("ipc_hoverItem","null",["number"],[e,void 0===t||t]))},resetCurrentSheet:function(e){o.drawing&&n(6).getSVGViewer().reset(e),Module.ccall("ipc_resetCurrentSheet","null",["number"],arguments)},getItemWithHotspot:function(e){return Module.ccall("ipc_getItemWithHotspot","number",["string"],arguments)},getCurrentSheet:function(){return l},toggleDrawingDisplayMode:function(e){return!!o.drawing&&(e=void 0===e?!o.drawing.isVisible():e,o.drawing.show(e),o.ui.showCanvas(!e),i.dispatch("app.ipc.didDrawingDisplayMode",e),e)}}};Object.defineProperty(d.ipc,"currentSheetInfo",{get:function(){return l},enumerable:!0}),Object.defineProperties(d.ipc,{sheetTransitionRate:{get:function(){return 1/Module.getValue(Module._ipc_getSheetTransitionAnimationDurations()+4,"float")},set:function(e){e>0&&Module._ipc_setSheetTransitionAnimationDurations(1/e,1/e)},enumerable:!0},DEFAULT_TRANSITION_STEP_DURATION:{value:1,enumerable:!0}}),d.ipc.dpl=n(58),e.exports={app:d}},function(e,t,n){var i=n(2),r=(n(1).app,n(0)),o=-1,a={dpl:{setupTable:function(e){var t,n;(i.dispatch("app.ipc.dpl.willSetupTable",e),e)&&(o=-1,Array.prototype.slice.call(e.rows).forEach((function(r){if(r.id){var o=+r.id.substring(3);r.setAttribute("data-index",o),r.onmouseover=function(e){clearTimeout(t);var r=+this.getAttribute("data-index");n!==r&&(n=null,i.dispatch("app.ipc.dpl.didHoverRow",r))},r.onmouseout=function(e){n=+this.getAttribute("data-index"),clearTimeout(t),t=setTimeout((function(){i.dispatch("app.ipc.dpl.didHoverRow",-1),n=null}),10)},r.onclick=function(e){var t=+this.getAttribute("data-index"),n=+(e.shiftKey&&1)|+(e.ctrlKey&&2)|+(e.altKey&&4),r=this;this.__debounceTimeout?(clearTimeout(this.__debounceTimeout),delete this.__debounceTimeout):this.__debounceTimeout=setTimeout((function(){delete r.__debounceTimeout,i.dispatch("app.ipc.dpl.didSelectRow",t,n)}),250)},r.oncontextmenu=function(t){var n=+this.getAttribute("data-index"),r=e,o=r.getBoundingClientRect(),a=t.clientX-o.left,s=t.clientY-o.top;i.dispatch("app.ipc.dpl.didCallContextMenu",n,a,s,r),t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation()},i.dispatch("app.ipc.dpl.didSetupRow",r,o)}})));i.dispatch("app.ipc.dpl.didSetupTable",e)},hoverRow:function(e){var t;o>=0&&(t=document.getElementById("row"+o))&&t.classList.remove("hover"),e>=0&&(t=document.getElementById("row"+e))&&t.classList.add("hover"),o=e},highlightRow:function(e,t){t=void 0===t||t,r.toggleClass(document.getElementById("row"+e),"hover",t)},selectRow:function(e,t){t=void 0===t||t,r.toggleClass(document.getElementById("row"+e),"selected",t)},toggleRow:function(e,t){var n=document.getElementById("row"+e);n&&(t=void 0===t?n.classList.contains("hidden"):t,r.toggleClass(n,"hidden",!t))}}};e.exports=a.dpl},function(e,t,n){var i=n(27);function r(){if(4==arguments.length)this.x=arguments[0],this.y=arguments[1],this.z=arguments[2],this.angle=arguments[3];else if(2==arguments.length)if("number"==typeof arguments[1])this.setAxis(arguments[0]),this.angle=arguments[1];else{var e=1.192092896e-7,t=arguments[0].normalize(),n=arguments[1].normalize(),r=t.cross(n),o=r.length();o<=e?t.dot(n)<0?(r=t.cross(new i(1,0,0)),this.angle=Math.PI,(o=r.length())<=e&&(r=t.cross(new i(0,1,0))),r=r.normalize()):(r=new i(0,1,0),this.angle=0):(this.angle=Math.atan2(o,t.dot(n)),r=r.normalize()),this.setAxis(r)}else 1==arguments.length&&"object"==typeof arguments[0]&&null!==arguments[0]&&4===arguments[0].length?(this.x=arguments[0][0],this.y=arguments[0][1],this.z=arguments[0][2],this.angle=arguments[0][3]):(this.x=0,this.y=1,this.z=0,this.angle=0)}r.prototype.toArray=function(){return[this.x,this.y,this.z,this.angle]},r.prototype.multVec=function(e){var t=-this.angle,n=Math.sin(t),r=Math.cos(t),o=this.x,a=this.y,s=this.z,u=e.x,l=e.y,c=e.z,d=(o*u+a*l+s*c)*(1-r);return new i(o*d+r*u+n*(s*l-a*c),a*d+r*l+n*(o*c-s*u),s*d+r*c+n*(a*u-o*l))},r.prototype.inverse=function(){return new r(this.x,this.y,this.z,-this.angle)},r.prototype.multiply=function(e){var t=e.angle,n=Math.sin(t/2),i=Math.cos(t/2),o=e.getAxis().multiply(n),a=Math.sin(this.angle/2),s=Math.cos(this.angle/2),u=this.getAxis().multiply(a),l=i*s-o.dot(u),c=o.multiply(s).add(u.multiply(i)).add(u.cross(o)),d=c.x*c.x+c.y*c.y+c.z*c.z,f=new r(0,0,1,0);if(0!==d){var h=Math.sqrt(d);f.setAxis(c.divide(h)),f.angle=2*Math.atan2(h,l)}return f},r.prototype.setAxis=function(e){this.x=e.x,this.y=e.y,this.z=e.z},r.prototype.getAxis=function(){return new i(this.x,this.y,this.z)},r.prototype.toString=function(){return this.toArray().join(" ")},e.exports=r},function(e,t,n){n(61);var i,r,o=n(2),a=n(0),s={MOUSE_CLICK_THRESHOLD:3,FEATURE_PICK_TOPMOST:!0},u={},l=[0,1,4,2],c=[1,4,2,8,16],d=function(e,t){var n,i=+(e.shiftKey&&1)|+(e.ctrlKey&&2)|+(e.altKey&&4);n=t&&void 0!==e.buttons?e.buttons:void 0!==e.which?l[e.which]:c[e.button];var r=(e.target||e.srcElement).getBoundingClientRect();return[e.clientX-r.left,e.clientY-r.top,n,i,e]},f=function(e,t){return!(!e||!t)&&(i=t,r=(n=e)[0]-i[0],o=n[1]-i[1],Math.sqrt(r*r+o*o)>s.MOUSE_CLICK_THRESHOLD);var n,i,r,o},h=null,p=null,m=null,v=null,g=navigator.userAgent.lastIndexOf("Firefox")>0,b=function(){g&&((v=document.createElement("div")).style.position="absolute",v.style.top="0",v.style.bottom="0",v.style.left="0",v.style.right="0",v.style.zIndex=1e4,v.onmousemove=function(e){return e=e||window.event,document.body.removeChild(e.target),v=null,e.preventDefault(),e.stopPropagation(),!1},setTimeout((function(){v&&(document.body.removeChild(v),v=null)}),100),document.body.appendChild(v))},y={pointermove:function(e){var t=(e.target||e.srcElement).getBoundingClientRect(),n=e.clientX-t.left,a=e.clientY-t.top,u=d(e,!0),l=h?h.handle:null;if(!m||f(m,u)){if(m=u,u[2])h&&(b(),o.dispatch("touch.didObjectOut",l,h.name),h=null);else{var c=(r=w(n,a,s.FEATURE_PICK_TOPMOST)).picked;c&&o.dispatch("touch.didObjectMove",c.handle,c.name);var p=c?c.handle:null;l!==p&&(h&&(b(),o.dispatch("touch.didObjectOut",l,h.name)),c&&o.dispatch("touch.didObjectEnter",p,c.name)),h=c}i=["touch.didPointerMove"].concat(u),o.dispatch.apply(o,i)}},pointerenter:function(e){v||(o.dispatch("touch.didPointerEnter"),m=null)},pointerout:function(e){v||(h&&(o.dispatch("touch.didObjectOut",h.handle,h.name),h=null,b()),o.dispatch("touch.didPointerOut"),m=null)},pointerdown:function(e){p=d(e),i=["touch.didPointerDown"].concat(p),o.dispatch.apply(o,i)},pointerup:function(e){var t=(e.target||e.srcElement).getBoundingClientRect(),n=e.clientX-t.left,a=e.clientY-t.top,l=d(e),c=(r=w(n,a,s.FEATURE_PICK_TOPMOST)).picked;f(p,l)||(c||(c={handle:0,name:""}),u[c.name]?(clearTimeout(u[c.name].t),delete u[c.name]):u[c.name]={lpi:r,t:setTimeout((function(){var e=r;r=u[c.name].lpi,delete u[c.name],i=["touch.didObjectClick",c.handle,c.name].concat(l),o.dispatch.apply(o,i),r=e}),250)});var m=h?h.handle:null,v=c?c.handle:null;m!==v&&(h&&(b(),o.dispatch("touch.didObjectOut",m,h.name)),c&&o.dispatch("touch.didObjectEnter",v,c.name)),h=c,i=["touch.didPointerUp"].concat(l),o.dispatch.apply(o,i),p=null}};if(!1===navigator.pointerEnabled)for(var _ in y)0===_.indexOf("pointer")&&(y[_.replace(/^pointer/,"mouse")]=y[_],delete y[_]);function w(e,t,n){var i,r=[],a=o.app.pickObject(e,t,!!n);if(a)for(i=a.handle;i;i=o.app.getParentObject(i))r.push(i);return{x:e,y:t,picked:a,chain:r}}!function e(){if(o.core&&o.core.runtimeReady&&o.core.canvas){var t=o.core.canvas;for(_ in y)t.addEventListener(_,y[_],!1)}else o.on("app.firstFrameDidArrive",e)}();var E={touch:{options:s,pickObjectsRightThrough:function(e,t){var n,i=[];for(n=o.app.pickObject(e,t,!1);n;)i.push(n.handle),o.app.setObjectIgnorableByPicker(n.handle,!0),n=o.app.pickObject(e,t,!1);return i.forEach((function(e){o.app.setObjectIgnorableByPicker(e,!1)})),i},pickObjectChain:w}};Object.defineProperty(E.touch,"lastPickInfo",{get:function(){return r},enumerable:!0}),e.exports={configure:function(e){return a.expand(E.touch.options,e),E}}},function(e,t,n){
/*!
 * PEP v0.4.3 | https://github.com/jquery/PEP
 * Copyright jQuery Foundation and other contributors | http://jquery.org/license
 */
e.exports=function(){"use strict";var e=["bubbles","cancelable","view","detail","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget","pageX","pageY"],t=[!1,!1,null,null,0,0,0,0,!1,!1,!1,!1,0,null,0,0];function n(n,i){i=i||Object.create(null);var r=document.createEvent("Event");r.initEvent(n,i.bubbles||!1,i.cancelable||!1);for(var o,a=2;a<e.length;a++)r[o=e[a]]=i[o]||t[a];r.buttons=i.buttons||0;var s=0;return s=i.pressure&&r.buttons?i.pressure:r.buttons?.5:0,r.x=r.clientX,r.y=r.clientY,r.pointerId=i.pointerId||0,r.width=i.width||0,r.height=i.height||0,r.pressure=s,r.tiltX=i.tiltX||0,r.tiltY=i.tiltY||0,r.twist=i.twist||0,r.tangentialPressure=i.tangentialPressure||0,r.pointerType=i.pointerType||"",r.hwTimestamp=i.hwTimestamp||0,r.isPrimary=i.isPrimary||!1,r}var i=window.Map&&window.Map.prototype.forEach?Map:r;function r(){this.array=[],this.size=0}r.prototype={set:function(e,t){if(void 0===t)return this.delete(e);this.has(e)||this.size++,this.array[e]=t},has:function(e){return void 0!==this.array[e]},delete:function(e){this.has(e)&&(delete this.array[e],this.size--)},get:function(e){return this.array[e]},clear:function(){this.array.length=0,this.size=0},forEach:function(e,t){return this.array.forEach((function(n,i){e.call(t,n,i,this)}),this)}};var o=["bubbles","cancelable","view","detail","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget","buttons","pointerId","width","height","pressure","tiltX","tiltY","pointerType","hwTimestamp","isPrimary","type","target","currentTarget","which","pageX","pageY","timeStamp"],a=[!1,!1,null,null,0,0,0,0,!1,!1,!1,!1,0,null,0,0,0,0,0,0,0,"",0,!1,"",null,null,0,0,0,0],s={pointerover:1,pointerout:1,pointerenter:1,pointerleave:1},u="undefined"!=typeof SVGElementInstance,l={pointermap:new i,eventMap:Object.create(null),captureInfo:Object.create(null),eventSources:Object.create(null),eventSourceList:[],registerSource:function(e,t){var n=t,i=n.events;i&&(i.forEach((function(e){n[e]&&(this.eventMap[e]=n[e].bind(n))}),this),this.eventSources[e]=n,this.eventSourceList.push(n))},register:function(e){for(var t,n=this.eventSourceList.length,i=0;i<n&&(t=this.eventSourceList[i]);i++)t.register.call(t,e)},unregister:function(e){for(var t,n=this.eventSourceList.length,i=0;i<n&&(t=this.eventSourceList[i]);i++)t.unregister.call(t,e)},contains:function(e,t){try{return e.contains(t)}catch(e){return!1}},down:function(e){e.bubbles=!0,this.fireEvent("pointerdown",e)},move:function(e){e.bubbles=!0,this.fireEvent("pointermove",e)},up:function(e){e.bubbles=!0,this.fireEvent("pointerup",e)},enter:function(e){e.bubbles=!1,this.fireEvent("pointerenter",e)},leave:function(e){e.bubbles=!1,this.fireEvent("pointerleave",e)},over:function(e){e.bubbles=!0,this.fireEvent("pointerover",e)},out:function(e){e.bubbles=!0,this.fireEvent("pointerout",e)},cancel:function(e){e.bubbles=!0,this.fireEvent("pointercancel",e)},leaveOut:function(e){this.out(e),this.propagate(e,this.leave,!1)},enterOver:function(e){this.over(e),this.propagate(e,this.enter,!0)},eventHandler:function(e){if(!e._handledByPE){var t=e.type,n=this.eventMap&&this.eventMap[t];n&&n(e),e._handledByPE=!0}},listen:function(e,t){t.forEach((function(t){this.addEvent(e,t)}),this)},unlisten:function(e,t){t.forEach((function(t){this.removeEvent(e,t)}),this)},addEvent:function(e,t){e.addEventListener(t,this.boundHandler)},removeEvent:function(e,t){e.removeEventListener(t,this.boundHandler)},makeEvent:function(e,t){this.captureInfo[t.pointerId]&&(t.relatedTarget=null);var i=new n(e,t);return t.preventDefault&&(i.preventDefault=t.preventDefault),i._target=i._target||t.target,i},fireEvent:function(e,t){var n=this.makeEvent(e,t);return this.dispatchEvent(n)},cloneEvent:function(e){for(var t,n=Object.create(null),i=0;i<o.length;i++)n[t=o[i]]=e[t]||a[i],!u||"target"!==t&&"relatedTarget"!==t||n[t]instanceof SVGElementInstance&&(n[t]=n[t].correspondingUseElement);return e.preventDefault&&(n.preventDefault=function(){e.preventDefault()}),n},getTarget:function(e){var t=this.captureInfo[e.pointerId];return t?e._target!==t&&e.type in s?void 0:t:e._target},propagate:function(e,t,n){for(var i=e.target,r=[];i!==document&&!i.contains(e.relatedTarget);)if(r.push(i),!(i=i.parentNode))return;n&&r.reverse(),r.forEach((function(n){e.target=n,t.call(this,e)}),this)},setCapture:function(e,t,i){this.captureInfo[e]&&this.releaseCapture(e,i),this.captureInfo[e]=t,this.implicitRelease=this.releaseCapture.bind(this,e,i),document.addEventListener("pointerup",this.implicitRelease),document.addEventListener("pointercancel",this.implicitRelease);var r=new n("gotpointercapture");r.pointerId=e,r._target=t,i||this.asyncDispatchEvent(r)},releaseCapture:function(e,t){var i=this.captureInfo[e];if(i){this.captureInfo[e]=void 0,document.removeEventListener("pointerup",this.implicitRelease),document.removeEventListener("pointercancel",this.implicitRelease);var r=new n("lostpointercapture");r.pointerId=e,r._target=i,t||this.asyncDispatchEvent(r)}},dispatchEvent:function(e){var t=this.getTarget(e);if(t)return t.dispatchEvent(e)},asyncDispatchEvent:function(e){requestAnimationFrame(this.dispatchEvent.bind(this,e))}};l.boundHandler=l.eventHandler.bind(l);var c={shadow:function(e){if(e)return e.shadowRoot||e.webkitShadowRoot},canTarget:function(e){return e&&Boolean(e.elementFromPoint)},targetingShadow:function(e){var t=this.shadow(e);if(this.canTarget(t))return t},olderShadow:function(e){var t=e.olderShadowRoot;if(!t){var n=e.querySelector("shadow");n&&(t=n.olderShadowRoot)}return t},allShadows:function(e){for(var t=[],n=this.shadow(e);n;)t.push(n),n=this.olderShadow(n);return t},searchRoot:function(e,t,n){if(e){var i,r,o=e.elementFromPoint(t,n);for(r=this.targetingShadow(o);r;){if(i=r.elementFromPoint(t,n)){var a=this.targetingShadow(i);return this.searchRoot(a,t,n)||i}r=this.olderShadow(r)}return o}},owner:function(e){for(var t=e;t.parentNode;)t=t.parentNode;return t.nodeType!==Node.DOCUMENT_NODE&&t.nodeType!==Node.DOCUMENT_FRAGMENT_NODE&&(t=document),t},findTarget:function(e){var t=e.clientX,n=e.clientY,i=this.owner(e.target);return i.elementFromPoint(t,n)||(i=document),this.searchRoot(i,t,n)}},d=Array.prototype.forEach.call.bind(Array.prototype.forEach),f=Array.prototype.map.call.bind(Array.prototype.map),h=Array.prototype.slice.call.bind(Array.prototype.slice),p=Array.prototype.filter.call.bind(Array.prototype.filter),m=window.MutationObserver||window.WebKitMutationObserver,v={subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0,attributeFilter:["touch-action"]};function g(e,t,n,i){this.addCallback=e.bind(i),this.removeCallback=t.bind(i),this.changedCallback=n.bind(i),m&&(this.observer=new m(this.mutationWatcher.bind(this)))}function b(e){return"body /shadow-deep/ "+y(e)}function y(e){return'[touch-action="'+e+'"]'}function _(e){return"{ -ms-touch-action: "+e+"; touch-action: "+e+"; }"}g.prototype={watchSubtree:function(e){this.observer&&c.canTarget(e)&&this.observer.observe(e,v)},enableOnSubtree:function(e){this.watchSubtree(e),e===document&&"complete"!==document.readyState?this.installOnLoad():this.installNewSubtree(e)},installNewSubtree:function(e){d(this.findElements(e),this.addElement,this)},findElements:function(e){return e.querySelectorAll?e.querySelectorAll("[touch-action]"):[]},removeElement:function(e){this.removeCallback(e)},addElement:function(e){this.addCallback(e)},elementChanged:function(e,t){this.changedCallback(e,t)},concatLists:function(e,t){return e.concat(h(t))},installOnLoad:function(){document.addEventListener("readystatechange",function(){"complete"===document.readyState&&this.installNewSubtree(document)}.bind(this))},isElement:function(e){return e.nodeType===Node.ELEMENT_NODE},flattenMutationTree:function(e){var t=f(e,this.findElements,this);return t.push(p(e,this.isElement)),t.reduce(this.concatLists,[])},mutationWatcher:function(e){e.forEach(this.mutationHandler,this)},mutationHandler:function(e){"childList"===e.type?(this.flattenMutationTree(e.addedNodes).forEach(this.addElement,this),this.flattenMutationTree(e.removedNodes).forEach(this.removeElement,this)):"attributes"===e.type&&this.elementChanged(e.target,e.oldValue)}};var w=["none","auto","pan-x","pan-y",{rule:"pan-x pan-y",selectors:["pan-x pan-y","pan-y pan-x"]}],E="",T=window.PointerEvent||window.MSPointerEvent,S=!window.ShadowDOMPolyfill&&document.head.createShadowRoot,O=l.pointermap,x=[1,4,2,8,16],M=!1;try{M=1===new MouseEvent("test",{buttons:1}).buttons}catch(e){}var k,A={POINTER_ID:1,POINTER_TYPE:"mouse",events:["mousedown","mousemove","mouseup","mouseover","mouseout"],register:function(e){l.listen(e,this.events)},unregister:function(e){l.unlisten(e,this.events)},lastTouches:[],isEventSimulatedFromTouch:function(e){for(var t,n=this.lastTouches,i=e.clientX,r=e.clientY,o=0,a=n.length;o<a&&(t=n[o]);o++){var s=Math.abs(i-t.x),u=Math.abs(r-t.y);if(s<=25&&u<=25)return!0}},prepareEvent:function(e){var t=l.cloneEvent(e),n=t.preventDefault;return t.preventDefault=function(){e.preventDefault(),n()},t.pointerId=this.POINTER_ID,t.isPrimary=!0,t.pointerType=this.POINTER_TYPE,t},prepareButtonsForMove:function(e,t){var n=O.get(this.POINTER_ID);0!==t.which&&n?e.buttons=n.buttons:e.buttons=0,t.buttons=e.buttons},mousedown:function(e){if(!this.isEventSimulatedFromTouch(e)){var t=O.get(this.POINTER_ID),n=this.prepareEvent(e);M||(n.buttons=x[n.button],t&&(n.buttons|=t.buttons),e.buttons=n.buttons),O.set(this.POINTER_ID,e),t&&0!==t.buttons?l.move(n):l.down(n)}},mousemove:function(e){if(!this.isEventSimulatedFromTouch(e)){var t=this.prepareEvent(e);M||this.prepareButtonsForMove(t,e),t.button=-1,O.set(this.POINTER_ID,e),l.move(t)}},mouseup:function(e){if(!this.isEventSimulatedFromTouch(e)){var t=O.get(this.POINTER_ID),n=this.prepareEvent(e);if(!M){var i=x[n.button];n.buttons=t?t.buttons&~i:0,e.buttons=n.buttons}O.set(this.POINTER_ID,e),n.buttons&=~x[n.button],0===n.buttons?l.up(n):l.move(n)}},mouseover:function(e){if(!this.isEventSimulatedFromTouch(e)){var t=this.prepareEvent(e);M||this.prepareButtonsForMove(t,e),t.button=-1,O.set(this.POINTER_ID,e),l.enterOver(t)}},mouseout:function(e){if(!this.isEventSimulatedFromTouch(e)){var t=this.prepareEvent(e);M||this.prepareButtonsForMove(t,e),t.button=-1,l.leaveOut(t)}},cancel:function(e){var t=this.prepareEvent(e);l.cancel(t),this.deactivateMouse()},deactivateMouse:function(){O.delete(this.POINTER_ID)}},C=l.captureInfo,I=c.findTarget.bind(c),R=c.allShadows.bind(c),P=l.pointermap,L={events:["touchstart","touchmove","touchend","touchcancel"],register:function(e){k.enableOnSubtree(e)},unregister:function(){},elementAdded:function(e){var t=e.getAttribute("touch-action"),n=this.touchActionToScrollType(t);n&&(e._scrollType=n,l.listen(e,this.events),R(e).forEach((function(e){e._scrollType=n,l.listen(e,this.events)}),this))},elementRemoved:function(e){e._scrollType=void 0,l.unlisten(e,this.events),R(e).forEach((function(e){e._scrollType=void 0,l.unlisten(e,this.events)}),this)},elementChanged:function(e,t){var n=e.getAttribute("touch-action"),i=this.touchActionToScrollType(n),r=this.touchActionToScrollType(t);i&&r?(e._scrollType=i,R(e).forEach((function(e){e._scrollType=i}),this)):r?this.elementRemoved(e):i&&this.elementAdded(e)},scrollTypes:{EMITTER:"none",XSCROLLER:"pan-x",YSCROLLER:"pan-y",SCROLLER:/^(?:pan-x pan-y)|(?:pan-y pan-x)|auto$/},touchActionToScrollType:function(e){var t=e,n=this.scrollTypes;return"none"===t?"none":t===n.XSCROLLER?"X":t===n.YSCROLLER?"Y":n.SCROLLER.exec(t)?"XY":void 0},POINTER_TYPE:"touch",firstTouch:null,isPrimaryTouch:function(e){return this.firstTouch===e.identifier},setPrimaryTouch:function(e){(0===P.size||1===P.size&&P.has(1))&&(this.firstTouch=e.identifier,this.firstXY={X:e.clientX,Y:e.clientY},this.scrolling=!1,this.cancelResetClickCount())},removePrimaryPointer:function(e){e.isPrimary&&(this.firstTouch=null,this.firstXY=null,this.resetClickCount())},clickCount:0,resetId:null,resetClickCount:function(){var e=function(){this.clickCount=0,this.resetId=null}.bind(this);this.resetId=setTimeout(e,200)},cancelResetClickCount:function(){this.resetId&&clearTimeout(this.resetId)},typeToButtons:function(e){var t=0;return"touchstart"!==e&&"touchmove"!==e||(t=1),t},touchToPointer:function(e){var t=this.currentTouchEvent,n=l.cloneEvent(e),i=n.pointerId=e.identifier+2;n.target=C[i]||I(n),n.bubbles=!0,n.cancelable=!0,n.detail=this.clickCount,n.button=0,n.buttons=this.typeToButtons(t.type),n.width=2*(e.radiusX||e.webkitRadiusX||0),n.height=2*(e.radiusY||e.webkitRadiusY||0),n.pressure=e.force||e.webkitForce||.5,n.isPrimary=this.isPrimaryTouch(e),n.pointerType=this.POINTER_TYPE,n.altKey=t.altKey,n.ctrlKey=t.ctrlKey,n.metaKey=t.metaKey,n.shiftKey=t.shiftKey;var r=this;return n.preventDefault=function(){r.scrolling=!1,r.firstXY=null,t.preventDefault()},n},processTouches:function(e,t){var n=e.changedTouches;this.currentTouchEvent=e;for(var i,r=0;r<n.length;r++)i=n[r],t.call(this,this.touchToPointer(i))},shouldScroll:function(e){if(this.firstXY){var t,n=e.currentTarget._scrollType;if("none"===n)t=!1;else if("XY"===n)t=!0;else{var i=e.changedTouches[0],r=n,o="Y"===n?"X":"Y";t=Math.abs(i["client"+r]-this.firstXY[r])>=Math.abs(i["client"+o]-this.firstXY[o])}return this.firstXY=null,t}},findTouch:function(e,t){for(var n,i=0,r=e.length;i<r&&(n=e[i]);i++)if(n.identifier===t)return!0},vacuumTouches:function(e){var t=e.touches;if(P.size>=t.length){var n=[];P.forEach((function(e,i){if(1!==i&&!this.findTouch(t,i-2)){var r=e.out;n.push(r)}}),this),n.forEach(this.cancelOut,this)}},touchstart:function(e){this.vacuumTouches(e),this.setPrimaryTouch(e.changedTouches[0]),this.dedupSynthMouse(e),this.scrolling||(this.clickCount++,this.processTouches(e,this.overDown))},overDown:function(e){P.set(e.pointerId,{target:e.target,out:e,outTarget:e.target}),l.enterOver(e),l.down(e)},touchmove:function(e){this.scrolling||(this.shouldScroll(e)?(this.scrolling=!0,this.touchcancel(e)):(e.preventDefault(),this.processTouches(e,this.moveOverOut)))},moveOverOut:function(e){var t=e,n=P.get(t.pointerId);if(n){var i=n.out,r=n.outTarget;l.move(t),i&&r!==t.target&&(i.relatedTarget=t.target,t.relatedTarget=r,i.target=r,t.target?(l.leaveOut(i),l.enterOver(t)):(t.target=r,t.relatedTarget=null,this.cancelOut(t))),n.out=t,n.outTarget=t.target}},touchend:function(e){this.dedupSynthMouse(e),this.processTouches(e,this.upOut)},upOut:function(e){this.scrolling||(l.up(e),l.leaveOut(e)),this.cleanUpPointer(e)},touchcancel:function(e){this.processTouches(e,this.cancelOut)},cancelOut:function(e){l.cancel(e),l.leaveOut(e),this.cleanUpPointer(e)},cleanUpPointer:function(e){P.delete(e.pointerId),this.removePrimaryPointer(e)},dedupSynthMouse:function(e){var t=A.lastTouches,n=e.changedTouches[0];if(this.isPrimaryTouch(n)){var i={x:n.clientX,y:n.clientY};t.push(i);var r=function(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}.bind(null,t,i);setTimeout(r,2500)}}};k=new g(L.elementAdded,L.elementRemoved,L.elementChanged,L);var j,N,D,B=l.pointermap,z=window.MSPointerEvent&&"number"==typeof window.MSPointerEvent.MSPOINTER_TYPE_MOUSE,U={events:["MSPointerDown","MSPointerMove","MSPointerUp","MSPointerOut","MSPointerOver","MSPointerCancel","MSGotPointerCapture","MSLostPointerCapture"],register:function(e){l.listen(e,this.events)},unregister:function(e){l.unlisten(e,this.events)},POINTER_TYPES:["","unavailable","touch","pen","mouse"],prepareEvent:function(e){var t=e;return z&&((t=l.cloneEvent(e)).pointerType=this.POINTER_TYPES[e.pointerType]),t},cleanup:function(e){B.delete(e)},MSPointerDown:function(e){B.set(e.pointerId,e);var t=this.prepareEvent(e);l.down(t)},MSPointerMove:function(e){var t=this.prepareEvent(e);l.move(t)},MSPointerUp:function(e){var t=this.prepareEvent(e);l.up(t),this.cleanup(e.pointerId)},MSPointerOut:function(e){var t=this.prepareEvent(e);l.leaveOut(t)},MSPointerOver:function(e){var t=this.prepareEvent(e);l.enterOver(t)},MSPointerCancel:function(e){var t=this.prepareEvent(e);l.cancel(t),this.cleanup(e.pointerId)},MSLostPointerCapture:function(e){var t=l.makeEvent("lostpointercapture",e);l.dispatchEvent(t)},MSGotPointerCapture:function(e){var t=l.makeEvent("gotpointercapture",e);l.dispatchEvent(t)}};function F(e){if(!l.pointermap.has(e)){var t=new Error("InvalidPointerId");throw t.name="InvalidPointerId",t}}function V(e){for(var t=e.parentNode;t&&t!==e.ownerDocument;)t=t.parentNode;if(!t){var n=new Error("InvalidStateError");throw n.name="InvalidStateError",n}}function $(e){return 0!==l.pointermap.get(e).buttons}return window.navigator.msPointerEnabled?(j=function(e){F(e),V(this),$(e)&&(l.setCapture(e,this,!0),this.msSetPointerCapture(e))},N=function(e){F(e),l.releaseCapture(e,!0),this.msReleasePointerCapture(e)}):(j=function(e){F(e),V(this),$(e)&&l.setCapture(e,this)},N=function(e){F(e),l.releaseCapture(e)}),D=function(e){return!!l.captureInfo[e]},function(){if(T){w.forEach((function(e){String(e)===e?(E+=y(e)+_(e)+"\n",S&&(E+=b(e)+_(e)+"\n")):(E+=e.selectors.map(y)+_(e.rule)+"\n",S&&(E+=e.selectors.map(b)+_(e.rule)+"\n"))}));var e=document.createElement("style");e.textContent=E,document.head.appendChild(e)}}(),function(){if(!window.PointerEvent){if(window.PointerEvent=n,window.navigator.msPointerEnabled){var e=window.navigator.msMaxTouchPoints;Object.defineProperty(window.navigator,"maxTouchPoints",{value:e,enumerable:!0}),l.registerSource("ms",U)}else Object.defineProperty(window.navigator,"maxTouchPoints",{value:0,enumerable:!0}),l.registerSource("mouse",A),void 0!==window.ontouchstart&&l.registerSource("touch",L);l.register(document)}}(),window.Element&&!Element.prototype.setPointerCapture&&Object.defineProperties(Element.prototype,{setPointerCapture:{value:j},releasePointerCapture:{value:N},hasPointerCapture:{value:D}}),{dispatcher:l,Installer:g,PointerEvent:n,PointerMap:i,targetFinding:c}}()},function(e,t,n){n(63);var i=n(2),r={},o=n(65),a=n(0),s={},u={UISkinController:o,create:function(e,t){return r[e]||(r[e]=new u.UISkinController(e,"string"==typeof t?document.querySelector(t):t)),r[e]},remove:function(e){r[e]&&delete r[e]},get:function(e){return r[e]},require:function(e){return i.app.util.requirePromise(e,window.requirejs.config(s))}};e.exports={configure:function(e){return s=a.expand({},e||{}),{skin:u}}}},function(e,t,n){var i=n(4),r=n(64);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};i(r,o);e.exports=r.locals||{}},function(e,t,n){(t=n(5)(!1)).push([e.i,".skin-holder {\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  overflow: hidden;\n  pointer-events: none;\n  display: flex;\n  flex-direction: column;\n  touch-action: none;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n  /*\n    font-family: Verdana, Geneva, Tahoma, sans-serif;\n    font-size: 12px;\n    color: white;\n    .skin-control {\n        background-color: rgba(100, 120, 140, .7);\n    }\n    */\n}\n.skin-holder > * {\n  pointer-events: auto;\n}\n.skin-holder button,\n.skin-holder select,\n.skin-holder input[type=button],\n.skin-holder input[type=checkbox] {\n  display: inline-block;\n  border: none;\n  padding: 0.4em;\n  cursor: pointer;\n  font-family: inherit;\n  font-size: inherit;\n  color: inherit;\n}\n.skin-holder button,\n.skin-holder input[type=button] {\n  min-width: 4em;\n}\n.skin-holder input[type=range] {\n  width: 100%;\n  margin: 0;\n  padding: 0;\n}\n.skin-holder label {\n  font-weight: bold;\n  margin-right: 0.5em;\n}\n.skin-holder label > * {\n  margin-left: 0.5em;\n}\n.skin-holder .skin-container {\n  display: flex;\n}\n.skin-holder .skin-container.row {\n  flex-direction: row;\n}\n.skin-holder .skin-container.col {\n  flex-direction: column;\n}\n.skin-holder .skin-toolbar {\n  z-index: 100;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  white-space: nowrap;\n  padding: 0 0.5em;\n  height: 3em;\n  min-height: 3em;\n  flex: 0 0 auto;\n}\n.skin-holder .skin-toolbar .skin-container {\n  align-items: center;\n  flex-grow: 1;\n  margin: 0 0.5em;\n}\n.skin-holder .skin-toolbar .skin-container.left {\n  justify-content: flex-start;\n  order: -1;\n  flex-grow: 0;\n  margin-left: 0;\n}\n.skin-holder .skin-toolbar .skin-container.right {\n  justify-content: flex-end;\n  order: 1;\n  flex-grow: 0;\n  margin-right: 0;\n}\n.skin-holder .skin-toolbar .skin-control {\n  margin-right: 0.5em;\n}\n.skin-holder .skin-panel {\n  display: flex;\n  flex-direction: column;\n  padding: 0 1em;\n}\n.skin-holder .skin-img-button {\n  background-repeat: no-repeat;\n  margin: 0;\n  display: inline-block;\n  vertical-align: top;\n}\n",""]),e.exports=t},function(e,t,n){var i=n(0),r=n(10).EventEmitter,o=n(9).createElement,a=n(9).createElementsFromHTML,s=n(28),u=n(29);function l(e,t){return i.isNumber(t)?Array.prototype.slice.call(e,t):Array.prototype.slice.call(e)}function c(e,t,n){var r=t;return i.isString(t)&&(e+=t,r={}),o(e,r,l(arguments,2))}function d(e){return i.isObject(e)&&e.hasOwnProperty("$el")}var f=i.defineClass(r,(function(){this.setMaxListeners(0)}),{emit:function(e){r.prototype.emit.apply(this,arguments)},append:function(){this.$el&&Element.prototype.append.apply(this.$el,Array.prototype.slice.call(arguments).map((function(e){return d(e)?e.$el||"":e||""})))},remove:function(){arguments.length?Array.prototype.slice.call(arguments).forEach((function(e){if("string"==typeof e&&this.$el)return e=this.$el.querySelectorAll(e),void this.remove.apply(this,Array.prototype.slice.call(e));d(e)&&(e=e.$el),e&&e.parentNode&&e.parentNode.removeChild(e)}),this):d(this)&&this.$el&&this.$el.parentNode.removeChild(this.$el)}}),h=i.defineClass(f,(function(){f.call(this)}),{exports:function(e,t){if(Object.defineProperties(this,{$el:{value:e},element:{value:e}}),e&&e.classList&&Object.defineProperty(this,"classList",{value:e.classList}),t)for(var n in t)if(t.hasOwnProperty(n))switch(typeof t[n]){case"function":Object.defineProperty(this,n,{configurable:!0,enumerable:!0,writable:!0,value:t[n]});break;default:Object.defineProperty(this,n,t[n])}return this}}),p=i.defineClass(f,(function(e,t){f.call(this),this.name=e;var n=document.body;t?n=t:Cortona3DSolo.core&&Cortona3DSolo.core.canvas?n=Cortona3DSolo.core.canvas.parentNode:Cortona3DSolo.drawing&&Cortona3DSolo.drawing.svg&&(n=Cortona3DSolo.drawing.svg.parentNode);var i,r=n.querySelector(".skin-holder");r&&r.parentNode===n||(i=document.createElement("div"),n.insertBefore(i,n.firstChild).className="skin-holder",r=i),r.classList.add("skin-holder-"+function(e){return e.toLowerCase().replace(/\W/g,"")}(this.name)),Object.defineProperties(this,{$el:{value:r},element:{value:r},classList:{value:r.classList}})}),{render:function(e,t){var n,r=this;if(e){if(i.isString(e))return this.render(this.use(e,t),t);if(i.isFunction(e))return n=this.create(e,t),this.render(n,t);if(i.isObject(e)){if(d(e)||i.isHTMLNode(e))return this.append(e),e;if(i.isPromise(e))return e.then((function(e){return r.render(e,t)}));if(e.forEach)return res=e.map((function(e){return this.render(e,t)}),this),res.some((function(e){return i.isPromise(e)}))?Promise.all(res):res;if(i.isObject(e.rules)&&i.isFunction(e.render))return e.render(),e;if(e.component)return this.render(e.component,Cortona3DSolo.expand(e.options||{},t||{}))}}return e},register:function(e,t){return this.create(e,t)},use:function(e,t){var n=this;return i.isString(e)?Cortona3DSolo.skin.require(e).then((function(e){return n.create(e,t)})):i.isFunction(e)?Promise.resolve(this.create(e,t)):Promise.reject(new Error("The first argument in use() must be string or factory function."))},show:function(e){return i.isString(e)?e=document.querySelector(e):i.isUndefined(e)&&(e=this.$el),e&&(e.style.visibility="visible",e.style.display=""),e},hide:function(e,t){return i.isString(e)?e=document.querySelector(e):i.isUndefined(e)&&(e=this.$el,t=!0),e&&(e.style.visibility="hidden",t&&(e.style.display="none")),e},toggle:function(e,t){return i.isString(e)?e=document.querySelector(e):"boolean"==typeof e?t=e=this.$el:i.isUndefined(e)&&(e=this.$el),e&&(i.isUndefined(t)&&(t="none"===e.style.display),e.style.display=t?"":"none",e.style.visibility=t?"visible":"hidden"),t},clear:function(e){i.isString(e)?e=document.querySelector(e):i.isUndefined(e)&&(e=this.$el),e&&(e.innerHTML="")},create:function(e,t){function n(e){return Array.isArray(e)?e.map(n):d(e)?e.$el||"":e}if(i.isFunction(e)){var r=new h,a=e.call(r,this,t||{},Cortona3DSolo);return i.isUndefined(a)||(r=a),r||{}}return o.apply(this,Array.prototype.slice.call(arguments).map(n))},toolbar:function(e,t){var n=this.div.apply(this,arguments);return n.classList.add("skin-toolbar"),n},container:function(e,t){var n=this.div.apply(this,arguments);return n.classList.add("skin-container"),n},panel:function(e,t){var n=this.div.apply(this,arguments);return n.classList.add("skin-panel"),n},button:function(e,t){var n=c.apply(this,["button"].concat(l(arguments)));return n.classList.add("skin-control"),n},buttonImg:function(e,t){var n=this.span.apply(this,arguments);return n.classList.add("skin-img-button"),n},input:function(e,t){var n=c.apply(this,["input"].concat(l(arguments)));return n.classList.add("skin-control"),n},select:function(e,t){var n=c.apply(this,["select",e].concat(t.map((function(e){var t=e;return i.isString(e)&&(t={description:e}),this.create("option",{selected:t.selected,value:t.value},t.description)}),this)));return n.classList.add("skin-control"),n},list:function(e,t,n){return"ul"!==e&&"ol"!==e&&console.error('Type of list must be "ol" or "ul" only.'),c.apply(this,[e,t].concat(n.map((function(e){return this.create("li",{},e)}),this)))},ul:function(e,t){return this.list("ul",e,t)},ol:function(e,t){return this.list("ol",e,t)},dl:function(e,t){var n=this;return c.apply(this,["dl",e].concat(t.reduce((function(e,t){return e.concat(n.create("dt",{},t.term),n.create("dd",{},t.def))}),[])))},text:function(e,t){var n=this.span.apply(this,arguments);return n.classList.add("skin-text"),n},label:c.bind(this,"label"),p:c.bind(this,"p"),a:c.bind(this,"a"),span:c.bind(this,"span"),div:c.bind(this,"div"),isHidden:function(e){return!e.offsetWidth&&!e.offsetHeight},isVisible:function(e,t){var n=e.getBoundingClientRect(),i=(this.$el||this.element).getBoundingClientRect();return n.top>=i.top&&n.bottom<=i.bottom&&(!t||n.left>=i.left&&n.right<=i.right)},createElement:o,html:a,css:s,color:u});e.exports=p},function(e,t,n){var i=n(67),r=n(0).isFunction;function o(e,t){return t.split(".").reduce((function(e,t){return e&&e[t]}),e)}function a(e,t){for(var n,i=e,r=/^\.+\//,o=t.slice(0,t.length-1);o.length&&r.test(i);)i=(n=(n=o.pop()).substr(n.indexOf("!")+1)).substr(0,n.lastIndexOf("/")+1)+i;return i}var s={},u=Promise.resolve(),l=null;function c(e,t){if(t=t||{},!s[e]){function n(t,n){if(y.shim[t])return function(e,t){var n=y.shim[e];return m(n.deps||[],(function(){return d(e,t).then(n.exportsFn||function(){return n.init&&n.init()||o(window,n.exports)})}),null,t)}(t,n);var i,r=((i={}).promise=new Promise((function(e,t){i.resolve=e,i.reject=t})),i);return r.name=t,r.path=n,r.context=e,function(e,t){function n(){l=null}u=u.then((function(){return l=e,t()})).then(n,n)}(r,(function(){return d(t,n).catch((function(){r.reject(new Error('Error while loading module "'+t+'"'))}))})),r.promise}function d(e,t){return new Promise((function(n,i){var r=v.load(null,e,w(e,t,!0));r.onerror=i,r.onload=n}))}var f=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,h=/[^.]\s*require\s*\(\s*["']([^!'"\s][^'"\s]*)["']\s*\)/g;function p(e,t,n){var i=[];return t.toString().replace(f,"").replace(h,(function(e,t){i.push(t)})),{deps:i,factory:function(){var r=arguments,o=i.reduce((function(e,t,n){return e[t]=r[n],e}),{});function a(e){if(!o[e])throw new Error('Module "'+i+'" has not been loaded yet');return o[e]}return a.toUrl=function(e){return w(e,n)},t(a,_.exports(e),_.module(e))}}}function m(e,t,i,s){var u=s.slice(-1)[0];return new Promise((function(t,i){Promise.all(e.map((function(e){if(s.indexOf(e)>-1)return Promise.reject(new Error("Circular dependency: "+s.concat(e).join(" -> ")));var t=s.concat(e);return _[e]?_[e](u):(e.indexOf("!")>-1&&(g[e]=function(e,t){var n=e.indexOf("!"),i=e.substr(0,n),r=c(null).getContext();return e=e.substr(n+1),r._require([i],(function(n){return new Promise((function(i,r){function o(){if(!s)return v.apply(null,arguments)}Object.keys(v).forEach((function(e){o[e]=v[e]}));var s=!1;i.error=r,i.fromText=function(e,n){n||(n=e);var o=l;l={name:e,resolve:i,reject:r,path:t},new Function(n)(),l=o,s=!0},n.load(a(e,t),o,i,y)}))}),null,t)}(e,t)),b[e]?g[e]=Promise.resolve().then((function(){return m.apply(null,b[e].concat([t]))})):g[e]||(g[e]=n(e,t)),g[e])}))).then(t,i)})).then((function(e){if(r(t)){var n=t.apply(null,e);return u&&o(g[u],"module.exports")||n}return t}),(function(e){return r(i)&&i(e),v.onError(e),Promise.reject(e)}))}function v(e,t,n){return m(e,t,n,[])}var g,b,y,_={require:function(e){return v},module:function(e){var t=g[e];if(!t)throw new Error('Module "module" should be required only by modules');return t.module=t.module||{id:e,config:function(){return y.config[e]||{}}}},exports:function(e){return _.module(e).exports={}}};function w(e,t,n){var i=Object.keys(y.bundles).filter((function(t){return y.bundles[t].indexOf(e)>-1}))[0];return i?v.toUrl(i):(y.paths[e]?(e=y.paths[e],n&&(e+=".js")):(n&&(e=function(e){return/^\/|:|\?|\.js$/.test(e)?e:e+".js"}(e)),t&&(e=a(e,t))),/^([\w\+\.\-]+:)?\//.test(e)||(e=y.baseUrl+e),y.urlArgs&&(e+="?"+y.urlArgs),e)}v.resetContext=function(){y={urlArgs:"",baseUrl:"./",paths:{},shim:{},bundles:{},config:{}},g={},b={}},v.config=function(e){if(e.context)return c(e.context,e);y=i(y,e)},v.load=function(e,t,n){var i=document.createElement("script");return i.src=n,i.async=!0,document.getElementsByTagName("body")[0].appendChild(i),i},v.toUrl=function(e){return w(e)},v.specified=function(e){return g.hasOwnProperty(e)},v.onError=function(e){console.error(e)},v.resetContext(),v.getContext=function(){return{config:y,modules:g,predefines:b,wrapCommonJS:p,_require:m}},s[e]=v}var E=i({},t);return delete E.context,s[e].config(E),s[e]}function d(e,t,n){"string"!=typeof e&&(n=t,t=e,e=null),Array.isArray(t)||(n=t,t=[]);var i=l,r=c(e?null:i&&i.context).getContext();if(null===e&&!i)throw new Error("Unexpected define!");if(0===t.length&&n.length>0){var o=r.wrapCommonJS(e||i.name,n,[].concat(i.path,""));t=o.deps,n=o.factory}if(null===e||i&&i.name===e){var a=r._require(t,n,i.reject,i.path);i.resolve(a)}else r.predefines[e]=[t,n,null]}d.amd={};var f=c(null);e.exports={define:d,require:f,requirejs:f}},function(e,t){e.exports=function e(t,n){var i=Array.isArray(n),r=i&&[]||{};return i?(t=t||[],r=r.concat(t),n.forEach((function(n,i){void 0===r[i]?r[i]=n:"object"==typeof n?r[i]=e(t[i],n):-1===t.indexOf(n)&&r.push(n)}))):(t&&"object"==typeof t&&Object.keys(t).forEach((function(e){r[e]=t[e]})),Object.keys(n).forEach((function(i){"object"==typeof n[i]&&n[i]&&t[i]?r[i]=e(t[i],n[i]):r[i]=n[i]}))),r}},function(e,t){define("res",(function(){return{load:function(e,t,n,i){n(t.toUrl(e))}}}))},function(e,t){define("file",(function(){return{load:function(e,t,n,i){n(t.toUrl(e))}}}))},function(e,t){define("css",(function(){return{load:function(e,t,n,i){var r=document.createElement("link");r.href=t.toUrl(e),Array.prototype.slice.call(document.getElementsByTagName("head")[0].querySelectorAll("link[rel=stylesheet]")).some((function(e){return e.href===r.href}))?n({}):(r.rel="stylesheet",r.type="text/css",r.onload=n,r.onerror=n.error,document.getElementsByTagName("head")[0].appendChild(r))}}}))},function(e,t){define("json",(function(){return{load:function(e,t,n,i){Cortona3DSolo.app.util.loadResource(t.toUrl(e),"application/json","json").then((function(t){if(null===t.response)throw new Error('Failed parsing JSON file "'+e+'"');if("string"==typeof t.response){var i=JSON.parse(t.response);if(!i)throw new Error('Failed parsing JSON file "'+e+'"');n(i)}else n(t.response)})).catch(n.error)}}}))},function(e,t){define("xml",(function(){return{load:function(e,t,n,i){Cortona3DSolo.app.util.loadResource(t.toUrl(e),"text/xml").then((function(e){if(!e.responseXML)throw new Error(url+" empty content");n(Cortona3DSolo.app.util.xmlToJSON(e.responseXML))})).catch(n.error)}}}))}])}));
//# sourceMappingURL=Cortona3DSolo.js.map